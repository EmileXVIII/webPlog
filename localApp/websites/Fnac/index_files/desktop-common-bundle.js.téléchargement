(window._fnac_desktop=window._fnac_desktop||[]).push([[0],{"/RAl":function(e,t,i){"use strict";i("91GP"),i("rE2o"),i("ioFf"),i("rGqo"),i("4wRS");var n={},s=!0,a=!1,r=void 0;try{for(var o,l=document.getElementsByClassName("js-translations")[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var c=o.value;try{Object.assign(n,JSON.parse(c.text))}catch(e){console.error(e)}}}catch(e){a=!0,r=e}finally{try{s||null==l.return||l.return()}finally{if(a)throw r}}t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return e=e.toLowerCase(),n.hasOwnProperty(e)?n[e].replace(/{(\d+)}/,(function(e,t){var n=i[parseInt(t)];return null==n?"":n})):'[translation "'.concat(e,'"').concat(i.map((function(e){return' "'.concat(String(e).replace(/"/g,"\\$&"),'"')})).join(""),"]")}},"0MKA":function(e,t,i){"use strict";i("j29f"),i("RW0V"),i("rE2o"),i("ioFf"),i("dRSK"),i("OG14"),i("rGqo"),i("yt8O"),i("XfO3"),i("9AAn");var n=i("RIqP"),s=i.n(n),a=(i("fN96"),i("xfY5"),i("h/M4"),i("a1Th"),i("lwsE")),r=i.n(a),o=i("W8MJ"),l=i.n(o),c=i("yfbN"),d=i("q1z7"),u=i.n(d),h=i("p46w"),p=i.n(h),f=i("z0Te"),v=i("EVdn"),m=i.n(v),b=(i("F/us"),i("TMt3")),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;r()(this,e),this._key=t,this._size=Number.isInteger(i)?i:5}return l()(e,[{key:"_read",value:function(){try{return s()(JSON.parse(localStorage.getItem(this._key)||"[]")).reduce(this._add,new Map)}catch(e){return new Map}}},{key:"_write",value:function(e){var t=s()(e.values()).slice(Math.max(e.size-this._size,0),e.size);try{localStorage.setItem(this._key,JSON.stringify(t))}catch(e){}}},{key:"_add",value:function(e,t){var i=t.cat,n=t.search;return n=n.toLowerCase(),e.set(n,{search:n,cat:i}),e}},{key:"values",value:function(){return this._read().values()}},{key:"add",value:function(e){return this._write(this._add(this._read(),e)),this}},{key:"clear",value:function(){localStorage.removeItem(this._key)}}]),e}();t.a=u.a.View.extend({initialize:function(){this.close=this.close.bind(this),this.open=this.open.bind(this),this.resize=this.resize.bind(this),this.isOpened=!1,this.$close=this.$(".js-HeaderSearch-close"),this.$content=this.$(".js-Header-search"),this.$open=this.$(".js-HeaderSearch-open"),this.$searchField=this.$(".js-HeaderSearch-input"),this.$searchClear=this.$(".js-HeaderSearch-inputClear"),this.$tabs=this.$(".Header-tabs"),this.$searchPlaceholder=this.$searchField.data("placeholder",this.$searchField.attr("placeholder"));var e=new g("searchHistory");if(""!==this.$searchField.val()){var t=this.$content.find(".js-Header__search-dropdown").val(),i=this.$searchField.val();e.add({cat:t,search:i})}new c.a({collection:new u.a.Collection(s()(e.values())),input:this.$searchField}).on("clear",(function(){e.clear()})),m()(window).on("resize",this.resize),void 0!==p.a.get("usf")&&this.loadLastSearch()},events:{"click      .js-HeaderSearch-open":"open","click      .js-HeaderSearch-close":"close","keyup      .js-HeaderSearch-input":"keyUp","click      .js-HeaderSearch-inputClear":"clear","blur       .js-HeaderSearch-input":"placeholderReset","focus      .js-HeaderSearch-input":"placeholderClear"},keyUp:function(e){this.showCrossClear(e)},resize:function(){this.isOpened&&(this.isOpened=!1)},open:function(){this.isOpened=!0,this.render()},close:function(){this.isOpened=!1,this.render()},loadLastSearch:function(){var e=0,t=new URLSearchParams(location.search.substr(1));t.has("SearchResult")?(t.has("SCat")?e=p.a.get("usf"):p.a.set("usf",e,{expires:90,path:f.cookiesPath,domain:f.cookiesHostname}),this.$('.contain > li[data-value="'+e+'!1"]').trigger("click"),this.$(".fake-box").removeClass("actived"),this.$(".contain").addClass("hide")):(this.$('.contain > li[data-value="'+e+'!1"]').trigger("click"),this.$(".fake-box").removeClass("actived"),this.$(".contain").addClass("hide"))},render:function(){this.$content.toggleClass("active"),this.$open.parent().toggleClass("isHidden"),this.isOpened||this.$searchField.focus()},showCrossClear:function(){this.$searchField.val().length>0?(b.a.trigger("overlay:show",{noSpinner:!0}),this.$searchClear.addClass("on")):(this.$searchClear.removeClass("on"),this.placeholderClear())},clear:function(){this.$searchField.val("").change().trigger(m.a.Event("keydown",{keyCode:46})).trigger(m.a.Event("keypress",{keyCode:46})),this.$searchClear.removeClass("on"),this.$searchField.focus()},placeholderClear:function(){},placeholderReset:function(){}})},"0oqP":function(e,t,i){"use strict";(function(e,n){i.d(t,"a",(function(){return h}));var s=i("o0o1"),a=i.n(s),r=(i("ls82"),i("yXPU")),o=i.n(r),l=(i("uMff"),i("rE2o"),i("ioFf"),i("rGqo"),i("lwsE")),c=i.n(l),d=i("W8MJ"),u=i.n(d),h=(i("HMb/"),function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c()(this,t),this._element=i,this._options=n,this._element instanceof e&&(this._element=this._element.toArray()),this._element&&void 0===this._element.length&&(this._element=[this._element]),this._options.noBind||this._bind()}var s;return u()(t,[{key:"_bind",value:function(){var e=this;if(this._element){var t=!0,i=!1,n=void 0;try{for(var s,a=this._element[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){s.value.addEventListener("click",(function(t){t.preventDefault(),e.open(e._options)}),!1)}}catch(e){i=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw n}}}}},{key:"open",value:(s=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(13).then(i.t.bind(null,"YisV",7));case 2:if(!this._element){e.next=6;break}return n(this._element).magnificPopup(t),n(this._element).magnificPopup("open"),e.abrupt("return");case 6:n.magnificPopup.open(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"close",value:function(){var e=this.instance;e&&e.close()}},{key:"instance",get:function(){return n.magnificPopup&&n.magnificPopup.instance||null}}]),t}())}).call(this,i("EVdn"),i("EVdn"))},"2Iq7":function(e,t,i){"use strict";i("a1Th");var n="function"==typeof window.IntersectionObserver&&Function.prototype.toString.call(IntersectionObserver).indexOf("[native code]")>=0&&window.IntersectionObserver;t.a=n||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.root,n=void 0===i?null:i,s=t.rootMargin,a=void 0===s?"0%":s,r=t.threshold,o=void 0===r?[0]:r,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,c=null,d=[],u=[];return{root:n,rootMargin:a,threshold:o,observe:function(t){var i=this;d.indexOf(t)>=0||(d.push(t),u.indexOf(t)<0&&u.push(t),null===c&&(c=setTimeout((function(){c=null;var t=i.takeRecords();0!==t.length&&e(t,i)}),l)))},unobserve:function(e){var t=d.indexOf(e);t<0||d.splice(t,1)},disconnect:function(){d.length=0,u.length=0,clearTimeout(c),c=null},takeRecords:function(){for(var e=[],t=Date.now(),i=0;i<u.length;i++){var n=u[i];d.indexOf(n)<0||e.push({target:n,isIntersecting:!0,time:t})}return u.length=0,e}}}},"3TcC":function(e,t,i){"use strict";i("uMff"),i("rE2o"),i("ioFf"),i("rGqo"),i("yt8O"),i("XfO3"),i("wCsR");var n=i("cDf5"),s=i.n(n),a=(i("9qp4"),i("/7Lr"),i("F04A")),r=(i("HEwt"),i("J4zp")),o=i.n(r),l=(i("9AAn"),i("lwsE")),c=i.n(l),d=i("W8MJ"),u=i.n(d),h=i("V36v"),p=i("2Iq7"),f={childList:!0,subtree:!0,attributes:!0},v=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.root,s=i.rootMargin,a=i.threshold;c()(this,e),this._domMutate=this._domMutate.bind(this),this._collections=new Map,this._observingMutations=!1,this._mutationObserver=new h.a(this._domMutate),this._intersectionObserver=new p.a(t,{root:n,rootMargin:s,threshold:a})}return u()(e,[{key:"_domMutate",value:function(e){var t=!0,i=!1,n=void 0;try{for(var s,a=this._collections[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=o()(s.value,2),l=r[0],c=r[1],d=!0,u=!1,h=void 0;try{for(var p,f=c[Symbol.iterator]();!(d=(p=f.next()).done);d=!0){var v=p.value;this._intersectionObserver.unobserve(v)}}catch(e){u=!0,h=e}finally{try{d||null==f.return||f.return()}finally{if(u)throw h}}for(var m=Array.from(l),b=0;b<m.length;b++){var g=m[b];this._intersectionObserver.observe(g)}this._collections.set(l,m)}}catch(e){i=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw n}}}},{key:"observe",value:function(e){if(e&&!this._collections.has(e)){for(var t=Array.from(e),i=0;i<t.length;i++){var n=t[i];this._intersectionObserver.observe(n)}this._collections.set(e,t),this._observingMutations||(this._mutationObserver.observe(this.root||document,f),this._observingMutations=!0)}}},{key:"unobserve",value:function(e){var t=this._collections.get(e);if(t){this._collections.delete(e);var i=!0,n=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;this._intersectionObserver.unobserve(o)}}catch(e){n=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw s}}this._observingMutations&&0===this._collections.size&&this.disconnect()}}},{key:"disconnect",value:function(){this._collections.clear(),this._mutationObserver.disconnect(),this._intersectionObserver.disconnect(),this._observingMutations=!1}},{key:"root",get:function(){return this._intersectionObserver.root}},{key:"rootMargin",get:function(){return this._intersectionObserver.rootMargin}},{key:"threshold",get:function(){return this._intersectionObserver.threshold}}]),e}();function m(e){var t="data-track-".concat(e.type),i=e.target.closest("[".concat(t,"]"));if(i){var n,r=i.getAttribute(t);try{n=JSON.parse(r)}catch(e){return void console.error(new SyntaxError("Invalid JSON syntax for the ".concat(t," attribute")),e,i)}null===n||"object"!==s()(n)||n instanceof Array?console.error(new SyntaxError("Invalid JSON type, should be an object for ".concat(t," attribute")),i):(n.target=n.target||i,n.source=e,Object(a.b)(n))}}for(var b=["click","submit","input","change"],g=0;g<b.length;g++){var y=b[g];document.addEventListener(y,m)}var w=new WeakSet;new v((function(e){var t=!0,i=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value,o=r.target,l=r.isIntersecting;!w.has(o)&&l&&(w.add(o),m({type:"impression",target:o}))}}catch(e){i=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw n}}})).observe(document.getElementsByClassName("js-track-impression"))},"3r9B":function(e,t,i){"use strict";var n=i("q1z7"),s=i.n(n),a=i("EVdn"),r=i.n(a),o=i("TMt3"),l=i("BFXc"),c=i("z0Te");document.getElementsByClassName("js-Overlay").length||document.body.insertAdjacentHTML("beforeend",'<div class="Overlay js-Overlay"><div class="fnac-loader js-OverlaySpinner">'.concat(l.a.render({ClassName:"fnac-loader-svg",SymbolsUrl:c.symbolsURL,SymbolName:"icon_i_290_loader"}),"</div></div>")),t.a=s.a.View.extend({initialize:function(){this.$spinner=this.$(".js-OverlaySpinner"),this.isVisible=!1,this.hasSpinner=!1,this.currentClass="",this.listenTo(o.a,"overlay:show",this.show),this.listenTo(o.a,"overlay:hide",this.hide)},events:{click:"triggerClick"},triggerClick:function(){o.a.trigger("overlay:click")},show:function(e){e&&e.cssModifier?this.currentClass="Overlay--"+e.cssModifier:this.currentClass="",r()("#communautaire").length&&r()(".Main-marketingHeader").addClass("withNewHeader"),this.hasSpinner=!(e&&e.noSpinner),this.isVisible=!0,this.render()},hide:function(){this.isVisible=!1,this.render(),r()("#communautaire").length&&r()(".Main-marketingHeader").removeClass("withNewHeader")},render:function(){this.isVisible?(this.$spinner.css("display",this.hasSpinner?"":"none"),this.$el.addClass("Overlay--visible "+this.currentClass)):this.$el.removeClass("Overlay--visible "+this.currentClass)}})},"6+nl":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s()(this,e),this._executor=t,this._ttl=i,this._value=void 0,this._date=-1}return r()(e,[{key:"read",value:function(e){var t=performance.now();return(e||this._date<0||this._ttl>0&&t>this._date+this._ttl)&&(this._date=t,this._value=this._executor()),this._value}}]),e}()},"7c5C":function(e,t,i){"use strict";i("a9os");var n=i("q1z7"),s=i.n(n),a=i("z0Te"),r=i("p46w"),o=i.n(r),l=i("EVdn"),c=i.n(l),d=i("TMt3");i("XgSb"),i("Hb8b");t.a=s.a.View.extend({initialize:function(){this.detect_scroll=this.detect_scroll.bind(this),this.$main=c()(".Main"),this.$header=c()(".js-Header"),this.$sidebar=c()(".js-Sidebar"),this.$slidenav=c()(".SlideNav"),this.$slidenavToggler=c()(".js-SlideNav-toggler"),this.isMenuLoaded=!1,this.isSlideNavFixed=!1,this.isSlideNavOpen=!1,this.isSideBarOpen=!1,this.position=null,c()(window).scroll(this.detect_scroll),this.updateSidebarPosition(),this.checkTopBar()},events:{"click .js-SlideNav-toggler":"slideNavToggle","click .js-Main-exitSlideNav":"slideNavToggle","click .js-submenu-toggler":"sidebarToggle","click .js-Main-exitSideBar":"sidebarToggle","touchstart .js-Main-exitSideBar":"sidebarToggle","click .js-category-toggler":"categoryToggle","click .js-TopBar-close":"topBarClose"},checkTopBar:function(){c()(".TopBar").length&&"isActive"===o.a.get("FnacKoboOrange_push")&&(c()("body").addClass("TopBar-spacer"),c()(".TopBar").show())},topBarClose:function(){o.a.set("FnacKoboOrange_push","isActive",{expires:90,path:a.cookiesPath,domain:a.cookiesHostname}),c()("body").removeClass("TopBar-spacer"),c()(".TopBar").hide()},updateSidebarPosition:function(){this.$sidebar.length&&(this.isSlideNavFixed=!0)},detect_scroll:function(){if(!a.isMobile){var e=c()("body");"function"==typeof c()(".Sidebar-nano").nanoScroller&&c()(".Sidebar-nano").nanoScroller({scrollTop:e.scrollTop()})}},checkIfMegamenuExist:function(){this.isMenuLoaded?this.showSlideNav():(this.$slidenavToggler.addClass("isLoading"),this.getMegaMenu())},getMegaMenu:function(){var e=this;c.a.ajax({url:[a.pathname,"/api/header/v1/GetMegaMenu"].join(""),type:"POST",dataType:"json",data:JSON.stringify({data:{environment:{url:"",query:""},update:{request:{type:"GetMegaMenu",value:null}}}}),success:function(t){"global.data.content.megamenu.html"===t.update.response.actions[0]&&e.initMegaMenu(t.data.content.megamenu.html)}})},initMegaMenu:function(e){this.isMenuLoaded=!0;var t=c()(".SlideNav-loadWrapper");t.length&&(t.html(e),"function"==typeof c()(".nano").nanoScroller&&c()(".nano").nanoScroller({preventPageScrolling:!0}),this.showSlideNav(),this.$slidenavToggler.removeClass("isLoading"))},sidebarToggle:function(){this.isSideBarOpen?(this.isSideBarOpen=!1,this.hideSideBar()):(this.showSidebar(),this.isSideBarOpen=!0)},hideSideBar:function(){c()(".Main-exitMenu").removeClass("isActive"),this.$sidebar.removeClass("isActive"),this.$header.removeClass("isActive--inverse"),this.$main.removeClass("isActive--inverse")},showSidebar:function(){c()(".js-Main-exitSideBar").addClass("isActive"),this.$sidebar.addClass("isActive"),this.$header.addClass("isActive--inverse"),this.$main.addClass("isActive--inverse"),c()(".js-Main-exitSideBar").addClass("isActive")},slideNavToggle:function(e){e.preventDefault(),this.isSlideNavOpen?(this.isSlideNavOpen=!1,this.hideSlideNav()):(this.checkIfMegamenuExist(),this.isSlideNavOpen=!0)},hideSlideNav:function(){c()(".Main-exitMenu").removeClass("isActive"),this.$slidenav.removeClass("isActive"),this.$header.removeClass("isActive"),this.$main.removeClass("isActive"),this.$slidenavToggler.removeClass("isActive isFixed"),this.$sidebar.removeClass("isFixed"),d.a.trigger("categorynav:removepanel")},showSlideNav:function(){c()(".js-Main-exitSlideNav").addClass("isActive"),this.$slidenav.addClass("isActive"),this.$header.addClass("isActive"),this.$main.addClass("isActive"),this.$slidenavToggler.addClass("isActive isFixed"),this.$sidebar.addClass("isFixed"),d.a.trigger("header-tab:close"),c()(".js-Main-exitSlideNav").addClass("isActive")},categoryToggle:function(e){e.preventDefault(),e.stopImmediatePropagation(),"function"==typeof c()(".nano").nanoScroller&&c()(".nano").nanoScroller();var t=c()(e.currentTarget).parent().hasClass("isClose"),i=c()(e.currentTarget).parent();t?i.removeClass("isClose"):i.addClass("isClose")}})},"88ZB":function(e,t,i){"use strict";i("3xKP"),i("dRSK");var n=i("q1z7"),s=i.n(n),a=i("TMt3"),r=i("BFXc"),o=i("z0Te");t.a=s.a.View.extend({initialize:function(){this.loader='<div class="Overlay Overlay--inside js-Overlay Overlay--visible">'.concat(r.a.render({ClassName:"fnac-loader-svg",SymbolsUrl:o.symbolsURL,SymbolName:"icon_i_290_loader"}),"</div>"),this.listenTo(a.a,"loader:showIn",this.showIn),this.listenTo(a.a,"loader:hideIn",this.hideIn)},showIn:function(e){this.$element=e.$element||e.currentThumb,this.$element.prepend(this.loader)},hideIn:function(){var e=this;setTimeout((function(){e.$element.find(".Overlay").removeClass("Overlay--visible"),e.$element.find(".Overlay").remove()}),250)}})},"8GHS":function(e,t,i){"use strict";i("dRSK");var n=i("q1z7"),s=i.n(n),a=i("z0Te");t.a=s.a.View.extend({initialize:function(e){var t;window.HopScore&&(window.HopScore.apiKey=this.$el.data("api-key"),window.HopScore.lang=this.$el.data("lang"),window.HopScore.hash=this.$el.data("hash"),window.HopScore.activateTracking=!1,window.HopScore.trackerProvider=null,window.HopScore.initializationCompleted=(t=this.$el,function(){this.getScoreAvailability(t.data("ean"))?t.addClass("js-HopScore-active"):(t.find(".Note-env-left").append("<span class='Note-env-notYet'>La note environnementale est en cours de calcul et sera affichée prochainement.</span>"),t.find(".Note-env-right").append("<span class='Note-env-notYet-link'><a href='"+a.pathname+"/la-note-environnementale' target='_blank'>Plus d'informations</a></span>"))}),window.HopScore.initialize())}})},"8Tlq":function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));i("69j8");var n=i("o0o1"),s=i.n(n),a=(i("3xKP"),i("ls82"),i("lwsE")),r=i.n(a),o=i("W8MJ"),l=i.n(o),c=(i("9AAn"),i("yXPU")),d=i.n(c),u=(i("VRzm"),i("9qp4"),i("rE2o"),i("ioFf"),i("rGqo"),i("yt8O"),i("XfO3"),i("EK0E"),i("2Iq7")),h="".concat("js-LazyImage","--loading"),p="".concat("js-LazyImage","--complete"),f="".concat("js-LazyImage","--error"),v=0,m=new WeakMap,b=new u.a((function(e){var t=!0,i=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value,o=r.target;if(r.isIntersecting)m.get(o).load()}}catch(e){i=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw n}}}),{root:null,rootMargin:"10% 0px",threshold:.01});function g(){return new Promise((function(e){return requestAnimationFrame(e)}))}function y(e){return w.apply(this,arguments)}function w(){return(w=d()(s.a.mark((function e(t){var i,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=n.length>1&&void 0!==n[1]?n[1]:new Image).decoding="async",i.src=t,e.next=5,i.decode();case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var C=new Map,T=function(){function e(t){var i=t.el;r()(this,e),this._element=i,this._readyState=v,m.set(i,this),b.observe(i)}var t;return l()(e,[{key:"load",value:(t=d()(s.a.mark((function e(){var t,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._readyState===v){e.next=2;break}return e.abrupt("return");case 2:if(this._readyState=1,e.prev=3,"IMG"!==this._element.tagName||!this._element.hasAttribute("data-lazyimage")){e.next=11;break}return e.next=7,y(this._element.getAttribute("data-lazyimage"),this._element);case 7:return e.next=9,g();case 9:e.next=30;break;case 11:if(!this._element.hasAttribute("data-lazyimage-background")){e.next=27;break}if(t=this._element.getAttribute("data-lazyimage-background"),!C.has(t)){e.next=18;break}return e.next=16,C.get(t);case 16:e.next=22;break;case 18:return i=y(t),C.set(t,i),e.next=22,i;case 22:return e.next=24,g();case 24:this._element.style.backgroundImage='url("'.concat(t,'")'),e.next=30;break;case 27:return e.next=29,g();case 29:throw new Error("Lazyload error: Invalid URI");case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(3),this._element.classList.add(f),console.error(e.t0,this._element);case 36:this._element.classList.remove(h),this._element.classList.add(p),this._readyState=1;case 39:case"end":return e.stop()}}),e,this,[[3,32]])}))),function(){return t.apply(this,arguments)})}]),e}()},"9ul0":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("9qp4"),i("T1nF"),i("uMff");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("PrP4"),l=function(){function e(t){var i=t.el;s()(this,e),this.el=i,this._handleWishlistInput=this._handleWishlistInput.bind(this),this._handleArticleThumbnailWishlist=this._handleArticleThumbnailWishlist.bind(this),this._dialog=new o.a,this.el.appendChild(this._dialog.el),this.el.addEventListener("wishlistinput",this._handleWishlistInput),this.el.ownerDocument.addEventListener("articlethumbnailwishlist",this._handleArticleThumbnailWishlist)}return r()(e,[{key:"_handleWishlistInput",value:function(e){e.stopPropagation();var t=e.detail,i=t.prid,n=t.catalog,s=t.offer;this._dialog.prid=i,this._dialog.catalog=n,this._dialog.offer=s,this._dialog.show(),this.el.dispatchEvent(new Event("articlethumbnailwishlist",{bubbles:!0}))}},{key:"_handleArticleThumbnailWishlist",value:function(e){e.target!==this.el&&this._dialog.close()}}]),e}()},ADOO:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("lwsE"),s=i.n(n),a=i("a1gu"),r=i.n(a),o=i("Nsbk"),l=i.n(o),c=i("7W2i"),d=i.n(c),u=i("E11k"),h=function(e){function t(e){var i=e.el;return s()(this,t),r()(this,l()(t).call(this,{el:i,className:"select-theme-chosen"}))}return d()(t,e),t}(i.n(u).a)},BJwo:function(e,t,i){"use strict";var n=i("lwsE"),s=i.n(n),a=i("a1gu"),r=i.n(a),o=i("Nsbk"),l=i.n(o),c=i("7W2i"),d=i.n(c),u=i("0oqP"),h=i("z0Te"),p=i("/RAl"),f=i("BFXc"),v=i("cK6b");var m=new(i.n(v).a.Template)({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<div id="koboPartner"><h2 class="Popin-title"> '),n='T "front.core.views.product.fa.webbuybox.kobopopin.title"',s.d(n,e,t,1)?s.b(s.v(s.d(n,e,t,0))):s.b(s.v(Object(p.a)("front.core.views.product.fa.webbuybox.kobopopin.title"))),s.b(' </h2><div class="Popin-content"><p>'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(p.a)("front.core.views.product.fa.webbuybox.kobopopin.content")))}('T "front.core.views.product.fa.webbuybox.kobopopin.content"'),s.b('</p></div><div class="Popin-action"> '),s.s(s.f("withLogo",e,t,1),e,t,0,257,467,"{{ }}")&&(s.rs(e,t,(function(e,t,n){n.b(' <a class="koboPartner-button" href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" target="_blank"><span>'),function(i){n.d(i,e,t,1)?n.b(n.v(n.d(i,e,t,0))):n.b(n.v(Object(p.a)("front.core.views.product.fa.blocprice.multiformat.ebook")))}('T "front.core.views.product.fa.blocprice.multiformat.ebook"'),n.b("</span>  \r"),n.b("\n"+i),n.b("      "),function(i){n.f(i,e,t,1)?n.b(n.v(n.f(i,e,t,0))):n.b(f.a.ri(e.concat({ClassName:["koboPartner-logo"].join(" "),SymbolsUrl:h.symbolsURL,SymbolName:"icon_i_logo_kobo-by-fnac"}),t,""))}('Symbol "icon_i_logo_kobo-by-fnac" "koboPartner-logo"'),n.b(" </a> ")})),e.pop()),s.b(" "),s.s(s.f("withLogo",e,t,1),e,t,1,0,0,"")||(s.b(' <a class="ff-button ff-button--small ff-button--orange" href="'),s.b(s.v(s.f("url",e,t,0))),s.b('" target="_blank"><span class="ff-button-icon">'),function(i){s.f(i,e,t,1)?s.b(s.v(s.f(i,e,t,0))):s.b(f.a.ri(e.concat({ClassName:[].join(" "),SymbolsUrl:h.symbolsURL,SymbolName:"icon_i_075_Download"}),t,""))}('Symbol "icon_i_075_Download"'),s.b('</span><span class="ff-button-label">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(p.a)("front.core.views.product.fa.webbuybox.kobopopin.link")))}('T "front.core.views.product.fa.webbuybox.kobopopin.link"'),s.b("</span></a> ")),s.b(' </div><button title="Close (Esc)" type="button" class="mfp-close">×</button></div>'),s.fl()},partials:{},subs:{}},"");i.d(t,"a",(function(){return b}));var b=function(e){function t(e){var i=e.el;return s()(this,t),r()(this,l()(t).call(this,i,{items:{src:m.render({url:i.href,withLogo:"ES"===h.region}),showCloseBtn:!0}}))}return d()(t,e),t}(u.a)},CGGW:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("o0o1"),s=i.n(n),a=(i("ls82"),i("yXPU")),r=i.n(a),o=i("lwsE"),l=i.n(o),c=i("W8MJ"),d=i.n(c),u=i("EVdn"),h=i.n(u),p=(i("WBtJ"),function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l()(this,e),this.element=t,this.options=i}var t;return d()(e,[{key:"run",value:(t=r()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(16).then(i.t.bind(null,"VV8U",7));case 2:return e.abrupt("return",h()(this.element).addClass("owl-carousel").owlCarousel(this.options));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}())},DUPF:function(e,t,i){"use strict";i("dRSK");var n=i("q1z7"),s=i.n(n);t.a=s.a.View.extend({initialize:function(){this.node=this.$el,this.content=this.node.find(".js-Content"),this.iconPlus=this.node.find(".js-moreContentNav-plus"),this.iconLess=this.node.find(".js-moreContentNav-less"),this.isOpened=!1},events:{"click .js-ContentToggle":"open"},open:function(e){e.preventDefault(),this.render()},getCssClass:function(){this.isOpened?(this.content.prop("className","CategoryNav-moreContentNav js-Content"),this.iconPlus.addClass("js-moreContentNav--active"),this.iconLess.removeClass("js-moreContentNav--active"),this.isOpened=!1):(this.content.prop("className","CategoryNav-moreContentNav js-Content js-moreContentNav--active"),this.iconLess.addClass("js-moreContentNav--active"),this.iconPlus.removeClass("js-moreContentNav--active"),this.isOpened=!0)},render:function(){this.getCssClass()}})},Do2a:function(e,t,i){"use strict";i("XfO3"),i("HEwt"),i("a9os"),i("3xKP"),i("4wRS"),i("KKXr"),i("/7Lr"),i("dRSK");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("a1gu"),l=i.n(o),c=i("Nsbk"),d=i.n(c),u=i("7W2i"),h=i.n(u),p=i("q1z7"),f=i.n(p),v=i("z0Te"),m=i("EVdn"),b=i.n(m),g=i("F/us"),y=i.n(g),w=i("TMt3"),C=(i("/RAl"),i("BFXc"),i("cK6b"));var T=new(i.n(C).a.Template)({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<ul class="Carousel-dotList js-Carousel-dotList"> '),n.s(n.f("items",e,t,1),e,t,0,60,221,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <li class="Carousel-dotListItem js-Carousel-dotListItem"><button type="button" class="js-Carousel-goTo" data-carousel-index="'),i.b(i.v(i.f("index",e,t,0))),i.b('">'),i.b(i.v(i.f("index",e,t,0))),i.b("</button></li> ")})),e.pop()),n.b(" </ul>"),n.fl()},partials:{},subs:{}},"");i.d(t,"a",(function(){return x}));var _=[],k=window.innerWidth,S=[["SMALL",992],["MEDIUM",1110],["LARGE",1281],["XLARGE",1600]],P={POP:{DEFAULT:4,XLARGE:4,LARGE:4,MEDIUM:3,SMALL:2},DEFAULT:{DEFAULT:5.5,XLARGE:4.5,LARGE:4.5,MEDIUM:3.5,SMALL:2.5},XL_ITEM:{DEFAULT:1,XLARGE:1,LARGE:1,MEDIUM:1,SMALL:1},L_ITEM:{DEFAULT:3,XLARGE:3,LARGE:2,MEDIUM:2,SMALL:1},LM_ITEM:{DEFAULT:3,XLARGE:3,LARGE:3,MEDIUM:3,SMALL:1.5},M_ITEM:{DEFAULT:3,XLARGE:2,LARGE:2,MEDIUM:2,SMALL:2},SMALL_ITEM:{DEFAULT:4,XLARGE:4,LARGE:4,MEDIUM:3,SMALL:2},XS_ITEM:{DEFAULT:6,XLARGE:5,LARGE:4,MEDIUM:3,SMALL:3},TRIPLE_ITEM:{DEFAULT:3,XLARGE:3,LARGE:3,MEDIUM:3,SMALL:3},DUAL_ITEM:{DEFAULT:2,XLARGE:2,LARGE:2,MEDIUM:2,SMALL:1}},x=function(e){function t(){return s()(this,t),l()(this,d()(t).apply(this,arguments))}return h()(t,e),r()(t,[{key:"initialize",value:function(){this.goToPreviousSlide=this.goToPreviousSlide.bind(this),this.goToNextSlide=this.goToNextSlide.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onScroll=this.onScroll.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onVisible=this.onVisible.bind(this),this.onTransitionEnd=this.onTransitionEnd.bind(this),this.render=this.render.bind(this),this.renderItems=this.renderItems.bind(this),this.reset=this.reset.bind(this),this.startAutoPlay=this.startAutoPlay.bind(this),this.stopAutoPlay=this.stopAutoPlay.bind(this),this.autoPlayGoNextSlide=this.autoPlayGoNextSlide.bind(this),this.translateSlide=this.translateSlide.bind(this);var e=!!this.$el.data("carouselForce");this.length=this.$(".js-Carousel-item").length,!e&&this.length<2?this.destroy():(this.hasToReset=!1,this.index=0,this.isFirstTime=!0,this.loadedItems=this.$el.find(".js-Carousel-item:not(.js-Carousel-item-lazyload)").length,this.lazyloadService=this.$el.data("lazyloadService"),this.isLazyloaded=null!=this.lazyloadService,this.lazyloadItems=this.$el.data("lazyloadItems")||[],this.hasAutoPlay=!!this.$el.data("carouselAutoplay"),this.hasHoverAutoPlay=!!this.$el.data("carouselHoverAutoplay"),this.hasHoverOff=!!this.$el.data("carouselHoverOff"),this.hasNativeScroll=v.isMobile&&"XL_ITEM"!==this.$el.data("carouselType"),this.hasTodisplayDots=!!this.$el.data("carouselDots"),this.isInfinite=!!this.$el.data("carouselInfinite"),this.reset(),this.$container=this.$(".js-Carousel-container"),_.push(this),this.$container.on("transitionend.Carousel",this.onTransitionEnd),this.length>1&&(this.$el.on("mouseenter.Carousel",this.onMouseEnter.bind(this)),this.$el.on("mouseleave.Carousel",this.onMouseLeave.bind(this))),this.$el.addClass("Carousel--hoverOff"),this.$el.data("carouselType")||this.$el.closest(".strate").addClass("Carousel--outsideNav"),this.listenTo(w.a,"carouselView:reset",this.reset),this.goToSlide(this.index),this.reset(!0))}},{key:"reset",value:function(e){this.isDestroyed||(this.stopAutoPlay(),this.hasToReset=!this.isFirstTime,this.index=0,this.isIsometric=!0,this.isSliding=!1,this.width=this.$(".Carousel-overflowContainer").innerWidth(),this.isInfinite&&!this.isFirstTime?this.length=this.$(".js-Carousel-item").length-2:this.length=this.$(".js-Carousel-item").length,this.specifications=P[this.$el.data("carouselType")]||P.DEFAULT,this.visibleItemsLength=this.specifications[this.getCurrentViewport()],this.itemWidthRatio=100/this.visibleItemsLength,this.$overflowContainer=this.$(".Carousel-overflowContainer"),this.isTranslating=!1,this.isInfinite?this.indexMax=this.length+1:(this.visibleItemsLength%1!=0?this.indexMax=Math.ceil(this.length/(this.visibleItemsLength-.5))-1:this.indexMax=Math.ceil(this.length/this.visibleItemsLength)-1,this.endingItemsLength=this.length-this.indexMax*this.visibleItemsLength),v.isMobile&&!this.hasNativeScroll&&(this.isFirstTouchMove=!0),this.hasNativeScroll&&(this.isAtFirstIndex=!0,this.isAtLastIndex=!1,this.itemWidth=this.$(".js-Carousel-item").width(),this.scrollRightWall=this.$overflowContainer.prop("scrollWidth")-this.width-1),this.$el.off("touchmove.Carousel"),this.$el.off("touchend.Carousel touchcancel.Carousel"),this.$el.off("touchstart.Carousel"),e&&this.render())}},{key:"onMouseEnter",value:function(){this.hasHoverAutoPlay&&!this.hasAutoPlay&&(this.hasAutoPlay=!0),this.stopAutoPlay(),this.hasMouseOver=!0}},{key:"onMouseLeave",value:function(){this.hasMouseOver=!1,this.startAutoPlay()}},{key:"onScroll",value:function(){var e=this.$overflowContainer.scrollLeft();(e>this.index*this.width||e<=(this.index-1)*this.width)&&(this.index=Math.ceil(e/this.width)),e<=0&&!this.isAtFirstIndex&&(this.$(".js-Carousel-previous").prop("disabled",!0),this.isAtFirstIndex=!0),this.isAtFirstIndex&&e>0&&(this.$(".js-Carousel-previous").prop("disabled",!1),this.isAtFirstIndex=!1),e>=this.scrollRightWall&&!this.isAtLastIndex&&(this.$(".js-Carousel-next").prop("disabled",!0),this.isAtLastIndex=!0),this.isAtLastIndex&&e<this.scrollRightWall&&(this.$(".js-Carousel-next").prop("disabled",!1),this.isAtLastIndex=!1)}},{key:"onTouchStart",value:function(e){this.isSliding||(this.stopAutoPlay(),this.containerOriginLeft=parseInt(this.$container.css("left")),this.swipeOriginX=e.originalEvent.touches[0].clientX,this.swipeOriginY=e.originalEvent.touches[0].clientY,this.$el.on("touchmove.Carousel",this.onTouchMove),this.$el.on("touchend.Carousel touchcancel.Carousel",this.onTouchEnd),this.$container.addClass("Carousel-container--frozen"))}},{key:"onTouchMove",value:function(e){var t=Math.abs(e.originalEvent.touches[0].clientX-this.swipeOriginX);if(this.isFirstTouchMove){if(Math.abs(e.originalEvent.touches[0].clientY-this.swipeOriginY)>t)return void this.onTouchEnd();e.preventDefault(),this.isFirstTouchMove=!1,this.isSliding=!0}this.$container.css("left",this.containerOriginLeft+e.originalEvent.touches[0].clientX-this.swipeOriginX)}},{key:"onTouchEnd",value:function(e){if(this.isFirstTouchMove=!0,this.$el.off("touchmove.Carousel"),this.$el.off("touchend.Carousel touchcancel.Carousel"),this.$container.removeClass("Carousel-container--frozen"),e){var t=e.originalEvent.changedTouches[0].clientX-this.swipeOriginX;Math.abs(t)<this.width/20||!this.canGoToNext()&&t<0||!this.canGoToPrevious()&&t>0?this.render():t<0?this.goToNextSlide():this.goToPreviousSlide()}else this.isSliding=!1}},{key:"onTransitionEnd",value:function(){(!this.isInfinite||this.isInfinite&&!this.isTranslating)&&(this.isSliding=!1)}},{key:"onVisible",value:function(){this.render()}},{key:"startAutoPlay",value:function(){!this.hasAutoPlay||this.isTranslating||this.hasMouseOver||0!==this.autoPlayTimer||(this.autoPlayTimer=setTimeout(this.autoPlayGoNextSlide,4e3))}},{key:"stopAutoPlay",value:function(){clearTimeout(this.autoPlayTimer),this.autoPlayTimer=0}},{key:"autoPlayGoNextSlide",value:function(){this.autoPlayTimer=0,this.goToNextSlide()}},{key:"goToPreviousSlide",value:function(e){e&&this.isSliding||!this.hasNativeScroll&&!this.isInfinite&&!this.index||(this.stopAutoPlay(),this.index--,this.isInfinite&&-1===this.index&&(this.isTranslating=!0,this.isSliding=!0,this.$container.one("transitionend",this.translateSlide)),this.goToSlide(this.index))}},{key:"goToNextSlide",value:function(e){e&&this.isSliding||!this.hasNativeScroll&&!this.isInfinite&&this.index===this.indexMax||(this.stopAutoPlay(),this.index++,this.isInfinite&&this.index===this.length&&(this.isTranslating=!0,this.isSliding=!0,this.$container.one("transitionend",this.translateSlide)),this.goToSlide(this.index))}},{key:"goToSlide",value:function(e){isNaN(e)?(e.preventDefault(),this.index=b()(e.currentTarget).data("carouselIndex")):this.index=e,this.render()}},{key:"translateSlide",value:function(){this.index=this.index<0?this.length-1:0,this.$container.addClass("Carousel-container--frozen").css("left",-100*(this.index+1)+"%"),this.isSliding=!1,this.isTranslating=!1,this.startAutoPlay()}},{key:"canGoToPrevious",value:function(){return this.isInfinite||0!==this.index}},{key:"canGoToNext",value:function(){return this.isInfinite||this.index!==this.indexMax}},{key:"loadItems",value:function(){var e,t=this.lazyloadItems.length,i=this.lazyloadItems.splice(0,t);if(0!==i.length){switch(this.abortLazyload&&(this.abortLazyload(),this.abortLazyload=null),this.lazyloadService){case"thumbnail-suggestions":var n=i.map((function(e,t){return"references="+e})).join("&"),s=b.a.get(v.pathname+"/api/navigation/rest/v1/thumbnail/suggestions?"+n);this.abortLazyload=s.abort,e=s.then((function(e){var t=e.split(/--\w{8}-\w{4}-\w{4}-\w{4}-\w{12}-{0,2}/gm);t[0].replace(/\r|\n|\s/g,"")||t.splice(0,1);var i=t.length-1;return t[i].replace(/\r|\n|\s/g,"")||t.splice(i,1),t}));break;case"product-getproducts":s=b.a.ajax({type:"POST",url:v.pathname+"/api/v1/nav/product/getproducts",contentType:"application/json;charset=utf-8",data:JSON.stringify({pathId:this.$el.data("path-id"),pageName:this.$el.data("page-name"),localBlockName:this.$el.data("localBlockName"),articles:i.map((function(e){var t=e.split("-");return{catalog:t[0],prid:t[1]}}))})});this.abortLazyload=s.abort,e=s.then((function(e){return b()(e.html).filter(".js-Carousel-item").toArray()}));break;default:throw"Unsupported lazy load service: "+this.lazyloadService}e.done(this.renderItems)}}},{key:"renderItems",value:function(e){this.abortLazyload=null,this.loadedItems+=e.length;for(var t=0,i=this.$(".js-Carousel-item-lazyload");t<e.length;t++){var n=e[t],s=i.eq(t).removeClass("js-Carousel-item-lazyload");("string"!=typeof n||n.trim())&&s.replaceWith(n)}0===this.lazyloadItems.length&&this.$(".js-Carousel-item-lazyload").remove()}},{key:"getCurrentViewport",value:function(){for(var e=-1;++e<S.length;)if(k<=S[e][1])return S[e][0];return"DEFAULT"}},{key:"render",value:function(){var e=this;if(!this.$el.is(".hide")){if(this.isFirstTime||this.hasToReset){if(v.isMobile&&(this.hasNativeScroll?this.$container.css("overflowX","auto").scroll(this.onScroll):this.$el.off("touchstart.Carousel").on("touchstart.Carousel",this.onTouchStart)),this.isFirstTime){if(this.hasHoverOff&&this.$el.addClass("Carousel--hoverOff"),this.isInfinite){var t=this.$(".js-Carousel-item").first().clone(),i=this.$(".js-Carousel-item").last().clone();this.$container.prepend(i),this.$container.append(t)}if(this.length<=this.visibleItemsLength&&this.$(".js-Carousel-previous, .js-Carousel-next").prop("disabled",!0),this.hasTodisplayDots){var n=Math.floor(this.length/this.visibleItemsLength),s=Array.from({length:n},(function(e,t){return{index:t}}));this.$el.append(T.render({items:s}))}}this.isFirstTime=this.hasToReset=!1}if(this.$(".js-Carousel-previous").prop("disabled",!this.canGoToPrevious()),this.$(".js-Carousel-next").prop("disabled",!this.canGoToNext()),this.canGoToPrevious()||this.canGoToNext()?this.$el.removeClass("js-Carousel-disableArrow"):this.$el.addClass("js-Carousel-disableArrow"),this.isInfinite&&this.$container.hasClass("Carousel-container--frozen")&&this.$container.removeClass("Carousel-container--frozen"),this.hasTodisplayDots){var a=this.index===this.length?0:this.index;this.$(".js-Carousel-dotListItem--active").removeClass("js-Carousel-dotListItem--active"),this.$(".js-Carousel-dotListItem").eq(a).addClass("js-Carousel-dotListItem--active")}if(!(this.isInfinite||this.index!==this.indexMax&&this.isIsometric))if(this.index){if(this.hasNativeScroll)var r=this.itemWidth*(this.index*this.visibleItemsLength+this.endingItemsLength);else this.visibleItemsLength%1!=0?this.index==this.indexMax&&"-100%"!=this.$container.css("left")?this.$container.css("left",-this.itemWidthRatio*this.length+this.itemWidthRatio*this.visibleItemsLength+"%"):this.$container.css("left",-this.itemWidthRatio*(this.visibleItemsLength-.5)*this.index+this.itemWidthRatio*(this.visibleItemsLength-1)+"%"):this.$container.css("left",-100*this.index+"%");this.endingItemsLength&&this.index===this.indexMax&&(this.isIsometric=!1)}else this.isIsometric=!0;if(this.isIsometric)if(this.hasNativeScroll)r=this.index*this.width;else if(this.isInfinite)this.$container.css("left",-100*(this.index+1)+"%");else{var o=this.visibleItemsLength%1!=0?this.itemWidthRatio*(this.visibleItemsLength-.5):100;this.$container.css("left",-o*this.index+"%")}this.hasNativeScroll&&(this.isSliding=!0,this.$overflowContainer.animate({scrollLeft:r},500,(function(){e.isSliding=!1}))),this.startAutoPlay(),this.isLazyloaded&&this.lazyloadItems.length&&this.loadItems()}}},{key:"destroy",value:function(){this.isDestroyed=!0,this.$(".js-Carousel-previous, .js-Carousel-next, .js-Carousel-dotListItem").remove(),this.undelegateEvents(),this.$el.off(".Carousel").removeData()}},{key:"events",get:function(){return{"click .js-Carousel-previous":"goToPreviousSlide","click .js-Carousel-next":"goToNextSlide","click .js-Carousel-goTo":"goToSlide","switch-item:visible":"onVisible"}}}],[{key:"resetInstances",value:function(){window.innerWidth!=k&&(k=window.innerWidth,_.forEach((function(e){return e.reset(!0)})))}}]),t}(f.a.View);b()(window).on("resize.Carousel",y.a.debounce(x.resetInstances,300))},ElVG:function(e,t,i){"use strict";var n=i("q1z7"),s=i.n(n),a=i("z0Te");i("EVdn");t.a=s.a.View.extend({initialize:function(){this.isLoaded=!1,this.isActive=!1,this.initContent()},events:{"click .js-searchFnacPlus-show":"showContent","mouseover .js-searchFnacPlus-container":"showContent","mouseout .js-searchFnacPlus-container":"removeContent"},initContent:function(){this.$fnacPlusContainer=this.$(".js-searchFnacPlus-container"),a.isFnacPro?this.$fnacPlusContainer.append("<div class='tooltipFnacPlus-container'><a class='tooltipFnacPlus-link' href='https://www.fnacpro.com/carte-adherent' title='En savoir plus'><img src='https://static.fnac-static.com/multimedia/fnacdirect/publi/popin-fnacpluspro.png'></a></div>"):this.$fnacPlusContainer.append("<div class='tooltipFnacPlus-container'><a class='tooltipFnacPlus-link' href='https://www.fnac.com/choisir-carte' title='En savoir plus'><img src='https://static.fnac-static.com/multimedia/fnacdirect/publi/popin-fnacplus.png'></a></div>"),this.isLoaded=!0},showContent:function(){this.isLoaded||this.initContent(),this.isActive||(this.$fnacPlusContainer.addClass("is-active"),this.isActive=!0)},removeContent:function(){this.$fnacPlusContainer.removeClass("is-active"),this.isActive=!1}})},F04A:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return g}));i("+n7n"),i("rGqo"),i("f3/d"),i("ssyx"),i("9qp4");var n=i("cDf5"),a=i.n(n),r=(i("91GP"),i("RIqP")),o=i.n(r),l=i("z0Te"),c={AddToBasket:function(e,t){var i=e.sellType,n=e.oneClick,s=e.index,a=(e.prid,e.prefixedPrid),r=e.availability,l=e.category,c=t.prop40,d=t.eVar2,u=(t.products,document.querySelector(".js-ProductBuy-expressplusCheckable:checked, .js-ProductBuy-fnacplusCheckable:checked")),h=u?u.getAttribute("data-prid"):null;return{label:"Ajout Panier",vars:{linkTrackVars:"events,products,eVar1,eVar2,eVar6,eVar17,eVar19,eVar48,eVar56,eVar57",linkTrackEvents:"scAdd",events:"scAdd",eVar2:i||d,eVar6:"".concat(c,": ").concat(l||"BuyBox",": Ajout Panier"),eVar17:n?"Achat Immédiat":"Achat Standard",eVar19:s||"Non applicable",eVar48:r||"Non applicable",products:[";".concat(a,";;;;eVar48=").concat(r||"Non applicable")].concat(o()(h&&[",;".concat(h,";;;;eVar48=NonApplicable")]||[])).join(",")}}},ShowHeaderLayer:function(e,t){var i=e.label;return{label:i,vars:{linkTrackVars:"prop1,prop20,prop21,prop40,prop51,prop56,prop57,eVar56",prop1:0===i.indexOf("Layer: Mon Compte")?"Layer: Mon Compte":i,prop40:"Nav: Layer",prop51:"Web Desktop"}}},NewReview:function(e,t){var i=e.prefixedPrid,n=e.availability,s=t.products;return{label:"Donner son avis",vars:{pageName:"Formulaire Avis",linkTrackVars:"events,products,eVar25",linkTrackEvents:"event4",events:"event4",eVar25:"Donner son avis",products:i?";".concat(i,";;;;eVar48=").concat(n||"Non applicable"):s}}},NewReviewPost:function(e,t){var i=e.prefixedPrid,n=e.availability,s=t.products;return{label:"Envoi avis",vars:{pageName:"Formulaire Avis",linkTrackVars:"events,products",linkTrackEvents:"event23",events:"event23",products:i?";".concat(i,";;;;eVar48=").concat(n||"Non applicable"):s}}},RequestItinerary:function(e,t){return{label:"Demande itineraire",vars:{linkTrackVars:"prop24,prop25",prop24:"Demande itineraire",prop25:e.pageName}}},SearchMPSellerPopin:function(e,t){e.pageName;return{label:"Page liste : popin vendeur"}},AddToCompareTool:function(e,t){var i=e.availability,n=e.prid,s=t.eVar48;return{label:"Ajout au comparateur",vars:{linkTrackVars:"events,products,eVar102",linkTrackEvents:"event6",events:"event6",eVar102:t.prop40,products:";".concat(n,";;;;eVar48=").concat(i||s||"Non applicable")}}},ToggleCompareTool:function(e,t){e.pageName;return{label:"Comparateur : Masquer le comparateur"}},GoToComparePage:function(e,t){e.pageName;return{label:"Comparateur : comparer"}},ClearCompareTool:function(e,t){e.pageName;return{label:"Comparateur : terminer"}},Click:function(e,t){var i=e.label;return i?{label:i,vars:{}}:null},AddToWishlistTool:function(e,t){var i=e.availability,n=e.prid;return{label:"Ajout à la wishlist",vars:{linkTrackVars:"events,products,eVar70",linkTrackEvents:"event89",events:"event89",eVar70:t.prop40,products:";".concat(n,";;;;eVar48=").concat(i||"Non applicable")}}},SearchUpdateViewMode:function(e,t){var i=e.displayMode,n=e.count,s=void 0===n?20:n;return{label:"Changement de template",vars:{linkTrackVars:"prop7,eVar34,prop18",prop7:i||document.querySelector(".js-searchResults").classList.has("list")?"list":"mosaic",prop18:s}}},BuyOneClick:function(e,t){return{label:"one clic layer panier",vars:{linkTrackVars:"prop1",prop1:"Layer : one clic"}}},HeaderTabSignup:function(e,t){return{label:"Layer : Account creation : step 1",vars:{linkTrackVars:"events,eVar64",linkTrackEvents:"event70",events:"event70",eVar64:"Layer"}}},SearchStoreName:function(e,t){var i=e.term,n=e.count;return{label:"Recherche store Locator",vars:{linkTrackVars:"events,eVar26,eVar27,eVar28",linkTrackEvents:"event5",events:"event5",eVar28:"Recherche manuelle",eVar26:i,eVar27:String(n)}}},OpenPopinBasket:function(e){return e.hasError?{label:"Ajout panier erreur",vars:{}}:null},CloseConsentNotice:function(e,t){return{label:"Fermeture bandeau CNIL",vars:{}}},AcceptConsentNotice:function(e,t){return{label:"Accepter bandeau CNIL",vars:{}}},OpenOptionsConsentNotice:function(e,t){return{label:"Parametrer bandeau CNIL",vars:{}}},MobileForceDesktopVersion:function(e,t){return{label:"Acces version PC",vars:{linkTrackVars:"prop24,prop25",prop24:"Acces version PC",prop25:"Home Accueil"}}},MACSearch:function(e,t){var i=e.budget,n=e.age;return{label:"MAC : recherche",vars:{linkTrackVars:"prop25,prop26,prop27,prop28",prop25:e.gender,prop26:n,prop27:e.styles,prop28:i.length?i:"illimite"}}}};function d(e){if(!window.s){if("function"!=typeof window.s_gi)throw new Error("Adobe Analytics doesn't not exist in this document.");window.s=s_gi(s_account||"fnaccomprod")}e=Object.assign({get prefixedPrid(){return this.prid&&3===this.catalog?"MP-".concat(this.prid):String(this.prid||"")}},e);var t="function"==typeof c[e.action]?c[e.action](e,s):null;if(null===t)return!1;if("object"!==a()(t))throw new TypeError('Adobe Analytics action handler "'.concat(e.action,'" should return an object or null'));var i=t.vars;if(null!=i&&"object"!==a()(i))throw new TypeError("vars must be a nullable object or undefined");return s.tl(t.target||e.target||!0,"o",t.label||e.label||"",i),!0}var u={Click:function(e){return{url:e.beacon,data:null}},Impression:function(e){return{url:e.beacon,data:null}}};function h(e){if(!e.beacon)return!1;var t="function"==typeof u[e.action]?u[e.action](e):null;if(null===t)return!1;var i=t.data,n=t.url;if(!navigator.sendBeacon(n,i))throw new Error("Beacon queued fail for ".concat(n));return!0}var p={OpenPopinDelivery:function(e){return{name:"openPopinDelivery"}},OpenPopin:function(e){return{name:"openPopin"}},OpenPopinBasket:function(e){return{name:"openPopinBasket"}},OpenPopinStorePickup:function(e){return{name:"openPopinStorePickup"}},ClosePopin:function(e){return{name:"closePopin"}},AddToBasket:function(e){var t=e.prid;return{name:"addToCart",data:{catalog:e.catalog,prid:t}}}};function f(e){if(!window.tC)throw new Error("TagCommander event is not supported by this document.");var t="function"==typeof p[e.action]?p[e.action](e):null;if(null===t||!window.tC.event||"function"!=typeof window.tC.event[t.name])return!1;var i=t.name,n=t.data,s=void 0===n?null:n;return window.tC.event[i](t.target||e.target||null,s||{}),!0}var v={Click:function(e){var t=e.prid,i=e.catalog,n=e.recommendationId,s=e.widget;return{originalId:"".concat(i,"-").concat(t),verb:"click-on-reco",recommendationId:n,widget:s}},AddToBasket:function(e){var t=e.prid,i=e.catalog,n=e.availability,s=e.recommendationId,a=e.widget,r=e.sellType,o=e.category,l=e.context;return s?[v.Click({prid:t,catalog:i,recommendationId:s,widget:a}),{originalId:"".concat(i,"-").concat(t),verb:"add-to-cart",availability:n,sellType:r,category:o,context:l}]:null}};function m(e){var t="function"==typeof v[e.action]?v[e.action](e):null;return Array.isArray(t)||(t=[t]),0!==(t=t.filter((function(e){return null!==e}))).length&&(window._ebq=window._ebq||[],t.forEach((function(e){return window._ebq.push(["trackActivity",e])})),!0)}function b(e,t,i){var n;try{n=t(i)}catch(e){n=e,l.debug||console.error(e)}l.debug&&console.log("Track event ".concat(e,":"),n)}function g(e){var t=Object(e)===e?e:{action:e},i=t.action;"string"==typeof i&&""!==i?(l.debug&&console.group("Track event",t),b("Beacon",h,t),b("Adobe Analytics",d,t),b("TagCommander",f,t),b("Earlybirds",m,t),l.debug&&console.groupEnd()):console.error(new Error("Invalid action type"))}},"Fz+k":function(e,t,i){"use strict";i("dRSK"),i("3xKP");var n=i("EVdn"),s=i.n(n),a=i("XHbk"),r=(i("MUug"),i("lwsE")),o=i.n(r),l=i("W8MJ"),c=i.n(l),d=i("a1gu"),u=i.n(d),h=i("Nsbk"),p=i.n(h),f=i("7W2i"),v=i.n(f),m=i("q1z7"),b=i.n(m),g=i("TMt3"),y=i("H0tV"),w=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,t),e.el=e.el||s()(y.a.render()).get(0),u()(this,p()(t).call(this,e))}return v()(t,e),c()(t,[{key:"initialize",value:function(){this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this),this.isVisible=!1,this.listenTo(g.a,"flashmessage:show",this.show),this.listenTo(g.a,"flashmessage:hide",this.hide),this.listenTo(g.a,"flashmessage:toggle",this.toggle)}},{key:"triggerClick",value:function(){g.a.trigger("flashmessage:click")}},{key:"show",value:function(){this.isVisible||(this.isVisible=!0,this.render(),window.setTimeout(this.hide,2e3))}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1,this.render())}},{key:"toggle",value:function(){this.isVisible?this.isVisible=!1:this.isVisible=!0,this.render()}},{key:"render",value:function(){g.a.trigger("overlay:hide"),this.isVisible?this.$el.addClass("FlashMessage--visible"):this.$el.removeClass("FlashMessage--visible")}},{key:"events",get:function(){return{click:"triggerClick","click .js-FlashMessage-close":"hide"}}}]),t}(b.a.View),C=i("GfSw"),T=i("s4WJ"),_=(i("z0Te"),i("dsXk")),k=(i("Kui0"),i("3A8x"),i("XLsu"),i("/eVz"),b.a.View.extend({initialize:function(){this.detectScroll=this.detectScroll.bind(this),Object(T.a)(),this.lastScrollTop=0,s()(window).on("touchmove",this.detectScroll),this.initFilterToggle()},events:{"click .js-toggleFilters":"toggleFilters"},initSearchInput:function(){},initFilterToggle:function(){Object(_.a)()},toggleFilters:function(e){e.preventDefault();var t=s()(e.currentTarget),i=t.prev(".Filters-content");i.toggleClass("isActive"),t.toggleClass("isActive"),i.toggleClass("allActive"),i.scrollTop(0)},detectScroll:function(){var e=s()(window).scrollTop();e>this.lastScrollTop?e>100&&e>=this.lastScrollTop+20&&(s()(".js-Header-search").hasClass("isHidden-tablet")||s()(".js-Header-search").addClass("isHidden-tablet")):e<=this.lastScrollTop-20&&s()(".js-Header-search").hasClass("isHidden-tablet")&&s()(".js-Header-search").removeClass("isHidden-tablet"),this.lastScrollTop=e}})),S=i("PTDp"),P=i("88ZB"),x=i("C53D"),j=i("vvWP"),L=i("0oqP"),A=(i("FnhE"),i("60u1"),i("Hb8b"),i("w7BJ"),i("lepd"),i("jNrE"),i("374o"),i("LsHi"),i("52pF"),i("1AQ2"),i("7FWI"),i("iwsH"),i("bmH7"),i("JRJP"),i("ET8x"),i("VMY0"),i("RyDI"),i("XgSb"),i("Ed6V"),i("LgJN"),i("wefY"),i("ED0Z"),i("VYcW"),i("2N6n"),i("J8QC"),i("CKbm"),i("c9B+"),i("Yyf9"),i("AksE"),i("88zw"),i("hhMh"),i("i7QA"),i("cS3L"),i("q97n"),i("X7S7"),i("nKy6"),i("Ho5w"),i("4pLB"),i("7c5C")),I=s()(".ma-Main");I.length&&new a.a({el:I,$popinTemplate:s()("#deliveryAddressMapPopinTemplate")});var M=s()("body");new k({el:M}),new A.a({el:M}),s()(".js-Sidebar").length&&s()(".Sidebar-nano").nanoScroller({preventPageScrolling:!0,iOSNativeScrolling:!0}),s()(".js-hl-service").length&&!/\?([^&]+&)*hooklogic-disabled=1(&|$)/.test(document.URL)&&j.a.load(),s()(".js-ProductVisuals").length&&-1===s()(".js-ProductVisuals .js-ProductVisuals-item").first().data("src").indexOf("noscan")?new x.a:s()(".js-ProductVisuals .js-ProductVisuals-zoom").remove(),new P.a;var R=s()(".js-headerSearchView");R.length&&new C.a({el:s()(".js-HeaderTab-content"),headerBtnContainer:R});var $=s()(".js-PopupAjaxLegacy");if($.length)var E=new L.a($,{type:"ajax",tError:"<a href='%url%'>La page</a> n'a pas pu être chargée, veuillez réessayer ultérieurement.",callbacks:{parseAjax:function(e){e.data="<div class='Popup Popup--large Popup--noPadding'>"+e.data+"</div>"},ajaxContentAdded:function(){this.content.find(".close").on("click",E.close)}}});document.body.appendChild((new w).el),new S.a,s.a.fn.isBefore=function(e){return 0!==this.nextAll(e).length},s()(".js-ProductBuyBoxAdh").each((function(){s()(this).isBefore(".js-ProductBuyBoxStd")&&s()(this).find(".js-ProductBuy-adherentCheckable").length&&s()(".js-ProductBuy-fnacplusCheckable").prop("checked",!0)}));var F=s()(".js-HeaderSearch-input");F.length&&F.val().length>0&&s()(".js-HeaderSearch-inputClear").addClass("on");var V=s()(".categoryMosaic-thumb"),O=s()(".categoryMosaic-advertising"),B=s()(".categoryMosaic-advertising div");if(V.length)var z=0,N=setInterval((function(){z++;s()(window).on("load resize",(function(){var e=V.height(),t=V.width(),i=0;O.css("padding-bottom",e),B.first().css("padding-bottom",e-16+"px"),(i=t>=e?t/300:(e-17)/250)>1&&(i=1),B.first().css({"-webkit-transform":"scale("+i+")","-moz-transform":"scale("+i+")","-ms-transform":"scale("+i+")",transform:"scale("+i+")"})})).trigger("resize");z>=5&&clearInterval(N)}),1e3)},G7Gs:function(e,t,i){"use strict";i("0XBK");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("a1gu"),l=i.n(o),c=i("Nsbk"),d=i.n(c),u=i("iWIM"),h=i.n(u),p=i("7W2i"),f=i.n(p),v=(i("/RAl"),i("BFXc"),i("z0Te"),i("cK6b"));var m=new(i.n(v).a.Template)({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="f-wishlist-dialog f-wishlist-dialog--modal f-mfp-content f-mfp--small"><div class="f-wishlist-dialog__container f-mfp-body js-addtoWishlist-container"> '),n.b(" </div></div>"),n.fl()},partials:{},subs:{}},""),b=i("0oqP"),g=i("PrP4");i.d(t,"a",(function(){return y}));var y=function(e){function t(){var e,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).el;return s()(this,t),(e=l()(this,d()(t).call(this,{el:i||document.createRange().createContextualFragment(m.render()).firstElementChild})))._magnificPopup=new b.a,e}return f()(t,e),r()(t,[{key:"show",value:function(){var e=this;h()(d()(t.prototype),"show",this).call(this),this._magnificPopup.open({items:{src:this.el},fixedContentPos:!0,mainClass:"f-mfp",closeBtnInside:!0,callbacks:{close:function(){e.close()}}})}},{key:"close",value:function(){h()(d()(t.prototype),"close",this).call(this),this._magnificPopup.close()}}]),t}(g.a)},GfSw:function(e,t,i){"use strict";i("3xKP"),i("f3/d"),i("dRSK"),i("uMff"),i("KKXr"),i("9qp4");var n=i("q1z7"),s=i.n(n),a=i("EVdn"),r=i.n(a),o=i("TMt3"),l=s.a.View.extend({visible:!1,name:"",loading:!1,_renderError:function(){o.a.trigger("header-tab:close"),o.a.trigger("flashmessage:show")},_refreshVisibility:function(){var e=this.$el.find(".js-Shutter");e.length&&(this.visible?e.addClass("open"):e.hasClass("open")&&e.removeClass("open"))},_refreshContent:function(e,t){if(this.$el.length&&e){var i=e.get("html");if(i)this.visible&&o.a.trigger("loader:hideIn"),this.$el.html(i),this._refreshVisibility(),this.loading=!1,t&&t();else if(this.loading)o.a.trigger("loader:hideIn");else{this.loading=!0;var n=r()("<div class='Sutter-loading'>");this.$el.empty().append(n),o.a.trigger("loader:showIn",{$element:n}),this.model.fetch()}}}}),c=i("z0Te"),d=i("k7/r").a.extend({url:"/header/v1/GetHeaderTab",initialize:function(e){this.setFromAPI=this.setFromAPI.bind(this),this.setErrorFromAPI=this.setErrorFromAPI.bind(this),this.getEnvironment=this.getEnvironment.bind(this),this.html=null,this.tabName=e.tabName},getEnvironment:function(){return{update:{request:{value:this.get("tabName")}}}},setFromAPI:function(e){this.set("html",e.data.content.headertabs.html)},setErrorFromAPI:function(){this.set("error",!0),this.trigger("error")}}),u=i("F/us"),h=i.n(u),p=l.extend({initialize:function(e){this.remoteLoginSubmit=this.remoteLoginSubmit.bind(this),this.moveUp=this.moveUp.bind(this),this.remoteLoginSubmitDidFail=this.remoteLoginSubmitDidFail.bind(this),this.formValidation=this.formValidation.bind(this),this.name=e.name,this.visible=e.visible||!1,this.isVisible=!1,this.isOnTablet=!1,this.$button=e.$button,this.$content=this.$(".js-HeaderTab-content"),this.$link=this.$button.find(".js-HeaderTab-toggle"),this.$input=this.$(".js-HeaderTab-moveUp");var t=this.$link.attr("data-usertype");this.model=new d({tabName:"account-"+t}),this.listenTo(this.model,"change",this.render)},events:{"blur .js-Input-filled":"inputFilled","focus .js-Input-filled":"inputFilled","focusin .js-HeaderTab-moveUp":"moveUp","submit .js-ShutterConnect-form":"remoteLoginSubmit"},inputFilled:function(e){var t=r()(e.target),i=t.val();i&&i.length>0?t.addClass("input--filled"):t.removeClass("input--filled")},remoteLoginSubmitDone:function(){window.location.reload()},remoteLoginSubmitDidFail:function(e){var t=this;this.$loginForm=r()(".js-ShutterConnect-form"),e&&e.responseJSON&&(this.$loginForm.find("input").removeClass("error"),this.$loginForm.find("[data-error-for]").empty(),h.a.each(e.responseJSON.ModelState,(function(e,i){t.formValidation(i,e[0])})))},formValidation:function(e,t){if("Form"===e){var i=this.$loginForm.find("input[name='Password']"),n=this.$loginForm.find("input[name='Email']"),s=this.$loginForm.find("span[data-error-for='Password']");i.addClass("error"),n.addClass("error"),s.text(t)}else{var a=e.split(".")[1],r=this.$loginForm.find("input[name='Password']");s=this.$loginForm.find("span[data-error-for="+a+"]");r.addClass("error"),s.text(t)}},remoteLoginSubmit:function(e){e.preventDefault();var t=r()(e.currentTarget).serialize(),i={type:"POST",url:c.secureURL+"/api/login/rest/v2",data:t,xhrFields:{withCredentials:!0},beforeSend:function(e){e.setRequestHeader("Authorization",c.apiAuth),e.setRequestHeader("X-Requested-With","XMLHttpRequest")}};r.a.ajax(i).done(this.remoteLoginSubmitDone).fail(this.remoteLoginSubmitDidFail)},moveUp:function(e){if(e.preventDefault(),/android/i.test(navigator.userAgent)&&window.innerWidth>window.innerHeight&&(r()(".Shutter-connect label").hide(),r()(event.target).hasClass("user_name"))){r()(".Shutter-account").css("margin-top","-230px")}},render:function(){this.$button.length&&(this.visible?this.$button.addClass("Menu-sub-open"):this.$button.removeClass("Menu-sub-open")),this.model.get("error")?this._renderError():this._refreshContent(this.model,h.a.noop)}}),f=(i("4wRS"),i("a1Th"),i("/7Lr"),i("p46w")),v=i.n(f),m=i("PTDp"),b=i("MQta"),g=s.a.View.extend({initialize:function(e){this.isRendered=!1,this.itemsCount=r()(".js-BasketList-item").length,this.itemsPerPage=3,this.model=new b.a,this.pageIndex=e.pageIndex,this.$item=null,this.$itemQuantity=null,this.listenTo(this.model,"change",this.render),this.formatPrices(),this.render()},events:{"click .js-BasketList-decrease":"decreaseQuantity","click .js-BasketList-increase":"increaseQuantity","click .js-BasketList-delete":"removeItem","click .js-Basket-previousPage":"goToPreviousPage","click .js-Basket-nextPage":"goToNextPage","click .js-Basket-oneclick":"oneclick"},oneclick:function(e){e.preventDefault(),this.$control=r()(e.currentTarget);var t="1"===this.$control.data("one-click");c.isSocialConnect&&t||(e.preventDefault(),o.a.trigger("popupOneclick:open"))},getPageIndexMax:function(){return Math.ceil(this.itemsCount/this.itemsPerPage)-1},isFirstPage:function(){return 0===this.pageIndex},isLastPage:function(){return this.pageIndex===this.getPageIndexMax()},goToPage:function(e){e<this.pageIndex&&this.isFirstPage()||e>this.pageIndex&&this.isLastPage()||(this.pageIndex=e,this.render(),o.a.trigger("headerTabBasketView:updatePageIndex",{pageIndex:e}))},goToPreviousPage:function(){this.goToPage(this.pageIndex-1)},goToNextPage:function(){this.goToPage(this.pageIndex+1)},decreaseQuantity:function(e){this.updateQuantity(e,-1)},increaseQuantity:function(e){this.updateQuantity(e,1)},dispose:function(){this.remove(),this.off()},updateQuantity:function(e,t){var i=r()(e.target).closest(".js-BasketList-item"),n=(i.next(),parseInt(i.find(".js-BasketList-quantity").val())+t);n<=0?this.removeItem(e):n>i.data("quantityMax")||(this.model.set({productId:i.data("productId").toString(),offerId:i.data("offerId"),masterProductId:i.data("masterProductId").toString(),quantityDifference:t}),this.model.fetch({action:"update",dataType:"html"}))},removeItem:function(e){var t=r()(e.target).closest(".js-BasketList-item");this.model.set({productId:t.data("productId").toString(),offerId:t.data("offerId"),masterProductId:t.data("masterProductId").toString()}),this.model.fetch({action:"remove",dataType:"html"})},formatPrices:function(){this.$el.find("[data-behavior-price=true]").each((function(e,t){var i="{0}",n=-1!==r()(t).text().indexOf(",");r()(this).data("behavior-price-format")&&(i=r()(this).data("behavior-price-format"));var s=n?r()(t).text().indexOf(","):r()(t).text().indexOf("€");if(s>0){var a=""!==r()(t).text().substring(s+1)?r()(t).text().substring(s+1):"",o=r()(t).text().substring(0,s)+"<sup>€"+a+"</sup>",l=i.replace(" {0}","");o=o.replace(" €","").replace(l,"");var c=i.replace("{0}",o);r()(t).html(c)}}));var e=r()(".js-LayerBasket__total-price");e.length&&"fr-BE"===c.locale&&-1!==e.text().indexOf(",")&&e.text(e.text().replace("€","").replace(",","€"))},render:function(){if(!this.isRendered&&this.pageIndex>this.getPageIndexMax())this.goToPage(this.getPageIndexMax());else{r()(".js-BasketList-item").addClass("hidden");for(var e=0;e<this.itemsPerPage;e++)this.$(".js-BasketList-item").eq(this.itemsPerPage*this.pageIndex+e).removeClass("hidden");new m.a,this.itemsCount<=this.itemsPerPage&&r()(".BasketList-buttons").css("display","none"),this.$(".js-Basket-previousPage").attr("disabled",this.isFirstPage()),this.$(".js-Basket-nextPage").attr("disabled",this.isLastPage()),this.isRendered&&!this.model.get("state")||(this.isRendered&&this.model.get("state")?(o.a.trigger("headerTabBasketView:refresh"),this.model.get("state")&&this.model.unset("state",{silent:!0})):this.isRendered=!0,this.renderCartCounter())}},renderCartCounter:function(){var e=v.a.get("NBART");e&&o.a.trigger("cartcount:update",{count:e})}}),y=s.a.Model.extend({url:c.cartViewURL,fetch:function(){r.a.ajax({url:this.url,xhrFields:{withCredentials:!0}}).then(this.success.bind(this),this.error.bind(this))},success:function(e){this.set("html",e)},error:function(){this.set("error",!0)}}),w=l.extend({pageIndex:0,initialize:function(e){this._clearHtmlPropertyThenRefreshView=this._clearHtmlPropertyThenRefreshView.bind(this),this._contentRefreshed=this._contentRefreshed.bind(this),this.name=e.name,this.$button=e.$button,this.visible=e.visible||!1,this.model=new y,this.listenTo(this.model,"change",this.render),this.listenTo(o.a,"headerTabBasketView:refresh",this._clearHtmlPropertyThenRefreshView),this.listenTo(o.a,"headerTabBasketView:updatePageIndex",this._updatePageIndex)},_clearHtmlPropertyThenRefreshView:function(){this.model.unset("html")},_updatePageIndex:function(e){this.pageIndex=e.pageIndex},render:function(){this.$button.length&&(this.visible?this.$button.addClass("Menu-sub-open"):this.$button.removeClass("Menu-sub-open")),this.model.get("error")?this._renderError():this._refreshContent(this.model,this._contentRefreshed)},_contentRefreshed:function(){this.basketView&&this.basketView.dispose();var e=this.$(".js-Basket");e.length&&(this.basketView=new g({el:e,pageIndex:this.pageIndex}),this.basketView.render())}}),C=l.extend({initialize:function(e){this.render=this.render.bind(this),this._contentRefreshed=this._contentRefreshed.bind(this),this.visible=e.visible||!1;var t=e.$button.find("a").data("panel");this.model=new d({tabName:t}),this.$button=e.$button,this.listenTo(this.model,"change",this.render)},forceToRefreshContent:function(){this.model&&this.model.unset("html")},events:{},render:function(){this.$button.length&&(this.visible?this.$button.addClass("Menu-sub-open"):this.$button.removeClass("Menu-sub-open")),this.model.get("error")?this._renderError():this._refreshContent(this.model,this._contentRefreshed)},_contentRefreshed:function(){}}),T=l.extend({initialize:function(e){this.name=e.name,this.$button=e.$button,this.visible=e.visible||!1,this.model=new d({tabName:"help"}),this.render=this.render.bind(this),this._contentRefreshed=this._contentRefreshed.bind(this),this.listenTo(this.model,"change",this.render)},render:function(){this.$button.length&&(this.visible?this.$button.addClass("Menu-sub-open"):this.$button.removeClass("Menu-sub-open")),this.model.get("error")?this._renderError():this._refreshContent(this.model,this._contentRefreshed)},_contentRefreshed:function(){}});t.a=s.a.View.extend({renderOptions:{conditions:{isVisible:!1},elements:{$tabHeaderButton:null}},initialize:function(e){this.onHeaderTabClicked=this.onHeaderTabClicked.bind(this),this.closeCurrentTab=this.closeCurrentTab.bind(this),this.updateLayoutHeaderPosition=this.updateLayoutHeaderPosition.bind(this);this.tabs=[],this.$headerBtnContainer=e.headerBtnContainer,this.$tab=this.$el,this.listenTo(o.a,"overlay:click",this.closeCurrentTab),this.listenTo(o.a,"header-tab:close",this.closeCurrentTab),this.listenTo(o.a,"history:show",this.closeCurrentTab),this.$headerBtnContainer.on("click",".js-HeaderTab-toggle",this.onHeaderTabClicked),this.addTabPositionStyleSheet(),window.addEventListener("resize",this.updateLayoutHeaderPosition)},events:{"click .js-HeaderTab-close":"closeCurrentTab"},addTabPositionStyleSheet:function(){this.headerTabContent=document.querySelector(".js-HeaderTab-content"),this.style=document.createElement("style"),this.style.textContent="/*New header shutters layout, updated dynamically*/.js-HeaderTab-content::after{}",document.head.appendChild(this.style)},updateLayoutHeaderPosition:function(){if(this.openTab){var e=this.style.sheet.cssRules,t=document.documentElement.offsetWidth,i=this.openTab.getBoundingClientRect(),n=i.left+i.width/2,s=Math.min(n-160,t-320-20),a=n-s;this.headerTabContent.style.left=s+"px",e[0].style.cssText="left: "+a+"px !important"}},toggleSidebarZindex:function(){this.renderOptions.conditions.isVisible?(r()(".js-SlideNav-toggler").addClass("isAbove"),r()(".js-Sidebar").addClass("isAbove"),r()(".SlideNav").addClass("isAbove")):(r()(".js-SlideNav-toggler").removeClass("isAbove"),r()(".js-Sidebar").removeClass("isAbove"),r()(".SlideNav").removeClass("isAbove"))},render:function(){if(this.$tab)if(this.renderOptions.conditions.isVisible){if(this.toggleSidebarZindex(),this.tabs){for(var e=0;e<this.tabs.length;e++){var t=this.tabs[e];this.currentTab.el.className!==t.$el[0].className&&(t.visible=!1,t.render())}this.currentTab.visible=!0,this.currentTab.render()}this.$tab.addClass("open"),o.a.trigger("overlay:show",{cssModifier:"header-layers",noSpinner:!0})}else this.$tab.hasClass("open")&&(this.toggleSidebarZindex(),this.$headerBtnContainer.find(".Menu-sub-open").removeClass("Menu-sub-open"),this.$tab.removeClass("open"),o.a.trigger("overlay:hide"),this.currentTab=null)},onHeaderTabClicked:function(e){r()(e.currentTarget).offset().left,r()(e.currentTarget).width(),r()(".js-HeaderTab-content").length&&r()(".js-HeaderTab-content").width();if(e.preventDefault(),o.a.trigger("sidebar:hide"),this.deleteBasketView(),this.renderOptions.elements.$tabHeaderButton=r()(e.currentTarget),this.renderOptions.elements.$tabHeaderButton.length){var t=this.getTab(this.renderOptions.elements.$tabHeaderButton);this.currentTab&&t.name===this.currentTab.name?this.renderOptions.conditions.isVisible=!this.renderOptions.conditions.isVisible:this.renderOptions.conditions.isVisible=!0,this.currentTab=t,this.render(),this.openTab=e.currentTarget,this.updateLayoutHeaderPosition()}},closeCurrentTab:function(){this.renderOptions.conditions.isVisible=!1,this.currentTab&&"basket"===this.currentTab.name&&this.currentTab.remove(),this.currentTab=null,this.render()},getTab:function(e){var t=e.data("header-tab"),i=null;if(this.tabs&&(i=h.a.findWhere(this.tabs,{name:t})),!i){var n=e.parent();i=this._createTab(t,n)}return i},_createTab:function(e,t){var i,n="js-HeaderTab-"+e,s=this.$tab.find("."+n);switch(s.length||(this.$tab.append('<div class="'+n+'"></div>'),s=this.$tab.find("."+n)),e){case"help":i=new T({$button:t,el:s,name:e,visible:!0}),this.tabs.push(i);break;case"store":i=new C({$button:t,el:s,name:e,visible:!0}),this.tabs.push(i);break;case"account":i=new p({$button:t,el:s,name:e,visible:!0}),this.tabs.push(i);break;case"basket":i=new w({$button:t,el:s,name:e,visible:!0})}return i},deleteBasketView:function(){return!(!this.currentTab||"basket"!==this.currentTab.name)&&(this.currentTab.visible=!1,this.currentTab.render(),this.currentTab.remove(),!0)}})},ItKX:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));i("4wRS"),i("j29f"),i("RW0V"),i("rE2o"),i("ioFf"),i("91GP"),i("9qp4"),i("/7Lr"),i("uMff");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("J4zp"),l=i.n(o),c=(i("rGqo"),i("yt8O"),i("/8Fb"),{getAttribute:function(){return""}}),d="FnacShare";function u(e,t){window.open(e,d,Object.entries(t).map((function(e){var t=l()(e,2),i=t[0],n=t[1];return"".concat(i,"=").concat(n)})).join(", "))}var h=function(){function e(t){var i=t.el;s()(this,e),this.el=i,this.el.addEventListener("click",this._handleClick.bind(this))}return r()(e,[{key:"_handleClick",value:function(e){e.target.closest("button")||(e.preventDefault(),console.assert(!1,'The target is a <button type="button">'));var t=this.el.dataset,i=t.type,n=t.url,s=void 0===n?Object.assign(new URL(document.location),{hash:""}).href:n,a=t.text,r=void 0===a?(document.querySelector('meta[property="og:title"]')||c).getAttribute("content"):a,o=t.title,l=void 0===o?document.title:o;switch(i){case"facebook":var d=new URL("https://www.facebook.com/sharer/sharer.php");d.searchParams.set("u",s),u(d.href,{width:500,height:500});break;case"whatsapp":var h=new URL("whatsapp://send");h.searchParams.set("text","".concat(r," #fnac")),h.searchParams.set("url",s),u(h.href,{width:500,height:500});break;case"twitter":var p=new URL("https://twitter.com/share");p.searchParams.set("text","".concat(r||l," #fnac")),p.searchParams.set("url",s),u(p.href,{width:500,height:255});break;case"email":var f=new URL("mailto:");f.searchParams.set("body",r.replace("{0}",s)),f.searchParams.set("subject",l),document.location=f.href.replace(/\+/g,"%20")}}}]),e}()},J921:function(e,t,i){"use strict";i("/7Lr"),i("f3/d"),i("a1Th"),i("j29f"),i("RW0V"),i("rE2o"),i("ioFf"),i("+n7n"),i("rGqo"),i("4wRS"),i("Oyvg");var n=i("z0Te"),s=i("EVdn"),a=i.n(s),r=i("TMt3"),o=(i("/RAl"),i("BFXc"),i("cK6b")),l=i.n(o);var c=new l.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.s(n.f("url",e,t,1),e,t,0,8,79,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <a class="a-c_list" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.t(i.f("text",e,t,0))),i.b('<i class="icon"></i></a> ')})),e.pop()),n.b(" "),n.s(n.f("url",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="a-c_list">'),n.b(n.t(n.f("text",e,t,0))),n.b('<i class="icon"></i></div> ')),n.fl()},partials:{},subs:{}},"");var d=new l.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<a class="a-c_product" href="'),n.b(n.v(n.f("url",e,t,0))),n.b('"> '),n.s(n.f("image",e,t,1),e,t,0,49,107,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <div class="a-c_product-img"><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"></div> ')})),e.pop()),n.b(' <div class="a-c_infos"><div class="a-c_title">'),n.b(n.t(n.f("text",e,t,0))),n.b("</div> "),n.s(n.f("text2",e,t,1),e,t,0,191,232,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <div class="subtitle">'),i.b(i.t(i.f("text2",e,t,0))),i.b("</div> ")})),e.pop()),n.b(" </div></a>"),n.fl()},partials:{},subs:{}},"");var u=new l.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<a class="a-c_product a-c_billet" href="'),n.b(n.v(n.f("url",e,t,0))),n.b('"> '),n.s(n.f("image",e,t,1),e,t,0,60,125,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <div class="a-c_product-img-billet"><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"></div> ')})),e.pop()),n.b(' <div class="a-c_infos"><div class="a-c_title">'),n.b(n.t(n.f("text",e,t,0))),n.b("</div> "),n.s(n.f("startDate",e,t,1),e,t,0,213,337,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.s(i.f("endDate",e,t,1),e,t,0,225,325,"{{ }}")&&(i.rs(e,t,(function(e,t,i){i.b(" "),i.b(" <span>Du "),i.b(i.v(i.f("startDate",e,t,0))),i.b(" Au "),i.b(i.v(i.f("endDate",e,t,0))),i.b("</span> ")})),e.pop())})),e.pop()),n.b(" "),n.s(n.f("startDate",e,t,1),e,t,0,366,467,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.s(i.f("endDate",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(" <span>Le "),i.b(i.v(i.f("startDate",e,t,0))),i.b("</span> "))})),e.pop()),n.b(' <div class="a-c_subtitle">'),n.b(n.t(n.f("text2",e,t,0))),n.b('</div><span class="icon"></span></div></a>'),n.fl()},partials:{},subs:{}},"");var h=new l.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<a class="a-c_product" href="'),n.b(n.v(n.f("url",e,t,0))),n.b('"><div class="a-c_product-img-billet"><img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"></div><div class="a-c_infos"><div class="a-c_title">'),n.b(n.t(n.f("text",e,t,0))),n.b("</div> "),n.s(n.f("hasMoreThanOneDate",e,t,1),e,t,0,187,304,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(" "),i.b(" <span>Voir les "),i.b(i.v(i.f("datesCount",e,t,0))),i.b(' dates</span><span class="icon"></span> ')})),e.pop()),n.b(" "),n.s(n.f("hasMoreThanOneDate",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.b(' <span>Voir la manifestation</span><span class="icon"></span> ')),n.b(" </div></a>"),n.fl()},partials:{},subs:{}},""),p=n.searchAutoCompleteGroups,f="a-c_results a-c_groupresults";n.isFnacPro&&(f+=" ac-results--pro"),a()("#Fnac_Search").autocomplete(n.searchAutoCompleteURL,{width:"100%",max:10,groups:p,resultsClass:f,scroll:!1,scrollHeight:null,delay:250,dataType:"jsonp",extraParams:{text:function(){return a()("#Fnac_Search").val()},category:function(){var e=new RegExp("!1$");return a()(".js-Header__search-dropdown").val().replace(e,"")},encoding:"UTF-8"},parse:function(e){if(r.a.trigger("header-tab:close"),a()(".a-c_results").removeClass("modeBillet"),r.a.trigger("header-tab:close"),"Tous&nbsp;produits"===a()(".fake-box a span").html()||"Musique"===a()(".fake-box span").html())e.m=[],a()(".a-c_results").addClass("modeBillet");else if("Livre"===a()(".fake-box a span").html())e.bil=[];else if("Billetterie"===a()(".fake-box a span").html())e.m=e.p=e.s=[];else if(e.bil&&e.bil.length>0){var t=0;e.s.length>0&&(t+=e.s.length+1),e.m.length>0&&(t+=e.m.length+1);var i=Math.floor(10-t>>1);e.bil=i>=1?e.bil.slice(0,i):[]}var s=a()(".js-searchbar-input").val(),o=a()("#category option:selected").text(),l=[];return a.a.map(e,(function(e,t){for(var i,a=0;a<p.length;a++)if(p[a].type===t){i=p[a];break}i&&(l.push({type:"optiongrp",group:i,data:{href:"bil"===i.type?Object(n.fnacSpectacleSearchTemplateURL)({term:""}):null}}),e.forEach((function(e){if("bil"!==i.type||0!==e.nb){if(e.u){var t=new URL(e.u),n=t.searchParams;"bil"===i.type&&(n.set("utm_campaign","billetterie"),n.set("utm_medium","autocompletion"),n.set("utm_source","recherche.fnac.com"));var a=new URLSearchParams(t.hash.substr(1));a.set("st",s),a.set("ct",o),a.set("t","p"===i.type?"p":"c"),t.hash=a.toString(),e.u=t.href}l.push({type:"option",group:i,data:e})}})))})),l},formatItem:function(e){var t=e.type,i=e.group,n=e.data;switch(t){case"optiongrp":return i.name;case"option":switch(i.type){case"bil":switch(n.type){case"manifestation":return u.render({url:n.u,image:n.i||"https://www.fnacspectacles.com/static/uploads/images/defaultManifP.png?1500998559000",text:n.t,endDate:n.edate,startDate:n.sdate,text2:n.st});case"artiste":return h.render({url:n.u,image:"https://www.fnacspectacles.com/static/uploads/images/defaultArtisteP.png?1515403185000",text:n.t,hasMoreThanOneDate:n.nb<2,datesCount:n.nb})}break;case"p":return d.render({url:n.u,image:n.i,text:n.t,text2:n.st});case"m":case"s":default:return c.render({url:n.u,text:n.t})}}return""},onclick:function(){switch(a()(this).closest("ul").parent().get(0).className){case"a-c_col_1":case"a-c_col_2":break;case"a-c_col_0":default:a()("#QuickSearchFormSa").val(1)}}}).result((function(e,t){t&&t.data&&t.data.c&&"-1"!==t.data.c&&a()("select[name=SCat]").val(t.data.c+"!1"),a()("#QuickSearchForm").submit()})),a()("#QuickSearchForm").submit((function(){return""!==a()("#Fnac_Search").val()&&(""!==a()(".pipeSearchWidth .text").val()&&void 0)}))},JSGe:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("lwsE"),s=i.n(n),a=i("a1gu"),r=i.n(a),o=i("Nsbk"),l=i.n(o),c=i("7W2i"),d=i.n(c),u=function(e){function t(e){var i=e.el;return s()(this,t),r()(this,l()(t).call(this,i,{type:"inline",midClick:!0}))}return d()(t,e),t}(i("0oqP").a)},LJf3:function(e,t,i){"use strict";i("bZMm"),i("VRzm"),i("91GP");var n=i("o0o1"),s=i.n(n),a=(i("9qp4"),i("ls82"),i("rE2o"),i("ioFf"),i("HEwt"),i("RIqP")),r=i.n(a),o=(i("XfO3"),i("wCsR"),i("MUug"),i("uMff"),i("/7Lr"),i("yXPU")),l=i.n(o),c=(i("3xKP"),i("+n7n"),i("J4zp")),d=i.n(c),u=(i("/8Fb"),i("rGqo"),i("yt8O"),i("hhXQ"),i("/RAl")),h=i("BFXc"),p=i("z0Te"),f=i("cK6b"),v=i.n(f);var m=new v.a.Template({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<div class="compare-banner'),s.s(s.f("hasItems",e,t,1),e,t,0,39,62,"{{ }}")&&(s.rs(e,t,(function(e,t,i){i.b(" compare-banner--closed")})),e.pop()),s.b(' js-compareBanner"><button class="compare-banner__button js-compareBannerBtn" data-track-click=\'{ "action":"ToggleCompareTool" }\' type="button" aria-expanded="false"><span class="compare-banner__label compare-banner__label--show">'),n='T "nav.core.compare.banner.show"',s.d(n,e,t,1)?s.b(s.t(s.d(n,e,t,0))):s.b(s.t(Object(u.a)("nav.core.compare.banner.show"))),s.b('</span><span class="compare-banner__label compare-banner__label--hide">'),function(i){s.d(i,e,t,1)?s.b(s.t(s.d(i,e,t,0))):s.b(s.t(Object(u.a)("nav.core.compare.banner.hide")))}('T "nav.core.compare.banner.hide"'),s.b('</span>  <span class="compare-banner__count">'),s.b(s.rp("<_CompareItemCount0",e,t,"")),s.b("</span> "),function(i){s.f(i,e,t,1)?s.b(s.v(s.f(i,e,t,0))):s.b(h.a.ri(e.concat({ClassName:["compare-banner__icon"].join(" "),SymbolsUrl:p.symbolsURL,SymbolName:"icon_i_053_arrow_top_01"}),t,""))}('Symbol "icon_i_053_arrow_top_01" "compare-banner__icon"'),s.b(' </button><div class="compare-banner__content"> '),s.b(s.rp("<_CompareError1",e,t,"")),s.b(' <div class="compare-banner__wrapper"><ul class="compare-banner__items"> '),s.b(s.rp("<_CompareItem2",e,t,"")),s.b(' </ul><div class="compare-banner__actions"><button class="compare-banner__action compare-banner__action--disabled js-goToCompare" data-track-click=\'{ "action":"GoToComparePage" }\' type="button">'),function(i){s.d(i,e,t,1)?s.b(s.t(s.d(i,e,t,0))):s.b(s.t(Object(u.a)("nav.core.compare.action.start")))}('T "nav.core.compare.action.start"'),s.b('</button> <button class="compare-banner__action compare-banner__action--alt js-compareBannerClear" data-track-click=\'{ "action":"ClearCompareTool" }\' type="button">'),function(i){s.d(i,e,t,1)?s.b(s.t(s.d(i,e,t,0))):s.b(s.t(Object(u.a)("nav.core.compare.action.end")))}('T "nav.core.compare.action.end"'),s.b("</button></div></div></div></div>"),s.fl()},partials:{"<_CompareItemCount0":{name:"_CompareItemCount",partials:{},subs:{}},"<_CompareError1":{name:"_CompareError",partials:{},subs:{}},"<_CompareItem2":{name:"_CompareItem",partials:{},subs:{}}},subs:{}},"");var b=new v.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.s(n.f("items",e,t,1),e,t,0,10,490,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <li class="compare-item" data-prid="'),i.b(i.v(i.f("Prid",e,t,0))),i.b('" data-catalog="'),i.b(i.v(i.f("CatalogRef",e,t,0))),i.b('"><a class="compare-item__link" href="'),i.f("Url",e,t,1)?i.b(i.v(i.f("Url",e,t,0))):i.b(i.v(function(){console.warn("Not implemented",arguments)}("undefined",""))),i.b('"><img class="compare-item__image" src="'),i.b(i.v(i.f("Image",e,t,0))),i.b('" alt=""><p class="compare-item__name">'),i.b(i.v(i.f("Name",e,t,0))),i.b('</p><span class="compare-item__rating f-star f-star--small S'),i.b(i.v(i.f("AverageRating",e,t,0))),i.b('">'),i.b(i.v(i.f("AverageRating",e,t,0))),i.b('</span></a><button class="compare-item__close js-removeCompareItem" type="button"><svg class="f-icon"><use xlink:href="#icon_i_037_cross_03"></use></svg></button></li> ')})),e.pop()),n.b(" "),n.s(n.f("placeholders",e,t,1),e,t,0,518,670,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <li class="compare-item compare-item--empty"><svg class="f-icon compare-item__placeholder"><use xlink:href="#icon_i_283_placeholder"></use></svg></li> ')})),e.pop()),n.fl()},partials:{},subs:{}},"");var g=new v.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.s(n.f("errorMsg",e,t,1),e,t,0,13,167,"{{ }}")&&(n.rs(e,t,(function(e,t,i){var n;i.b(' <div class="compare-error"> '),n='Symbol "icon_i_266_informations_medium" "compare-error__icon"',i.f(n,e,t,1)?i.b(i.v(i.f(n,e,t,0))):i.b(h.a.ri(e.concat({ClassName:["compare-error__icon"].join(" "),SymbolsUrl:p.symbolsURL,SymbolName:"icon_i_266_informations_medium"}),t,"")),i.b(' <p class="compare-error__message"> '),i.b(i.v(i.f("errorMsg",e,t,0))),i.b(" </p></div> ")})),e.pop()),n.fl()},partials:{},subs:{}},"");var y=new v.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.s(n.f("count",e,t,1),e,t,0,10,23,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b("("),i.b(i.v(i.f("count",e,t,0))),i.b("/5)")})),e.pop()),n.fl()},partials:{},subs:{}},""),w=i("V36v"),C={"f-compare":"f-compare--added","thumbnail-btnOpen":"thumbnail-btnOpen--added","f-toolbarButton":"f-toolbarButton--added","f-faTools__item":"f-faTools__item--added"},T=Object.values(C).map((function(e){return".js-articleCompare.".concat(e)})).join(",");function _(e){return e.matches(T)}function k(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])for(var t=Object.entries(C),i=0;i<t.length;i++){var n=d()(t[i],2),s=n[0],a=n[1];if(e.classList.contains(s)){e.classList.add(a);break}}else Object.values(C).forEach((function(t){return e.classList.remove(t)}))}function S(){return(S=l()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:document.addEventListener("click",(function(e){var t=e.target&&e.target.closest(".js-articleCompare");t&&(_(t)?j(t):P(t))}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function P(e){return x.apply(this,arguments)}function x(){return(x=l()(s.a.mark((function e(t){var i,n,a,r,o,l,c,d,u,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.dataset.prid,n=t.dataset.catalog,!i||!n){e.next=16;break}return e.next=5,$("PUT",p.compareAddTemplateURL,{prid:i,catalog:n});case 5:return a=e.sent,e.next=8,a.json();case 8:for(r=e.sent,o=r.Items||[],l=o.length>0,c=o.length,d=r.Message,u=[],h=0;h<5-c;h++)u.push({});a.ok?(document.querySelector(".js-compareBanner")?V(o,u,c):F(l,o,c,u),z(t),localStorage.setItem("ComparatorValues",r.ComparatorValues),localStorage.setItem("ComparatorButtonActive",r.ButtonActive),B(),D()):r.Items?(document.querySelector(".js-compareBanner")?V(o,u,c,d):F(l,o,c,u,d),D()):document.querySelector(".js-compareBanner")&&(O(r.ExceptionMessage),D());case 16:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function j(e){return L.apply(this,arguments)}function L(){return(L=l()(s.a.mark((function e(t){var i,n,a,o,l,c,d,u,h,f,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.dataset,n=i.prid,a=i.catalog,!n||!a){e.next=18;break}return e.next=6,$("DELETE",p.compareDeleteTemplateURL,{prid:n,catalog:a});case 6:return o=e.sent,e.next=9,o.json();case 9:for(l=e.sent,(c=l.Items)||(c=[]),!!c.length,d=c.length,u=l.message,h=[],f=0;f<5-d;f++)h.push({});o.ok?(v=r()(document.querySelectorAll(".compare-item")).filter((function(e){return e.dataset.prid&&e.dataset.catalog})).map((function(e){return{prid:parseInt(e.dataset.prid),catalog:parseInt(e.dataset.catalog)}})),V(c,h,d),0===d?(document.querySelector(".js-compareBanner").classList.remove("compare-banner--opened"),document.querySelector(".js-compareBanner").classList.remove("compare-banner--closed"),document.querySelector(".js-compareBannerBtn").setAttribute("aria-expanded","false"),localStorage.removeItem("ComparatorValues"),localStorage.removeItem("ComparatorButtonActive")):(localStorage.setItem("ComparatorValues",l.ComparatorValues),localStorage.setItem("ComparatorButtonActive",l.ButtonActive)),v.forEach((function(e){c.some((function(t){return t.Prid===e.prid&&t.CatalogRef===e.catalog}))||N(e.prid,e.catalog)})),B()):l.Items?V(c,h,d,u):O(l.ExceptionMessage);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=l()(s.a.mark((function e(t){var i,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("DELETE",p.compareDeleteAllTemplateURL);case 2:return i=e.sent,e.next=5,i.json();case 5:if(e.sent,!i.ok){e.next=21;break}for(n=[],0,a=[],r=0;r<5;r++)a.push({});V(n,a,0),B(),document.querySelectorAll(T).forEach((function(e){e.dataset&&e.dataset.originalTitle&&(e.dataset.originalTitle=Object(u.a)("nav.core.compare.action.add")),k(e,!1)})),document.querySelector(".js-compareBanner").classList.remove("compare-banner--opened"),document.querySelector(".js-compareBannerBtn").setAttribute("aria-expanded","false"),document.querySelector(".js-goToCompare").classList.toggle("compare-banner__action--disabled",!0),localStorage.removeItem("ComparatorValues"),localStorage.removeItem("ComparatorButtonActive"),e.next=25;break;case 21:return e.next=23,i.json();case 23:O(e.sent.ExceptionMessage);case 25:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return(R=l()(s.a.mark((function e(){var t,i,n,a,r,o,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("ComparatorValues")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,$("GET",p.compareGetTemplateURL);case 5:if(!(t=e.sent).ok){e.next=22;break}return e.next=9,t.json();case 9:for(i=e.sent,n=i.Items,a=!!n.length,r=n.length,o=i.Message,l=[],c=0;c<5-r;c++)l.push({});document.querySelectorAll(".compare-banner").forEach((function(e){return e.remove()})),F(a,n,r,l,o),document.querySelectorAll(".js-articleCompare").forEach((function(e){e.dataset.prid&&e.dataset.catalog&&n.some((function(t){return t.Prid===parseInt(e.dataset.prid)&&t.CatalogRef===parseInt(e.dataset.catalog)}))&&z(e)})),localStorage.setItem("ComparatorValues",i.ComparatorValues),localStorage.setItem("ComparatorButtonActive",i.ButtonActive),B();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.error(e.t0);case 27:case"end":return e.stop()}}),e,this,[[2,24]])})))).apply(this,arguments)}function $(e,t){return E.apply(this,arguments)}function E(){return(E=l()(s.a.mark((function e(t,i){var n,a,r,o,l,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},a=localStorage.getItem("ComparatorValues")||"",r=Object.assign(n,{comparatorValues:a}),o=i(r),e.prev=4,e.next=7,fetch(o,{method:t,mode:"same-origin",credentials:"include"});case 7:return l=e.sent,e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})))).apply(this,arguments)}function F(e,t,i,n,s){var a;a=s?m.render({hasItems:e,items:t,placeholders:n,count:i,errorMsg:s},{_CompareItem:b,_CompareError:g,_CompareItemCount:y}):m.render({hasItems:e,items:t,placeholders:n,count:i},{_CompareItem:b,_CompareItemCount:y}),document.querySelector(".Main").insertAdjacentHTML("beforeend",a),document.querySelectorAll(".js-removeCompareItem").forEach((function(e){var t=e.closest(".compare-item");e.addEventListener("click",(function(){j(t)}))})),document.querySelector(".js-compareBannerBtn").addEventListener("click",U),document.querySelector(".js-goToCompare").addEventListener("click",H),document.querySelector(".js-compareBannerClear").addEventListener("click",A),document.querySelector(".js-goToCompare").classList.toggle("compare-banner__action--disabled",t.length<=1);var o=document.querySelector(".Article.f-search__main");if(o){var l=document.getElementsByClassName("compare-item"),c=o.getElementsByClassName("js-articleCompare"),d=new WeakSet;new w.a((function(){r()(c).forEach((function(e){e.dataset.prid&&e.dataset.catalog&&!d.has(e)&&(d.add(e),r()(l).some((function(t){return t.dataset.prid===e.dataset.prid&&t.dataset.catalog===e.dataset.catalog}))&&z(e))}))})).observe(o,{attributes:!1,childList:!0,characterData:!1,subtree:!1})}}function V(e,t,i,n){var s=b.render({items:e,placeholders:t});document.querySelector(".compare-banner__items").innerHTML=s;var a=y.render({count:i});document.querySelector(".compare-banner__count").innerHTML=a,n&&e.length>=1&&O(n),document.querySelectorAll(".js-removeCompareItem").forEach((function(e){var t=e.closest(".compare-item");e.addEventListener("click",(function(){j(t)}))})),document.querySelector(".js-goToCompare").classList.toggle("compare-banner__action--disabled",e.length<=1)}function O(e){var t=g.render({errorMsg:e});document.querySelector(".compare-error")&&document.querySelector(".compare-error").remove(),document.querySelector(".compare-banner__content").insertAdjacentHTML("afterbegin",t)}function B(){var e=document.querySelector(".compare-error");e&&e.remove()}function z(e){k(e,!0),e.dataset&&e.dataset.originalTitle&&(e.dataset.originalTitle=Object(u.a)("nav.core.compare.action.added"))}function N(e,t){var i=Array.from(document.querySelectorAll(T)).filter((function(i){return i.dataset.prid===String(e)&&i.dataset.catalog===String(t)})),n=!0,s=!1,a=void 0;try{for(var r,o=i[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=r.value;k(l,!1),l.dataset.originalTitle&&(l.dataset.originalTitle=Object(u.a)("nav.core.compare.action.add"))}}catch(e){s=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}}function U(){(document.querySelector(".js-compareBanner").classList.contains("compare-banner--opened")||document.querySelector(".js-compareBanner").classList.contains("compare-banner--closed"))&&(document.querySelector(".js-compareBanner").classList.contains("compare-banner--opened")?(document.querySelector(".js-compareBanner").classList.remove("compare-banner--opened"),document.querySelector(".js-compareBanner").classList.add("compare-banner--closed"),document.querySelector(".js-compareBannerBtn").setAttribute("aria-expanded","false"),document.querySelector(".compare-error")&&document.querySelector(".compare-error").remove()):D())}function D(){document.querySelector(".js-compareBanner").classList.remove("compare-banner--closed"),document.querySelector(".js-compareBanner").classList.add("compare-banner--opened"),document.querySelector(".js-compareBannerBtn").setAttribute("aria-expanded","true")}function H(e){return q.apply(this,arguments)}function q(){return(q=l()(s.a.mark((function e(t){var i,n,a,o,l,c,d,u,h,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"true"!==localStorage.getItem("ComparatorButtonActive")){e.next=7;break}i=localStorage.getItem("ComparatorValues"),n=Object(p.compareTemplateURL)(i?{comparatorValues:i}:null),window.open(n,"_blank"),e.next=26;break;case 7:if(localStorage.getItem("ComparatorButtonActive")||localStorage.getItem("ComparatorValues")){e.next=13;break}document.querySelectorAll(T).forEach((function(e){return k(e,!1)})),document.querySelector(".js-compareBanner").classList.remove("compare-banner--opened"),document.querySelector(".js-compareBannerBtn").setAttribute("aria-expanded","false"),e.next=26;break;case 13:return e.next=15,$("GET",p.compareGetTemplateURL);case 15:return a=e.sent,e.next=18,a.json();case 18:for(o=e.sent,l=o.Items,!!l.length,c=l.length,d=o.Message,u=[],h=0;h<5-c;h++)u.push({});a.ok?(f=r()(document.querySelectorAll(".compare-item")).filter((function(e){return e.dataset.prid&&e.dataset.catalog})).map((function(e){return{prid:parseInt(e.dataset.prid),catalog:parseInt(e.dataset.catalog)}})),V(l,u,c),f.forEach((function(e){l.some((function(t){return t.Prid===e.prid&&t.CatalogRef===e.catalog}))||N(e.prid,e.catalog)})),B()):V(l,u,c,d);case 26:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.a={initialize:function(){return S.apply(this,arguments)},apiCall:$}},LND5:function(e,t,i){"use strict";var n=i("z0Te");window.Fnac=window.Fnac||{};var s=!0;Object.defineProperty(Fnac,"config",{get:function(){return s&&console.warn("Use global Fnac.config is depreciated, use 'import {isMobile} from \"..../Configuration\";' instead."),s=!1,n}});var a=!0;Object.defineProperty(Fnac,"Views",{get:function(){return a&&console.warn("Use Fnac.Views is depreciated, use 'import {MyView} from \"..../MyView\";' instead."),a=!1,{}}})},LSf7:function(e,t,i){"use strict";i("3xKP"),i("4wRS"),i("dRSK");var n=i("q1z7"),s=i.n(n),a=i("XI+/"),r=i.n(a),o=i("hFBX"),l=i("z0Te"),c=i("ttwX"),d=i("EVdn"),u=i.n(d),h=i("F/us"),p=i.n(h),f=i("TMt3"),v=i("0oqP"),m=(i("Kui0"),i("3A8x"),i("pTwk")),b="fnac-warranty",g="money-back-guarantee",y="free-store-returns",w="after-sales-service",C="shipping-and-payment",T="bris-glace";t.a=s.a.View.extend({events:{"click .js-FnacWarrantyPopin":"openFnacWarrantyPopin","click .js-MoneyBackGuaranteePopin":"openMoneyBackGuaranteePopin","click .js-FreeStoreReturnPopin":"openFreeStoreReturnPopin","click .js-AfterSalesServicePopin":"openAfterSalesServicePopin","click .js-ShippingAndPaymentPopin":"openShippingAndPaymentPopin","click .js-SeeSummary":"seeSummary","click .js-CloseSummary":"closeSummary","click .js-NewReview":"loadProductReviewForm","click .js-HelpfulReview":"openHelpfulReviewPopin","click .js-PaymentOffer":"openPaymentOfferDetailsPopin","click .js-BrisGlacePopin":"openBrisGlacePopin"},initialize:function(e){var t=this;this.createInstallmentDrop=this.createInstallmentDrop.bind(this),this.installmentDropOpened=this.installmentDropOpened.bind(this),this.installmentDropClosed=this.installmentDropClosed.bind(this);var i=this.$el.data();this.catalog=i.catalog,this.prid=i.prid,this.isOpen=!1,this.magnificPopup=new v.a,this.createInstallmentDrop(),this.listenTo(f.a,"installmentDrop:open",(function(){t.createInstallmentDrop()})),this.checkAutoDisplayReviewForm()&&this.loadProductReviewForm()},checkAutoDisplayReviewForm:function(){return-1!==window.location.hash.indexOf("newReview")},loadProductReviewForm:function(){if(this.newReviewForm)this.displayPopin();else{var e=[l.pathname,"/api/v1/nav/static?key=new-review"].join(""),t={prid:this.prid,catalog:this.catalog};Object(m.a)({url:e},t).done((function(e){this.newReviewForm={htmlContent:e,prid:t.prid,catalog:t.catalog},this.displayPopin()})).bind(this).error((function(e,t,i){e.status===c.a&&this.displayConflictError(i)})).bind(this)}},displayConflictError:function(e){var t='<span class="f-button-content f-button-content--error isActive">'+e+"</span>",i=u()(".js-NewReview");i.addClass("f-button--disabled f-button--disabledError"),i.append(t)},seeSummary:function(e){e.preventDefault();var t=this.$("#fnacOpinion .whiteContent"),i=this.$("#ficheResume .whiteContent"),n="";t.length?n=t.text():i.length&&(n=i.text());var s=this.$(".js-ProductSummary a").attr("data-close");""!==n&&(this.$('.js-ProductSummary [itemprop="description"]').html(n),this.$(".js-ProductSummary a").removeClass("js-SeeSummary").addClass("js-CloseSummary"),this.$(".js-CloseSummary").html(s))},closeSummary:function(e){e.preventDefault();var t=this.$el.find('.ProductSummary-description [itemprop="description"]').text(),i=t.substring(0,154)+"...",n=this.$el.find(".js-ProductSummary a").attr("data-open");""!==t&&(this.$el.find('.js-ProductSummary [itemprop="description"]').html(i),this.$el.find(".js-ProductSummary a").removeClass("js-CloseSummary").addClass("js-SeeSummary"),this.$el.find(".js-SeeSummary").html(n))},openFnacWarrantyPopin:function(e){e.preventDefault(),Object(m.a)({popinPageName:b}).done((function(t){var i=u()(e.currentTarget).data("delay"),n=t.replace("{0}",i);this.openPopin(n)})).bind(this)},openMoneyBackGuaranteePopin:function(e){e.preventDefault(),Object(m.a)({popinPageName:g}).done(this.openPopin)},openFreeStoreReturnPopin:function(e){e.preventDefault(),Object(m.a)({popinPageName:y}).done(this.openPopin)},openAfterSalesServicePopin:function(e){e.preventDefault(),Object(m.a)({popinPageName:w}).done(this.openPopin)},openShippingAndPaymentPopin:function(e){e.preventDefault(),Object(m.a)({popinPageName:C}).done(this.openPopin)},openBrisGlacePopin:function(e){e.preventDefault(),Object(m.a)({popinPageName:T}).done(this.openPopin)},displayPopin:function(e){if(void 0!==e&&e.preventDefault(),this.newReviewForm){var t={prid:this.newReviewForm.prid};this.openPopin(this.newReviewForm.htmlContent,{callbacks:{open:function(){t.el=this.content[0],new o.a(t)}}})}},openPopin:function(e,t){var i={items:{src:e},type:"inline"};p.a.extend(i,t),this.magnificPopup.open(i)},createInstallmentDrop:function(){var e=this;u()(".js-Oney-installment-listoffer").length&&p.a.each(u()(".js-Oney-installment-listoffer"),(function(t){u()(t).is(":visible")&&(e.installmentDrop=new r.a({target:t,content:'<div class="drop-view-oney"></div>',classes:"drop-theme-arrows",position:"top center",openOn:"hover"}),e.installmentDrop.on("open",e.installmentDropOpened),e.installmentDrop.on("close",e.installmentDropClosed))}))},installmentDropOpened:function(){if(u()(".Oney-installment-listoffer").length){var e=u()(".Oney-installment-listoffer").html();u()(".drop-view-oney").html(e),u()(".Oney-installment-listoffer").remove()}this.installmentDrop.tether.position()},installmentDropClosed:function(){}})},M3TV:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("lwsE"),s=i.n(n),a=i("EVdn"),r=i.n(a),o=(i("HIsd"),function e(t){var i=t.el;s()(this,e),r()(i).tooltip()})},MQta:function(e,t,i){"use strict";var n=i("k7/r"),s=i("F/us"),a=i.n(s),r=i("z0Te");t.a=n.a.extend({initialize:function(){this.setFromAPI=this.setFromAPI.bind(this),this.setErrorFromAPI=this.setErrorFromAPI.bind(this),this.getEnvironment=this.getEnvironment.bind(this),this.url=a.a.compact([r.secureURL,"/basket"]).join("")},buildURL:function(e){switch(e.action){case"add":return a.a.compact([this.url,"/add"]).join("");case"remove":return a.a.compact([this.url,"/delete"]).join("");case"update":return a.a.compact([this.url,"/update"]).join("")}},getEnvironment:function(e){var t=[];switch(e.action){case"add":case"remove":t.push({ProductId:this.get("productId"),Offer:this.get("offerId"),MasterProductId:this.get("masterProductId")});break;case"update":t.push({ProductId:this.get("productId"),Offer:this.get("offerId"),MasterProductId:this.get("masterProductId"),Quantity:this.get("quantityDifference")})}return t},setFromAPI:function(e,t){switch(t.action){case"add":this.set({state:"added",html:e});break;case"remove":this.set({state:"removed",html:e});break;case"update":this.set({state:"updated",html:e})}},setErrorFromAPI:function(e,t){console.error(e)}})},"P+vq":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("lwsE"),s=i.n(n),a=i("gpq1"),r=function e(t){var i=t.el;s()(this,e),new a.a(i,{infinite:!1,variableWidth:!1,slidesToShow:8,slidesToScroll:8,speed:800,prevArrow:'<button class="slick-prev Carousel-arrow LocalStore-arrowPrev" aria-label="Previous" type="button"><i class="icon icon_i_057_arrow_left_01"></i></button>',nextArrow:'<button class="slick-next Carousel-arrow LocalStore-arrowNext" aria-label="Previous" type="button"><i class="icon icon_i_055_arrow_right_01"></i></button>',responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2}}]}).run()}},PTDp:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));i("4wRS"),i("dRSK");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("a1gu"),l=i.n(o),c=i("Nsbk"),d=i.n(c),u=i("7W2i"),h=i.n(u),p=i("q1z7"),f=i.n(p),v=i("z0Te"),m=i("EVdn"),b=i.n(m),g=i("F/us"),y=i.n(g),w=i("TMt3"),C=i("0oqP"),T=function(e){function t(e){return s()(this,t),l()(this,d()(t).call(this,e))}return h()(t,e),r()(t,[{key:"initialize",value:function(e){this.data={},this.basketOneclickAddDone=this.basketOneclickAddDone.bind(this),this.basketOneclickAddDidFail=this.basketOneclickAddDidFail.bind(this),this.onBasketOneClickAuth=this.onBasketOneClickAuth.bind(this),this.renderError=this.renderError.bind(this),this.magnificPopup=new C.a,this.listenTo(w.a,"popupOneclick:open",this.basketAddOneClick)}},{key:"basketOneclickAddDidFail",value:function(e){302==e.status?window.location=e.getResponseHeader("Location"):(w.a.trigger("overlay:hide"),w.a.trigger("flashmessage:show"))}},{key:"basketOneclickAddDone",value:function(e,t,i){var n=i.getResponseHeader("Location");null!=n?window.location=n:this.magnificPopup.open({preloader:!0,closeBtnInside:!0,items:{src:e,type:"inline",fixedContentPos:!0,overflowY:"hidden"},callbacks:{open:this.onBasketOneClickAuth}})}},{key:"basketAddOneClick",value:function(e){var t={url:v.cartOneClickURL,type:"POST",data:JSON.stringify(e),xhrFields:{withCredentials:!0},contentType:"application/json",headers:{"X-Requested-With":"XMLHttpRequest",Authorization:v.apiAuth}};b.a.ajax(t).done(this.basketOneclickAddDone).fail(this.basketOneclickAddDidFail)}},{key:"onBasketOneClickAuth",value:function(){var e=this;b()(".f-js-LoginPopin-signIn").on("submit",(function(t){t.preventDefault();var i=b()(t.currentTarget);i.find("input").removeClass("input-validation-error"),i.find("[data-valmsg-for]").each((function(e,t){b()(t).empty()}));var n={url:v.secureURL+"/api/login/rest/v2",method:"POST",data:b()(t.currentTarget).serialize(),xhrFields:{withCredentials:!0},headers:{"X-Requested-With":"XMLHttpRequest",Authorization:v.apiAuth}};b.a.ajax(n).done((function(){var e=b()(".f-js-LoginPopin-signIn");if(e.length)window.location=e.attr("action");else{var t=b()("a[data-one-click]").attr("href")||v.cartOneClickURL;window.location=t}})).fail((function(t){var n=t.responseJSON.ModelState||[];y.a.each(n,(function(t,n){e.renderError(i,n,t)}))}))}))}},{key:"renderError",value:function(e,t,i){var n=i[0];if("Form"===t){(a=e.find("span[data-valmsg-for='form']")).html("<span for='form' generated='true' class>"+n+"</span>"),e.find("input").addClass("input-validation-error")}else{var s=t.replace("loginViewModel.",""),a=e.find("div[data-valmsg-for="+s+"]"),r=e.find("input[name="+s+"]");a.html('<span for="'+s+'" generated="true" class>'+n+"</span>").addClass("field-validation-error"),r.addClass("input-validation-error")}}}]),t}(f.a.View)},PrP4:function(e,t,i){"use strict";i("3xKP");var n=i("MVZn"),s=i.n(n),a=(i("uMff"),i("0XBK"),i("lwsE")),r=i.n(a),o=i("W8MJ"),l=i.n(o),c=i("a1gu"),d=i.n(c),u=i("Nsbk"),h=i.n(u),p=i("iWIM"),f=i.n(p),v=i("7W2i"),m=i.n(v),b=i("PJYZ"),g=i.n(b),y=(i("+n7n"),i("rGqo"),i("f3/d"),i("INYr"),i("o0o1")),w=i.n(y),C=(i("hNHW"),i("9qp4"),i("ls82"),i("yXPU")),T=i.n(C),_=i("z0Te"),k=i("Csp+"),S=i("KR4w"),P=i("+g4r"),x=i("zWy1"),j=function(){function e(t){var i=t.el;r()(this,e),this.el=i,this._open=!1,this.prid=null,this.catalog=null,this.offer=null,this.close=this.close.bind(this),this._handleSubmitEvent=this._handleSubmitEvent.bind(this),this._container=this.el.querySelector(".js-addtoWishlist-container"),this.el.addEventListener("submit",this._handleSubmitEvent)}var t,i;return l()(e,[{key:"_getChoicesHTML",value:function(e){return""}},{key:"_getNotIdentifiedHTML",value:function(e){return""}},{key:"_getCompleteHTML",value:function(e){return""}},{key:"_getItemsHTML",value:function(e){return""}},{key:"show",value:function(){if(this._open)throw new Error("InvalidStateError");this._open=!0,_.isUserIdentified?(this._container.innerHTML=this._getChoicesHTML({}),this._updateModalWishlists()):this._container.innerHTML=this._getNotIdentifiedHTML({})}},{key:"close",value:function(){this._open&&(this._open=!1)}},{key:"_handleSubmitEvent",value:(i=T()(w.a.mark((function e(t){var i,n,s,a,r,o,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i=t.target,n=i.elements.namedItem("wishlist_name"),!(s=n.value.trim())){e.next=13;break}return e.next=7,Object(k.a)(s);case 7:return a=e.sent,r=a.publicId,n.value="",e.next=12,this._updateModalWishlists(r);case 12:return e.abrupt("return");case 13:return o=i.elements.namedItem("wishlists").value,e.next=16,Object(x.a)(Object(S.a)(o,this.prid,this.catalog,this.offer));case 16:return this._container.innerHTML=this._getCompleteHTML({}),e.next=19,Object(x.a)(Object(P.a)(!0),[]);case 19:l=e.sent,this.el.dispatchEvent(new CustomEvent("wishlistsupdate",{bubbles:!0,cancelable:!0,detail:l}));case 21:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_updateModalWishlists",value:(t=T()(w.a.mark((function e(){var t,i,n,s,a=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,e.next=3,Object(x.a)(Object(P.a)(!0),[]);case 3:i=e.sent,n=Math.max(i.findIndex((function(e){return e.publicId===t})),0),s=i.map((function(e,t){var i=e.publicId,s=e.numberOfItems;return{id:i,name:e.name,numberOfItems:s,selected:t===n}})),this.el.querySelectorAll(".js-f-wishlist-dialog-form button[type=submit]").forEach((function(e){return e.disabled=0===s.length})),this.el.querySelector(".js-f-wishlist-dialog-count").innerText="(".concat(s.length,")"),this.el.querySelector(".js-f-wishlist-dialog-list").innerHTML=this._getItemsHTML({wishlistItems:s});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"open",get:function(){return this._open}}]),e}(),L=i("/RAl"),A=i("BFXc"),I=i("cK6b"),M=i.n(I);var R=new M.a.Template({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<div class="f-wishlist-dialog"><button type="submit" class="js-addtoWishlist-close thumbnail-btn thumbnail-btnClose">'),n='Symbol "icon_i_037_cross_03"',s.f(n,e,t,1)?s.b(s.v(s.f(n,e,t,0))):s.b(A.a.ri(e.concat({ClassName:[].join(" "),SymbolsUrl:_.symbolsURL,SymbolName:"icon_i_037_cross_03"}),t,"")),s.b('</button><div class="f-wishlist-dialog__container js-addtoWishlist-container"> '),s.b(" </div></div>"),s.fl()},partials:{},subs:{}},"");var $=new M.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.s(n.f("wishlistItems",e,t,1),e,t,0,18,358,"{{ }}")&&(n.rs(e,t,(function(e,t,i){i.b(' <div class="f-wishlist-dialog__li"><input type="radio" name="wishlists" class="f-wishlist-dialog__li-input" value="'),i.b(i.v(i.f("id",e,t,0))),i.b('" '),i.s(i.f("selected",e,t,1),e,t,0,155,164,"{{ }}")&&(i.rs(e,t,(function(e,t,i){i.b(" checked ")})),e.pop()),i.b(' id="wishlist-'),i.b(i.v(i.f("id",e,t,0))),i.b('"> <label class="f-wishlist-dialog__li-label" for="wishlist-'),i.b(i.v(i.f("id",e,t,0))),i.b('"> '),i.b(i.v(i.f("name",e,t,0))),i.b(' <span class="f-wishlist-dialog__li-count">('),i.b(i.v(i.f("numberOfItems",e,t,0))),i.b(")</span></label></div> ")})),e.pop()),n.fl()},partials:{},subs:{}},"");var E=new M.a.Template({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<div class="f-wishlist-dialog__content"><div class="f-wishlist-dialog__general-msg"> '),n='Symbol "icon_i_102_check_03" "f-wishlist-dialog__general-msg-icon"',s.f(n,e,t,1)?s.b(s.v(s.f(n,e,t,0))):s.b(A.a.ri(e.concat({ClassName:["f-wishlist-dialog__general-msg-icon"].join(" "),SymbolsUrl:_.symbolsURL,SymbolName:"icon_i_102_check_03"}),t,"")),s.b(' <p class="f-wishlist-dialog__general-msg-text"> '),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("wishlist.popinheader.confirm")))}('T "wishlist.popinheader.confirm"'),s.b(' </p></div><a href="'),s.b(s.v(s.f("myAccountWishlistURL",e,t,0))),s.b('" class="f-wishlist-dialog__action f-wishlist-dialog__action--alt">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("mobile.account.nav.wishlist")))}('T "mobile.account.nav.wishlist"'),s.b("</a></div>"),s.fl()},partials:{},subs:{}},"");var F=new M.a.Template({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<p class="f-wishlist-dialog__title">'),n='T "core.wishlist.layout.title"',s.d(n,e,t,1)?s.b(s.v(s.d(n,e,t,0))):s.b(s.v(Object(L.a)("core.wishlist.layout.title"))),s.b('</p><div class="f-wishlist-dialog__content"><div class="f-wishlist-dialog__general-msg"><p class="f-wishlist-dialog__general-msg-text">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("core.wishlist.layout.message")))}('T "core.wishlist.layout.message"'),s.b('</p></div><a href="'),s.b(s.v(s.f("loginURL",e,t,0))),s.b('" class="f-wishlist-dialog__action">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("mobile.fa.popin.wishlist.authentybuttontext")))}('T "mobile.fa.popin.wishlist.authentybuttontext"'),s.b('</a><a href="'),s.b(s.v(s.f("createAccountURL",e,t,0))),s.b('" class="f-wishlist-dialog__action f-wishlist-dialog__action--alt">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("desktop.account.logon.createaccount")))}('T "desktop.account.logon.createaccount"'),s.b("</a></div>"),s.fl()},partials:{},subs:{}},"");var V=new M.a.Template({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<div class="f-wishlist-dialog__title"> '),n='T "core.wishlist.layout.title"',s.d(n,e,t,1)?s.b(s.v(s.d(n,e,t,0))):s.b(s.v(Object(L.a)("core.wishlist.layout.title"))),s.b('<span class="f-wishlist-dialog__list-count js-f-wishlist-dialog-count">(0)</span></div><form class="f-wishlist-dialog__content js-f-wishlist-dialog-form"><div class="f-wishlist-dialog__list js-f-wishlist-dialog-list"> '),s.b(' </div><div class="f-wishlist-dialog__add-fieldset"> '),s.b(' <input name="wishlist_name" class="f-wishlist-dialog__add-input" placeholder="'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("core.wishlist.layout.title2")))}('T "core.wishlist.layout.title2"'),s.b('"> <button type="submit" name="wishlist_add_btn" class="f-wishlist-dialog__action f-wishlist-dialog__action--alt f-wishlist-dialog__add-action">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("wishlist.popinheader.button.create")))}('T "wishlist.popinheader.button.create"'),s.b('</button></div><button type="submit" class="f-wishlist-dialog__action" data-track-click=\'{ "action":"AddToWishlistTool", "availability":"'),s.b(s.v(s.f("availability",e,t,0))),s.b('", "prid":"'),s.b(s.v(s.f("prid",e,t,0))),s.b("\" }'> "),function(i){s.f(i,e,t,1)?s.b(s.v(s.f(i,e,t,0))):s.b(A.a.ri(e.concat({ClassName:["f-wishlist-dialog__action-icon"].join(" "),SymbolsUrl:_.symbolsURL,SymbolName:"icon_i_119_Heart_Full"}),t,""))}('Symbol "icon_i_119_Heart_Full" "f-wishlist-dialog__action-icon"'),s.b(" "),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(L.a)("wishlist.popinheader.button.addtowishlist")))}('T "wishlist.popinheader.button.addtowishlist"'),s.b(" </button></form>"),s.fl()},partials:{},subs:{}},"");i.d(t,"a",(function(){return O}));var O=function(e){function t(){var e,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).el;r()(this,t),(e=d()(this,h()(t).call(this,{el:i||document.createRange().createContextualFragment(R.render()).firstElementChild})))._handleClickEvent=e._handleClickEvent.bind(g()(g()(e)));var n=e.el.querySelector(".js-addtoWishlist-close");return n&&n.addEventListener("click",e._handleClickEvent),e}return m()(t,e),l()(t,[{key:"_handleClickEvent",value:function(){this.close()}},{key:"_getChoicesHTML",value:function(e){return V.render(e)}},{key:"_getNotIdentifiedHTML",value:function(e){return F.render(s()({},e,{loginURL:_.loginURL,createAccountURL:_.createAccountURL}))}},{key:"_getCompleteHTML",value:function(e){return E.render(s()({},e,{myAccountWishlistURL:Object(_.myAccountWishlistTemplateURL)()}))}},{key:"_getItemsHTML",value:function(e){return $.render(e)}},{key:"show",value:function(){f()(h()(t.prototype),"show",this).call(this),this.el.classList.add("f-wishlist-dialog--open")}},{key:"close",value:function(){f()(h()(t.prototype),"close",this).call(this),this.el.classList.remove("f-wishlist-dialog--open")}}]),t}(j)},RXko:function(e,t,i){"use strict";i("OG14"),i("4wRS"),i("a1Th");var n=i("EVdn"),s=i.n(n),a=i("q1z7"),r=i.n(a),o=i("F/us"),l=i.n(o),c=i("z0Te"),d=function(e,t){return s.a.post(Object(c.geocodingCacheTemplateURL)({term:e}),t,"json")},u=function(e){return s.a.get(Object(c.geocodingCacheTemplateURL)({term:e}),{},"json")};function h(e){return"https://dev.virtualearth.net/REST/v1/Locations?query="+e}function p(e,t){return e=e.toString().toLowerCase().trim(),"FR"===t&&(t="monaco"===(e="valence"===e?"valence,drôme":e)?"monaco":t),"BE"===t&&(t="luxembourg"===e?"Luxembourg, Luxembourg":t),e+","+t.toLowerCase()}var f="mapServiceCallback"+Math.random().toString().replace(/\D/g,"")+"_"+Date.now(),v="https://www.bing.com/api/maps/mapcontrol?callback="+f,m={nav_store_locator:"AjRBuc0Hyy_6A8_rT3AoG6tLX3NuFBsCq0t5Y5MB2WxhnKbYDOBQk9HtaCDfDxL0",nav_search_mag:"mRb5onLuWjx7mmBSZnUU~FO2JxQ2izTCJps_rse-9bQ~AuFhcYTZmUzaYXUTIP5h6YqN9pzQZ86QS12AwL1UeJR80wAlAmvocRvz1dc0_36p",pipe_search_mag:"AmN4JBlc_j9hHCqaNjG8RbBizw6X0JBupviYDn4_AJKEIYq95JLxzOEWDr9cKncU"},b={FR:{zoom:5,latitude:46.227638,longitude:2.213749},ES:{zoom:5,latitude:40.463667,longitude:-3.74922},PT:{zoom:6,latitude:39.399872,longitude:-8.224454},CH:{zoom:7,latitude:46.818188,longitude:8.227512},BE:{zoom:7,latitude:50.503887,longitude:4.469936}},g=!1,y=l.a.extend({},r.a.Events),w=null,C=null,T={entities:[]};t.a=y;window[f]=function(){delete window[f],g=!0,y.trigger("load:"+w)},y.load=function(e){if(w=e,g)y.trigger("load:"+w);else{var t=document.createElement("script");t.src=v,document.getElementsByTagName("head")[0].appendChild(t)}},y.create=function(e,t){return t=t||{},void 0!==T.entities&&T.entities.length>0&&l.a.each(T.entities,(function(e,t){if(e.map&&e.id===w)return e.map})),t.credentials=m.nav_store_locator,t.mapTypeId=Microsoft.Maps.MapTypeId.road,b[c.lang]?(t.zoom=b[c.lang].zoom,t.center=new Microsoft.Maps.Location(b[c.region].latitude,b[c.lang].longitude)):t.zoom=12,t.disableBirdseye=!0,t.enableSearchLogo=!1,t.showDashboard=!1,t.showMapTypeSelector=!1,T.entities.push({id:w,map:new Microsoft.Maps.Map(e,t)}),T.entities[T.entities.length-1].map},y.getCredentials=function(e){var t=s.a.Deferred();return void 0!==T.entities&&T.entities.length>0?l.a.each(T.entities,(function(e,i){e.map&&e.id===w&&e.map.getCredentials((function(e){t.resolve(e)}))})):t.resolve(m[e]),t.promise()},y.search=function(e,t,i){if(C){var n={bounds:e.getBounds(),where:t,callback:function(e){var t=e.results,n=null;t.length&&(n={latitude:t[0].location.latitude,longitude:t[0].location.longitude}),i(n)},errorCallback:function(){i(null)}};C.geocode(n)}else Microsoft.Maps.loadModule("Microsoft.Maps.Search",(function(){C=new Microsoft.Maps.Search.SearchManager(e),y.search(e,t,i)}))},y.geocode=function(e,t,i){return u(e).then((function(e){return e}),(function(){return y.getCredentials(i).then((function(i){t=l.a.extend(t||{},{key:i,output:"json"});var n={url:h(p(e,c.region)),dataType:"jsonp",jsonp:"jsonp",data:t};return s.a.ajax(n).then((function(t,i,n){if(t.resourceSets[0].resources[0]){var s={Latitude:t.resourceSets[0].resources[0].geocodePoints[0].coordinates[0],Longitude:t.resourceSets[0].resources[0].geocodePoints[0].coordinates[1]};return d(e,s),s}}))}))}))},y.icons={fnac:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 40" width="30" height="40"><path d="M15 0C6.7 0 0 6.8 0 15.3 0 23.7 8.4 32.9 15 40c6.6-7.1 15-16.3 15-24.8S23.3 0 15 0z" style="fill:#232323"/><path d="M4.1 17.7h1.5v-4.3h2.6v4.3h1.5v-3.1c.1-.5.4-1.2 1.6-1.3 0 0 1.7-.3 1.9 1.3v3.1h1.5V14c-.3-2.6-3.7-1.8-3.7-1.8-.8.2-1.1.6-1.2.8v-.7H5.6c-.1-1.4 1.2-1.4 1.2-1.4 1.3 0 1.4.9 1.4.9h1.5c0-1.7-2.1-1.9-2.1-1.9-2.1-.2-2.8.6-2.8.6-.7.5-.7 1.5-.7 1.7H2.8v1.1h1.3v4.4zm15.3-1.5c-.4.5-.8.6-1.4.7-.5 0-1.4.1-1.5-.7 0-.8 1.2-.7 2-.8 0 0 .8 0 1-.2.1-.1.2.6-.1 1m0-4c-1.6-.3-2.6 0-2.6 0-1.6.4-1.6 1.8-1.6 1.8h1.5s0-1.1 1.6-1c0 0 1.2.1 1.2.6 0 0 .4.7-1.2.8-1.6.1-3.6.1-3.4 1.7 0 0 0 1.6 2.6 1.5 0 0 1.4 0 2-.7l.1.6h1.5v-3.3c.1-1.7-1.7-2-1.7-2m6.9 3.7c-.2.5-.7.8-1.5.8 0 0-1.8.1-1.9-1.7v-.1c.1-1.8 1.9-1.7 1.9-1.7.8 0 1.3.3 1.5.8h1.5c0-.3-.2-.6-.2-.6-.4-.6-1.2-1.4-3.2-1.2-.6 0-1 .1-1.3.2-.7.3-1.8 1-1.7 2.5v.2c0 1.4 1.1 2.2 1.7 2.5.4.2.8.2 1.3.2 1.3.1 2.2-.2 2.7-.6.7-.6.7-1.3.7-1.3h-1.5z" style="fill:#FFFFFF"/></svg>',fnacSelected:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 40" width="30" height="40"><path d="M15 0C6.7 0 0 6.8 0 15.3 0 23.7 8.4 32.9 15 40c6.6-7.1 15-16.3 15-24.8S23.3 0 15 0z" style="fill:#F5B027"/><path d="M4.1 17.7h1.5v-4.3h2.6v4.3h1.5v-3.1c.1-.5.4-1.2 1.6-1.3 0 0 1.7-.3 1.9 1.3v3.1h1.5V14c-.3-2.6-3.7-1.8-3.7-1.8-.8.2-1.1.6-1.2.8v-.7H5.6c-.1-1.4 1.2-1.4 1.2-1.4 1.3 0 1.4.9 1.4.9h1.5c0-1.7-2.1-1.9-2.1-1.9-2.1-.2-2.8.6-2.8.6-.7.5-.7 1.5-.7 1.7H2.8v1.1h1.3v4.4zm15.3-1.5c-.4.5-.8.6-1.4.7-.5 0-1.4.1-1.5-.7 0-.8 1.2-.7 2-.8 0 0 .8 0 1-.2.1-.1.2.6-.1 1m0-4c-1.6-.3-2.6 0-2.6 0-1.6.4-1.6 1.8-1.6 1.8h1.5s0-1.1 1.6-1c0 0 1.2.1 1.2.6 0 0 .4.7-1.2.8-1.6.1-3.6.1-3.4 1.7 0 0 0 1.6 2.6 1.5 0 0 1.4 0 2-.7l.1.6h1.5v-3.3c.1-1.7-1.7-2-1.7-2m6.9 3.7c-.2.5-.7.8-1.5.8 0 0-1.8.1-1.9-1.7v-.1c.1-1.8 1.9-1.7 1.9-1.7.8 0 1.3.3 1.5.8h1.5c0-.3-.2-.6-.2-.6-.4-.6-1.2-1.4-3.2-1.2-.6 0-1 .1-1.3.2-.7.3-1.8 1-1.7 2.5v.2c0 1.4 1.1 2.2 1.7 2.5.4.2.8.2 1.3.2 1.3.1 2.2-.2 2.7-.6.7-.6.7-1.3.7-1.3h-1.5z" style="fill:#FFFFFF"/></svg>',darty:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="40px" viewBox="424.37 305.985 30 40" enable-background="new 424.37 305.985 30 40" xml:space="preserve"><path fill="#EE252E" d="M439.37,305.985c-8.301,0-15,6.8-15,15.3c0,8.399,8.4,17.601,15,24.7c6.6-7.1,15-16.301,15-24.8C454.37,312.684,447.67,305.985,439.37,305.985z"/><ellipse fill="#231F20" cx="439.453" cy="320.651" rx="11.833" ry="11.167"/><path fill="#FFFFFF" d="M430.47,318.784v3.8c0,0,0.9,0.2,0.9-1.9C431.37,318.584,430.47,318.784,430.47,318.784L430.47,318.784zM435.47,318.784l-0.4,2.2h0.8 M439.869,318.584v1.7c0,0,0.701,0,0.701-0.8C440.57,318.584,439.869,318.584,439.869,318.584z"/><path fill="#FFFFFF" d="M439.37,309.285c-6.601,0-12,5.2-12,11.5s5.4,11.5,12,11.5c6.6,0,11.999-5.1,11.999-11.5\tC451.369,314.485,445.97,309.285,439.37,309.285z M430.87,323.884h-2.3c0,0,0.2-1.399,0.2-3.199c0-1.8-0.2-3.2-0.2-3.2h2.3\tc0.8,0,2.1,0.5,2.1,3.2S431.669,323.884,430.87,323.884z M449.27,323.884h-2c0,0,0.199-1.499-0.2-3.199c-0.299-1.3-0.899-2.6-1.1-3\tv1.3c-0.5-0.2-1.1-0.2-1.1-0.2v2.3l0.199,2.9h-2c0,0,0.1-1.7,0.2-2.9c0.101-1.1,0-2.3,0-2.3c-0.5,0-0.9,0.1-1,0.2v0.4c0,1.4-1.101,1.8-1.101,1.8s0.301,0.4,0.7,1.2c0.5,0.8,0.801,1.6,0.801,1.6h-2.2c0,0,0-0.399-0.2-1.1c-0.199-0.7-0.5-1.1-0.5-1.1s-0.1,0.4,0,1.1c0.1,0.701,0.2,1.1,0.2,1.1h-3.9v-0.8c-0.1-0.5-0.2-0.9-0.2-0.9h-1c0,0-0.101,0.3-0.2,0.8c-0.1,0.6,0,0.799,0,0.799h-2c0,0,0.5-1.699,0.8-3.199c0.3-1.5,0.5-3.2,0.5-3.2h2.9c0,0,0.2,1.7,0.5,3.2c0.2,1,0.501,2.1,0.7,2.7c0.1-0.5,0.1-1.4,0.1-2.7c0-2-0.199-3.2-0.199-3.2h2.9c0.299,0,1.099,0.2,1.399,1.1v-1.1h5.6l0.501,1.9l0.5-1.9h1.899c0,0-0.8,1.6-1.199,3.2C449.07,322.385,449.27,323.884,449.27,323.884z"/></svg>',dartySelected:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="40px" viewBox="424.37 305.985 30 40" enable-background="new 424.37 305.985 30 40" xml:space="preserve"><path fill="#EE252E" d="M439.37,305.985c-8.301,0-15,6.8-15,15.3c0,8.399,8.4,17.601,15,24.7c6.6-7.1,15-16.301,15-24.8\tC454.37,312.684,447.67,305.985,439.37,305.985z"/><ellipse fill="#FFFFFF" cx="439.453" cy="320.651" rx="11.833" ry="11.168"/><path fill="#EE252E" d="M430.47,318.784v3.8c0,0,0.9,0.2,0.9-1.9C431.37,318.584,430.47,318.784,430.47,318.784L430.47,318.784zM435.47,318.784l-0.4,2.2h0.8 M439.869,318.584v1.7c0,0,0.701,0,0.701-0.8C440.57,318.584,439.869,318.584,439.869,318.584z"/><path fill="#EE252E" d="M439.37,309.285c-6.601,0-12,5.2-12,11.5s5.4,11.5,12,11.5c6.6,0,11.999-5.1,11.999-11.5C451.369,314.485,445.97,309.285,439.37,309.285z M430.87,323.884h-2.3c0,0,0.2-1.399,0.2-3.199c0-1.8-0.2-3.2-0.2-3.2h2.3c0.8,0,2.1,0.5,2.1,3.2S431.669,323.884,430.87,323.884z M449.27,323.884h-2c0,0,0.199-1.499-0.2-3.199c-0.299-1.3-0.899-2.6-1.1-3v1.3c-0.5-0.2-1.1-0.2-1.1-0.2v2.3l0.199,2.9h-2c0,0,0.1-1.7,0.2-2.9c0.101-1.1,0-2.3,0-2.3c-0.5,0-0.9,0.1-1,0.2v0.4c0,1.4-1.101,1.8-1.101,1.8s0.301,0.4,0.7,1.2c0.5,0.8,0.801,1.6,0.801,1.6h-2.2c0,0,0-0.399-0.2-1.1c-0.199-0.7-0.5-1.1-0.5-1.1s-0.1,0.4,0,1.1c0.1,0.701,0.2,1.1,0.2,1.1h-3.9v-0.8c-0.1-0.5-0.2-0.9-0.2-0.9h-1c0,0-0.101,0.3-0.2,0.8c-0.1,0.6,0,0.799,0,0.799h-2c0,0,0.5-1.699,0.8-3.199c0.3-1.5,0.5-3.2,0.5-3.2h2.9c0,0,0.2,1.7,0.5,3.2c0.2,1,0.501,2.1,0.7,2.7c0.1-0.5,0.1-1.4,0.1-2.7c0-2-0.199-3.2-0.199-3.2h2.9c0.299,0,1.099,0.2,1.399,1.1v-1.1h5.6l0.501,1.9l0.5-1.9h1.899c0,0-0.8,1.6-1.199,3.2C449.07,322.385,449.27,323.884,449.27,323.884z"/></svg>',fnacRelay:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 40" width="30" height="40"><path d="M15 0C6.7 0 0 6.8 0 15.3 0 23.7 8.4 32.9 15 40c6.6-7.1 15-16.3 15-24.8S23.3 0 15 0z" style="fill:#232323"/><path d="M14 5.5L6.5 9.9V19l9.4 5.5 7.6-4.4V11L14 5.5zm7.5 5.9l-2.1 1.1L12 8.1 14 7l7.5 4.4zm-6.3 11l-7.4-4.3v-6.7l7.4 4.3v6.7zm.7-7.9l-7.3-4.3L10.7 9l7.3 4.3-2.1 1.2zm6.2 4.8l-5.5 3.2v-6.8l5.5-3.1v6.7z" style="fill:#FFFFFF"/></svg>',fnacRelaySelected:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 40" width="30" height="40"><path d="M15 0C6.7 0 0 6.8 0 15.3 0 23.7 8.4 32.9 15 40c6.6-7.1 15-16.3 15-24.8S23.3 0 15 0z" style="fill:#F5B027"/><path d="M14 5.5L6.5 9.9V19l9.4 5.5 7.6-4.4V11L14 5.5zm7.5 5.9l-2.1 1.1L12 8.1 14 7l7.5 4.4zm-6.3 11l-7.4-4.3v-6.7l7.4 4.3v6.7zm.7-7.9l-7.3-4.3L10.7 9l7.3 4.3-2.1 1.2zm6.2 4.8l-5.5 3.2v-6.8l5.5-3.1v6.7z" style="fill:#FFFFFF"/></svg>'},y.icon=function(e){0===e.organization&&(e.organization="fnac");return e=e||{},"shop"===(e=s.a.extend({organization:"fnac",type:"shop",selected:!1},e)).type?"fnac"===e.organization?e.selected?y.icons.fnacSelected:y.icons.fnac:e.selected?y.icons.dartySelected:y.icons.darty:e.selected?y.icons.fnacRelaySelected:y.icons.fnacRelay}},RcZ2:function(e,t,i){"use strict";i("xfY5");var n=i("q1z7"),s=i.n(n),a=i("TMt3"),r=i("p46w"),o=i.n(r);t.a=s.a.View.extend({initialize:function(){this.listenTo(a.a,"cartcount:update",this.update),this.update({count:this.getCookieNumberArticles()}),this.cartChangeListener()},cartChangeListener:function(){var e=this.getCookieNumberArticles();e!==this.count&&this.cartRefresh(e),requestAnimationFrame(this.cartChangeListener.bind(this))},cartRefresh:function(e){this.update({count:e}),a.a.trigger("headerTabBasketView:refresh")},getCookieNumberArticles:function(){return Number(o.a.get("NBART"))||0},update:function(e){e&&void 0!==e.count&&(this.count=Number(e.count),this.render())},render:function(){this.count<100?this.$el.text(this.count):this.$el.text(this.$el.data("maxlabel")),this.count>0?this.$el.removeClass("Header__tabs-cartCount--empty"):this.$el.addClass("Header__tabs-cartCount--empty")}})},TMt3:function(e,t,i){"use strict";var n=i("q1z7");t.a=Object.create(n.Events)},UJqJ:function(e,t,i){"use strict";i("T39b");var n=i("J4zp"),s=i.n(n),a=(i("rE2o"),i("ioFf"),i("9VmF"),i("91GP"),i("RIqP")),r=i.n(a),o=(i("Z2Ku"),i("L9s1"),i("EK0E"),i("rGqo"),i("yt8O"),i("XfO3"),i("9AAn"),i("V36v")),l={},c=new Map,d=new Map,u=new WeakMap,h=new WeakMap;t.a={define:function(e,t,i){if(c.has(e)||r()(c.values()).includes(t))throw Object.assign(new Error("The registry already contains an entry with the same name or the same constructor"),{name:"NotSupportedError"});if(!e.startsWith("js-"))throw new SyntaxError("The provided name is not a valid component name");if("function"!=typeof t)throw new TypeError("The referenced constructor is not a constructor.");c.set(e,t),d.set(e,document.getElementsByClassName(e))},get:function(e){return c.get(e)},whenDefined:function(e){console.error("Not implemented")}},new o.a((function(){var e=!0,t=!1,i=void 0;try{for(var n,a=d[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=s()(n.value,2),o=r[0],p=r[1],f=!0,v=!1,m=void 0;try{for(var b,g=p[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var y=b.value,w=c.get(o),C=u.get(y);if(void 0!==C){if(!(C===l||C instanceof w)){var T=h.get(y);T&&T.has(w)||(void 0===T&&(T=new Set),h.set(y,T.add(w)),console.error(new TypeError("Components can't reuse same element")))}}else{y.setAttribute("component:"+o,"");var _=void 0;try{_=new w({el:y})}catch(e){console.error(e),_=l}u.set(y,_)}}}catch(e){v=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(v)throw m}}}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}})).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0})},V36v:function(e,t,i){"use strict";i("a1Th");var n="function"==typeof window.MutationObserver&&Function.prototype.toString.call(MutationObserver).indexOf("[native code]")>=0&&window.MutationObserver;t.a=n||function(e,t){t=void 0===t?150:t;var i=null,n=[];return{observe:function(){i||(i=setInterval(e.bind(null,n,this),t))},disconnect:function(){clearInterval(i),i=null},takeRecords:function(){return n}}}},WWCU:function(e,t,i){"use strict";i("uMff");var n=i("F04A");window.addEventListener("useractivity",(function(e){return Object(n.b)(e.detail)}))},"Zm+D":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("uMff");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("EVdn"),l=i.n(o),c=function(){function e(t){var i=t.el;s()(this,e),this._clickHandler=this._clickHandler.bind(this),i.addEventListener("click",this._clickHandler)}return r()(e,[{key:"_clickHandler",value:function(e){var t=e.currentTarget,i=l()(t);i.next().slideToggle("fast"),i.hasClass("js-publiAccordionLight-toggle--open")?i.removeClass("js-publiAccordionLight-toggle--open"):i.addClass("js-publiAccordionLight-toggle--open"),l()(".js-publiAccordionLight-content").not(i.next()).slideUp("fast"),l()(".js-publiAccordionLight-toggle").not(i).removeClass("js-publiAccordionLight-toggle--open")}}]),e}()},c18J:function(e,t,i){"use strict";i("a9os");var n=i("q1z7"),s=i.n(n),a=i("EVdn"),r=i.n(a);t.a=s.a.View.extend({initialize:function(){r()(window).scroll(this.detectScroll)},detectScroll:function(){var e=r()(".js-contentMenu").height();r()(window).scrollTop()>e?(r()(".js-SearchSideAdvertising").addClass("adStick"),r()(".js-SearchSideAdvertising").css("top",r()(window).scrollTop()+"px")):(r()(".js-SearchSideAdvertising").removeClass("adStick"),r()(".js-SearchSideAdvertising").css("top",""))}})},c8UJ:function(e,t,i){},dWTN:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("lwsE"),s=i.n(n),a=i("a1gu"),r=i.n(a),o=i("Nsbk"),l=i.n(o),c=i("7W2i"),d=i.n(c),u=function(e){function t(e){var i=e.el;return s()(this,t),r()(this,l()(t).call(this,i,{disableOn:700,type:"iframe",mainClass:"mfp-fade",overflowY:"hidden",fixedContentPos:!0,removalDelay:160,preloader:!1}))}return d()(t,e),t}(i("0oqP").a)},dsXk:function(e,t,i){"use strict";i("rE2o"),i("ioFf"),i("rGqo"),i("XfO3"),i("HEwt");t.a=function(){for(var e=Array.from(document.querySelectorAll(".js-FiltersContainer")),t=0;t<e.length;t++){var i=e[t],n=Array.from(i.querySelectorAll(".js-Filters-choice")).slice(0,7);if(i.classList.contains("js-FiltersContainer--vendor")){var s=i.querySelectorAll(".js-Filters-choice--vendor-fnacdarty");s.length>0&&(n=s)}var a=!0,r=!1,o=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){l.value.classList.add("isActive")}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}}},"e+L6":function(e,t,i){"use strict";i("Ho5w"),i("fUPw");var n=!0;window.Fnac=window.Fnac||{},Object.defineProperty(Fnac.Services=Fnac.Services||{},"instantiateService",{get:function(){return n&&console.warn("Use global Fnac.Services.instantiateService is depreciated. It's no more needed"),n=!1,{articleItem:function(){},thumbnail:function(){},carousel:function(){}}}})},ekx9:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("MVZn"),s=i.n(n),a=i("QILm"),r=i.n(a),o=i("lwsE"),l=i.n(o),c=i("W8MJ"),d=i.n(c),u=i("a1gu"),h=i.n(u),p=i("Nsbk"),f=i.n(p),v=i("7W2i"),m=i.n(v),b=i("q1z7"),g=i.n(b),y=i("z0Te"),w=(i("0TGv"),i("EVdn")),C=i.n(w),T=i("TMt3"),_=i("Ml6F"),k=i("0oqP"),S=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.el,n=e.hasPriceDrop,a=void 0!==n&&n,o=r()(e,["el","hasPriceDrop"]);return l()(this,t),i=i||C()(_.a.render({hasPriceDrop:a})).appendTo(document.body),h()(this,f()(t).call(this,s()({el:i},o)))}return m()(t,e),d()(t,[{key:"initialize",value:function(e){var t=e.prid,i=e.catalog;this.confirmAlert=this.confirmAlert.bind(this),this.onAlertAddSuccess=this.onAlertAddSuccess.bind(this),this.onAlertAddError=this.onAlertAddError.bind(this),this.hideOverlay=this.hideOverlay.bind(this),this.catalogId=i,this.prid=t,this.initializePopup()}},{key:"initializePopup",value:function(){(new k.a).open({items:{src:this.el,type:"inline"},fixedContentPos:!0,mainClass:"f-mfp",closeBtnInside:!0})}},{key:"confirmAlert",value:function(){var e={data:{context:{},content:{offer:{oref:null,html:null}},environment:{url:location.href,query:{},catalog:this.catalogId,prid:parseInt(this.prid)}},update:{request:{type:"CreateAlertPrice",value:this.prid+"|"+this.catalogId}}},t={url:y.pathname+"/api/product/v1/CreateAlertPrice",type:"POST",contentType:"application/json",data:JSON.stringify(e),headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0}};C.a.ajax(t).done(this.onAlertAddSuccess).fail(this.onAlertAddError)}},{key:"hideOverlay",value:function(){T.a.trigger("overlay:hide")}},{key:"onAlertAddSuccess",value:function(e){this.$(".js-confirmAlert").replaceWith('<span class="f-popin-alertProduct-validatedLabel"><i class="icon icon_i_102_check_03"></i>Ajouté à mes alertes</span>')}},{key:"onAlertAddError",value:function(){}},{key:"events",get:function(){return{"click .js-confirmAlert":"confirmAlert"}}}]),t}(g.a.View)},etLI:function(e,t,i){"use strict";var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("a1gu"),l=i.n(o),c=i("Nsbk"),d=i.n(c),u=i("7W2i"),h=i.n(u),p=i("q1z7"),f=i.n(p),v=f.a.Model.extend({update:function(){return this.set({days:this.getDays(),hours:this.getHours(),minutes:this.getMinutes(),seconds:this.getSeconds(),time:this.getTime()}),this},getDays:function(){var e=Math.floor(this.getTime()/86400);return e>0?e:0},getHours:function(){var e=Math.floor(this.getTime()/3600%24);return e>0?e:0},getMinutes:function(){var e=Math.floor(this.getTime()/60%60);return e>0?e:0},getSeconds:function(){var e=Math.floor(this.getTime()%60);return e>0?e:0},getTime:function(){return(1e3*this.get("timestamp")-Date.parse(new Date))/1e3|0}}),m=(i("/RAl"),i("BFXc"),i("z0Te"),i("cK6b")),b=i.n(m);var g=new b.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="bf-timer__item"><span class="bf-timer__number">'),n.b(n.v(n.f("days",e,t,0))),n.b('</span><span class="bf-timer__label">j</span></div><div class="bf-timer__item"><span class="bf-timer__number">'),n.b(n.v(n.f("hours",e,t,0))),n.b('</span><span class="bf-timer__label">h</span></div><div class="bf-timer__item"><span class="bf-timer__number">'),n.b(n.v(n.f("minutes",e,t,0))),n.b('</span><span class="bf-timer__label">m</span></div><div class="bf-timer__item"><span class="bf-timer__number">'),n.b(n.v(n.f("seconds",e,t,0))),n.b('</span><span class="bf-timer__label">s</span></div>'),n.fl()},partials:{},subs:{}},"");var y=new b.a.Template({code:function(e,t,i){var n=this;return n.b(i=i||""),n.b('<div class="bf-countdown__item"><span class="bf-countdown__number"><span class="bf-countdown__background"></span><span class="bf-countdown__value">'),n.b(n.v(n.f("days",e,t,0))),n.b('</span></span><span class="bf-countdown__label">jours</span></div><div class="bf-countdown__item"><span class="bf-countdown__number"><span class="bf-countdown__background"></span><span class="bf-countdown__value">'),n.b(n.v(n.f("hours",e,t,0))),n.b('</span></span><span class="bf-countdown__label">heures</span></div><div class="bf-countdown__item"><span class="bf-countdown__number"><span class="bf-countdown__background"></span><span class="bf-countdown__value">'),n.b(n.v(n.f("minutes",e,t,0))),n.b('</span></span><span class="bf-countdown__label">minutes</span></div><div class="bf-countdown__item"><span class="bf-countdown__number"><span class="bf-countdown__background"></span><span class="bf-countdown__value">'),n.b(n.v(n.f("seconds",e,t,0))),n.b('</span></span><span class="bf-countdown__label">secondes</span></div>'),n.fl()},partials:{},subs:{}},"");i.d(t,"a",(function(){return w}));var w=function(e){function t(e){return s()(this,t),l()(this,d()(t).call(this,e))}return h()(t,e),r()(t,[{key:"initialize",value:function(e){this.countdownType=this.$el.hasClass("js-bf-countdown--big")?"big":"",this.model=new v(this.$el.data()),this.start()}},{key:"render",value:function(){var e="big"===this.countdownType?y:g;this.$el.html(e.render(this.model.update().toJSON()))}},{key:"start",value:function(){var e=this;return this.interval=setInterval((function(){e.render(),e.model.getTime()<=0&&e.stop()}),1e3),this.render(),this}},{key:"stop",value:function(){clearInterval(this.interval)}}]),t}(f.a.View)},gpq1:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("o0o1"),s=i.n(n),a=(i("ls82"),i("yXPU")),r=i.n(a),o=i("lwsE"),l=i.n(o),c=i("W8MJ"),d=i.n(c),u=i("EVdn"),h=i.n(u),p=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l()(this,e),this.element=t,this.options=i}var t;return d()(e,[{key:"run",value:(t=r()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(22).then(i.t.bind(null,"UWxR",7));case 2:return e.abrupt("return",h()(this.element).slick(this.options));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},hFBX:function(e,t,i){"use strict";i("u5zG"),i("xfY5"),i("dRSK");var n=i("F/us"),s=i.n(n),a=i("z0Te"),r=i("/RAl"),o=i("EVdn"),l=i.n(o),c=i("q1z7"),d=i.n(c);t.a=d.a.View.extend({reviews:[],initialize:function(e){this.prid=e.prid,this.$form=this.$("#formNewReview"),this.$criteriasSection=this.$form.find(".js-CriteriasSection"),this.initializeValidation(),this.isFetching=!1},initializeValidation:function(){l.a.validator.unobtrusive.parse(this.$form),l.a.data(this.$form[0],"validator").settings.ignore=""},events:{"submit #formNewReview":"submitForm","change .js-ReviewRating-input":"reviewValueChanged","mouseover .js-Stars":"onHoverStars","mouseleave .js-ReviewRating":"onMouseLeaverStars","change .js-StrongPoints":"strongPointsChanged","click .popinReview-readMore":"showFullMentions"},showFullMentions:function(e){e.preventDefault(),this.$(".popinReview-mentions-content").toggleClass("visible")},strongPointsChanged:function(e){this.forceWeaknessIsValid()},reviewValueChanged:function(e){var t=l()(e.currentTarget);this.ratingCriteriaToRender={$item:t,value:Number(t.val())},this.render()},submitForm:function(e){if(e.preventDefault(),!this.isFetching){var t=this.$form.valid(),i=this.criteriasIsValid(),n=this.forceWeaknessIsValid();if(t&&i&&n){var s=this.getReviewToCreate(),r=[a.pathname,"/nav/api/products/",this.prid,"/reviews"].join("");this.$(".popinReviewsubmit").addClass("f-button--loading"),l.a.ajax({type:"POST",url:r,data:JSON.stringify(s),contentType:"application/json"}).done((function(e){var t=l()(".js-articleNewReview").length?l()(".js-articleNewReview"):l()(".js-NewReview");t.removeClass("ff-button--dark"),t.addClass("ff-button--disabled ff-button--disabledSuccess ff-button--forestGreen"),t.find(".ff-button-label--success").addClass("isActive"),l.a.magnificPopup.close()})).bind(this),this.isFetching=!0}}},forceWeaknessIsValid:function(){var e=this.$form.find(".js-ForceWeaknessSection"),t=e.find("input"),i=s.a.some(t,(function(e){return""!==e.value})),n=s.a.every(t,(function(e){return""!==e.value})),a=!i||n,o=e.find(".js-ForceWeaknessValidationMessage");return a?(o.text(""),o.addClass("field-validation-valid"),o.removeClass("field-validation-error")):(o.text(Object(r.a)("front.core.views.product.review.forceweakness.required.error.message")),o.removeClass("field-validation-valid"),o.addClass("field-validation-error")),a},criteriasIsValid:function(){var e=this.$criteriasSection.find(".js-ReviewRating-input:checked"),t=this.$criteriasSection.find(".js-Criterias"),i=0===e.length||e.length===t.length,n=this.$form.find(".js-CriteriasValidationMessage");return i?(n.text(""),n.addClass("field-validation-valid"),n.removeClass("field-validation-error")):(n.text(Object(r.a)("front.core.views.product.review.forceweakness.required.error.message")),n.removeClass("field-validation-valid"),n.addClass("field-validation-error")),i},getRatings:function(){var e=this.$criteriasSection.find(".js-ReviewRating-input:checked"),t=[];return l.a.each(e,(function(e,i){var n=l()(i);t.push({$item:n,code:n.data("code"),rating:n.val()})})),t},getReviewToCreate:function(){var e=this.getRatings().map((function(e){return{code:e.code,rating:e.rating}})),t=this.$form.find("#strongPoints_Label"),i=this.$form.find("#disadvantages_Label");return{AuthorInfos:{Nickname:this.$form.find("#AuthorInfos_Nickname").val()},Review:{Text:this.$form.find("#Review_Text").val(),Title:this.$form.find("#Review_Title").val(),Rating:this.$form.find(".js-ReviewRating-input:checked").val(),ProductRatingInfos:{RatingCriteriasContainer:{RatingCriterias:e},ExtraCriteriasContainer:{ExtraCriterias:[{code:t.data("code"),values:[t.val()]},{code:i.data("code"),values:[i.val()]}]}},Article:{ObjectId:this.$form.find("#Review_Article_ObjectId").val(),ObjectModel:this.$form.find("#Review_Article_ObjectModel").val(),PageUrl:this.$form.find("#Review_Article_PageUrl").val()}}}},onHoverStars:function(e){var t=l()(e.currentTarget),i=Number(t.find(".js-ReviewRating-input").val()),n=Object(r.a)("front.core.views.product.author.comments.apreciation.star".concat(i));this.$selectedLabel=t.parents(".js-ReviewRating").children(".js-ratingValueLabel"),this.$selectedLabel.text(n)},onMouseLeaverStars:function(e){if(this.$selectedLabel&&this.$selectedLabel.length){var t=l()(e.currentTarget).find(".checked"),i=Object(r.a)("front.core.views.product.author.comments.apreciation.star".concat(t.length?t.find(".js-ReviewRating-input").val():1));this.$selectedLabel.text(i)}this.$selectedLabel=null},render:function(){var e=this.ratingCriteriaToRender.$item,t=e.parents(".js-ReviewRating").find("span");(t.removeClass("checked"),t.find(".js-ReviewRating-input").prop("checked",!1),this.ratingCriteriaToRender.value>0)&&(e.parents(".js-Stars").addClass("checked"),e.prop("checked",!0))}})},jnYU:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i("KKXr");var n=i("J4zp"),s=i.n(n),a=(i("9VmF"),i("uMff"),i("lwsE")),r=i.n(a),o=i("W8MJ"),l=i.n(o);i("SRfc");var c=0,d=function(){function e(t){var i=t.el;r()(this,e),this._sendInitMessage=this._sendInitMessage.bind(this),this._messageTimeoutHandler=this._messageTimeoutHandler.bind(this),this._messageHandler=this._messageHandler.bind(this),this._debounceResizeRequest=this._debounceResizeRequest.bind(this),this._requestIFrameResize=this._requestIFrameResize.bind(this),this._iframe=i,this._id=i.id||"iframeResizer"+ ++c,this._origin=(this._iframe.src.match(/^https?:\/\/[^\/]+/)||["null"])[0],this._connectionState="init",this._messageTimeoutID=0,this._initIntervalID=0,this._initialize(),window.addEventListener("message",this._messageHandler),window.addEventListener("resize",this._debounceResizeRequest)}return l()(e,[{key:"_debounceResizeRequest",value:function(){requestAnimationFrame(this._requestIFrameResize)}},{key:"_requestIFrameResize",value:function(){"open"!==this._connectionState&&this._postMessage(["resize"],100)}},{key:"_initialize",value:function(){this._clearTimers(),this._connectionState="init",this._initIntervalID=setInterval(this._sendInitMessage,100),this._sendInitMessage()}},{key:"_sendInitMessage",value:function(e){this._postMessage([this._id,8,!1],5e3)}},{key:"_postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&(clearTimeout(this._messageTimeoutID),this._messageTimeoutID=setTimeout(this._messageTimeoutHandler,t));try{this._iframe.contentWindow.postMessage("[iFrameSizer]"+e.join(":"),this._origin)}catch(e){}}},{key:"_messageTimeoutHandler",value:function(){this._clearTimers(),this._connectionState="close"}},{key:"_clearTimers",value:function(){clearInterval(this._initIntervalID),clearTimeout(this._messageTimeoutID)}},{key:"_messageHandler",value:function(e){if(e.source&&(e.source===this._iframe.contentWindow||e.source.parent===this._iframe.contentWindow)){var t=String(e.data);if(t.startsWith("[iFrameSizer]")){this._connectionState="open",this._clearTimers();var i=t.slice("[iFrameSizer]".length).split(":"),n=s()(i,2),a=n[0],r=n[1];e.origin===this._origin&&a===this._id?this._iframe.style.height=r+"px":this._initialize()}}}}]),e}()},jtdI:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("o0o1"),s=i.n(n),a=(i("ls82"),i("yXPU")),r=i.n(a),o=i("lwsE"),l=i.n(o),c=i("W8MJ"),d=i.n(c),u=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l()(this,e),this.element=t,this.options=i}var t;return d()(e,[{key:"run",value:(t=r()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(14).then(i.t.bind(null,"MoxK",7));case 2:return e.abrupt("return",new MediaElement(this.element,this.options));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},jzzt:function(e,t,i){"use strict";function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,n=null,s=null,a=function(){n=null,e.apply(i,s)};return function(){s=arguments,clearTimeout(n),n=setTimeout(a,t)}}function s(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,n=null,s=null,a=function(){e.apply(i,s),n=null};return function(){n||(s=arguments,n=setTimeout(a,t))}}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}))},"k7/r":function(e,t,i){"use strict";i("F/us");var n=i("EVdn"),s=i.n(n),a=i("q1z7"),r=i.n(a),o=i("z0Te");t.a=r.a.Model.extend({url:null,buildURL:function(e){return o.pathname+"/api"+(this.url||"")},getEnvironment:function(e){},buildParams:function(e){var t=e||{};return{url:this.buildURL(t),type:"post",dataType:t.dataType||"json",contentType:"application/json",data:JSON.stringify(this.getEnvironment(t)),headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0}}},fetch:function(e){var t=this,i=this.buildParams(e);s.a.ajax(i).then((function(i){t.setFromAPI(i,e)}),(function(i){t.setErrorFromAPI(i,e)}))},update:function(){this.fetch()},setFromAPI:function(e,t){},setErrorFromAPI:function(e,t){}})},mgCH:function(e,t,i){"use strict";var n=i("/RAl"),s=(i("BFXc"),i("z0Te"),i("cK6b")),a=i.n(s);t.a=new a.a.Template({code:function(e,t,i){var s,a=this;return a.b(i=i||""),a.b('<div class="Header__history-head"><button type="button" class="Header__history-delete js-Header__history-delete">'),s='T "front.common.searchhistory.clear"',a.d(s,e,t,1)?a.b(a.t(a.d(s,e,t,0))):a.b(a.t(Object(n.a)("front.common.searchhistory.clear"))),a.b('</button><div class="Header__history-title">'),function(i){a.d(i,e,t,1)?a.b(a.t(a.d(i,e,t,0))):a.b(a.t(Object(n.a)("front.common.searchhistory.latest")))}('T "front.common.searchhistory.latest"'),a.b('</div></div><ul class="Header__history-list"> '),a.s(a.f("items",e,t,1),e,t,0,298,410,"{{ }}")&&(a.rs(e,t,(function(e,t,i){i.b(' <li class="Header__history-item js-Header__history-listitem" data-value="'),i.b(i.v(i.f("value",e,t,0))),i.b('" tabindex="0">'),i.b(i.v(i.f("term",e,t,0))),i.b("</li> ")})),e.pop()),a.b(" </ul>"),a.fl()},partials:{},subs:{}},"")},okZj:function(e,t,i){"use strict";var n=i("TMt3"),s=!0;window.Fnac=window.Fnac||{},Object.defineProperty(Fnac,"App",{get:function(){return s&&console.warn("Use global Fnac.App is depreciated, use 'import SharedDispatcher from \"..../SharedDispatcher\";' instead."),s=!1,n.a}});var a=!0;Object.defineProperty(window,"SharedDispatcher",{get:function(){return a&&console.warn("Use global SharedDispatcher is depreciated, use 'import SharedDispatcher from \"..../SharedDispatcher\";' instead."),a=!1,n.a}})},qMKK:function(e,t,i){"use strict";i("SRfc"),i("dRSK"),i("9qp4"),i("/7Lr"),i("f3/d"),i("KKXr"),i("0XBK"),i("3xKP"),i("a9os"),i("Oyvg"),i("4wRS");var n=i("z0Te"),s=i("/RAl"),a=i("EVdn"),r=i.n(a),o=(i("Gwkf"),i("TMt3")),l={inputClass:"a-c_input",resultsClass:"a-c_results",loadingClass:"a-c_loading",minChars:1,delay:400,matchSubset:!0,max:100,groups:null,extraParams:{},formatItem:function(e){return e[0]},parse:function(e){return[]},width:0,maxHeight:0,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180,onclick:null,useLayer:!1,showCallBack:null,hideCallBack:null};function c(e,t){var i,s,a={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,PAGEUP:33,PAGEDOWN:34},l=r()(e).attr("autocomplete","off").addClass(t.inputClass),c="",u=0,h={mouseDownOnSelect:!1},p=new d(t,e,f,h);function f(){var e=p.selected();if(!e)return!1;if("a"==e.firstElementChild.tagName.toLowerCase())return b(),!0;var t=r()(e).data("value"),i=t.data.t.replace(/<.*?>/gi,"");return c=i,l.val(i),b(),l.focus(),l.trigger("result",[t]),!0}function v(i){var n=l.val();if(s==a.DEL)return c=n,void p.hide();(i||n!=c)&&(c=n,(n=m(n)).length>=t.minChars?(l.addClass(t.loadingClass),function(i,n,s){i=i.toLowerCase();var a={timestamp:+new Date};r.a.each(t.extraParams,(function(e,t){a[e]="function"==typeof t?t():t})),r.a.ajax({mode:"abort",port:"autocomplete"+e.name,dataType:t.dataType,url:t.url,data:r.a.extend({q:m(i)},a),success:function(e){n(i,t.parse(e))}})}(n=n.toLowerCase(),g)):(y(),p.hide()))}function m(e){var i=function(e){if(!e)return[""];var i=e.split(t.multipleSeparator),n=[];return i.map((function(e,t){r.a.trim(e)&&(n[t]=r.a.trim(e))})),n}(e);return i[i.length-1]}function b(){p.hide(),clearTimeout(i),y()}function g(e,t){t&&t.length&&u?(y(),p.display(t,e)?p.show():p.hide()):b()}function y(){l.removeClass(t.loadingClass)}l.bind("keydown.autocomplete",(function(e){switch(s=e.keyCode,e.keyCode){case a.UP:e.preventDefault(),p.visible()?p.prev():v(!0);break;case a.DOWN:e.preventDefault(),p.visible()?p.next():v(!0);break;case a.PAGEUP:e.preventDefault(),p.visible()?p.pageUp():v(!0);break;case a.PAGEDOWN:e.preventDefault(),p.visible()?p.pageDown():v(!0);break;case a.TAB:case a.RETURN:if(f())return e.preventDefault(),!0,!1;break;case a.ESC:p.hide();break;default:clearTimeout(i),i=setTimeout(v.bind(this,!1),t.delay)}})).focus((function(e){u++})).blur((function(){r()(".search-overlay").remove(),h.mouseDownOnSelect||(clearTimeout(i),i=setTimeout(b,200)),u>0&&o.a.trigger("overlay:hide"),u=0,n.isMobile&&r()(".non-legacy").removeClass("searchOpen").css("top","")})).click((function(e){u++>1&&!p.visible()&&v(!0)}))}function d(e,t,i,a){var o,l,c={ACTIVE:"a-c_over"},d=-1,u=!0;function h(t){o.slice(d,d+1).removeClass(c.ACTIVE),function(e){(d+=e)<0?d=o.length-1:d>=o.length&&(d=0)}(t);var i=o.slice(d,d+1).addClass(c.ACTIVE);if(e.scroll){var n=0;o.slice(0,d).each((function(){n+=this.offsetHeight})),n+i[0].offsetHeight-l.scrollTop()>list[0].clientHeight?l.scrollTop(n+i[0].offsetHeight-l.innerHeight()):n<l.scrollTop()&&l.scrollTop(n)}}function p(t,i){l.empty();var a,c,d=r()("<div/>").appendTo(l),u=(c=t.length,e.max&&e.max<c?e.max:c),h=1,p=!1,f=!0;r()(".a-c_results").removeClass((function(e,t){return(t.match(/(^|\s)empty-\S+/g)||[]).join(" ")}));for(var v=0;v<u;v++){var m=t[v];if(m){var b=e.formatItem(m,v+1,u,i);if(!1!==b&&null!=b)if("optiongrp"==m.type)p&&d.addClass("empty"),v>0&&(d=r()("<div class='a-c_col'/>").appendTo(l),h++),m.data&&m.data.href?r()("<p/>").html(b+"<span class='icon'></span>").appendTo(r()('<a href="'+m.data.href+'"/>').addClass("a-c_grouptitle a-c_grouptitle--bil js-ticket").appendTo(d)):r()("<p/>").html(b).appendTo(r()("<div/>").addClass("a-c_grouptitle").appendTo(d)),a=r()("<ul/>").addClass("a-c_group").appendTo(d),p=!0;else r()("<li/>").html(e.highlight(b,i)).addClass(v%2==0?"a-c_even":"a-c_odd").data("value",m).appendTo(a),p=!1,f=!1}}p&&d.addClass("empty"),o=l.find("li");var g,y=r()("select[name=SCat]").val(),w=y.indexOf("!"),C=l.parent();if(-1!==w)switch(parseInt(y.substr(0,w))){case 0:case 2:case 3:C.find(".ticket").length||"PT"!==n.region||(g=l,r()(g).append('<a class="ac_ticket js-ticket" href="'+Object(n.fnacSpectacleSearchTemplateURL)({term:r()(".js-searchbar-input").val()})+'"><span class="ac_ticket__Image"></span><span class="ac_ticket__Text">'+Object(s.a)("core.common.header.search.showtickets")+'</span><span class="ac_ticket__Icon"></span></a>'));break;default:r()(".ticket",C).length>0&&r()(".ticket").remove()}h>1&&r()(".a-c_results > div:not(.ac_ticket)").each((function(t){"Billetterie"===e.groups[t].name&&"PT"===n.region?r()(this).addClass("a-c_col_"+(e.groups[t].order+1)):r()(this).addClass("a-c_col_"+e.groups[t].order)}));var T=r()(".a-c_billet");if(r()(".a-c_results ").show(),r.a.each(T,(function(e,t){var i=T[e].lastChild.firstChild,n=T[e].lastChild.firstChild.offsetHeight,s=T[e].lastChild.lastChild.offsetHeight;n>12&&s>12&&r()(i).addClass("crop")})),"Tous&nbsp;produits"===r()(".fake-box span").html()||"Musique"===r()(".fake-box span").html()){var _=r()(".a-c_col_0 ul li"),k=r()(".a-c_col_1 ul li");if((_.length<5||k.length<2)&&(r()(".a-c_results ").show(),r.a.each(_,(function(e,t){r()(".ticket").css({position:"relative",top:"0px"})}))),0===_.length){r()(".ticket").css({position:"relative",top:"-2px"})}}"Tous&nbsp;produits"!==r()(".fake-box a span").html()&&"Musique"!==r()(".fake-box span").html()||r()(".a-c_results").addClass("modeBillet"),r()(".forTitle").remove();var S=r()(".ticket");if(r()(".a-c_col_1").hasClass("empty")&&S){var P='<div class="a-c_col_1 forTitle" style="top: 1px;"><a class="a-c_grouptitle a-c_grouptitle--bil js-ticket" href="'+Object(n.fnacSpectacleSearchTemplateURL)({term:""})+'"><p>Billetterie</p></a></div>';S.before(P),r()(".a-c_results").hasClass("modeBillet")&&!r()(".a-c_results").hasClass("empty-double")?S.css({top:"-1px",bottom:"auto"}):S.css({top:"auto",bottom:"-81px"}),"PT"===n.region&&r()(".a-c_col_1.forTitle").remove()}return r()(".a-c_results ").hide(),!f}return{display:function(t,s){return u&&((l=r()("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(".js-Header-search")).mouseover((function(e){var t=r()(e.target).closest("li");d=o.removeClass(c.ACTIVE).index(t),t.addClass(c.ACTIVE)})).on("click","li",(function(t){r()(t.target).closest("li").addClass(c.ACTIVE),null!=e.onclick&&e.onclick.call(t.target,t),i(t.target)})).on("click",".js-ticket",(function(e){e.currentTarget.url=Object(n.fnacSpectacleSearchTemplateURL)({term:r()(".js-searchbar-input").val()})})).mousedown((function(){a.mouseDownOnSelect=!0})).mouseup((function(){a.mouseDownOnSelect=!1})).on("hover",".ac_ticket",(function(e){l.find(".a-c_over").removeClass("a-c_over")})),e.width>0&&l.css("width",e.width),e.maxHeight>0&&l.css("max-height",e.maxHeight),u=!1),p(t,s)},next:function(){h(1)},prev:function(){h(-1)},pageUp:function(){h(0!=d&&d-8<0?-d:-8)},pageDown:function(){d!=o.length-1&&d+8>o.length?h(o.length-1-d):h(8)},hide:function(){l&&l.hide(),o&&o.removeClass(c.ACTIVE),d=-1},visible:function(){return l&&l.is(":visible")},current:function(){return this.visible()&&o.filter("."+c.ACTIVE)[0]},show:function(){var i=r()(t).offset();if(l.css({width:"string"==typeof e.width||e.width>0?e.width:r()(t).width(),top:i.top+t.offsetHeight,left:i.left}).show(),e.scroll&&(l.scrollTop(0),l.css({maxHeight:e.scrollHeight,overflow:"auto"}),r.a.browser.msie&&void 0===document.body.style.maxHeight)){var n=0;o.each((function(){n+=this.offsetHeight}));var s=n>e.scrollHeight;l.css("height",s?e.scrollHeight:n),s||o.width(l.width()-parseInt(o.css("padding-left"))-parseInt(o.css("padding-right")))}},selected:function(e){return e&&e.closest("li").get(0)||o&&o.filter("."+c.ACTIVE).removeClass(c.ACTIVE).get(0)}}}r.a.fn.extend({autocomplete:function(e,t){return(t=r.a.extend({},l,{url:e,data:null,max:t&&!t.scroll?t.max?t.max:10:150},t)).max=21,t.highlight=t.highlight||function(e){return e},this.each((function(){new c(this,t)}))},result:function(e){return this.bind("result",e)}})},sAF6:function(e,t,i){"use strict";i("u5zG");var n=i("EVdn"),s=i.n(n),a={stackCallbacks:{},ready:function(e,t){this[e]&&1==this[e].isready?(this[e].callbackFunction=t,this[e].callbackFunction(),delete this[e].callbackFunction):this.stackCallbacks[e]?this.stackCallbacks[e].push(t):this.stackCallbacks[e]=[t]}};var r={modules:a,register:function(e,t){var i=!1;return a[e]||(a[e]=t(),function(e){e.isready=!0,e.Me=e,e.parent=r,e.core=r}(a[e]),function(e){if(a.stackCallbacks[e])for(var t=a.stackCallbacks[e].length,i=0;i<t;i++)a.stackCallbacks[e][i]()}(e),i=!0),i},start:function(e,t){var i=null;return a[e]?(a[e].init(t),i=a[e]):a.ready(e,(function(){a[e].init(t)})),i},ready:function(e){s()(document).ready(e)},extend:function(e,t){this[e]||(this[e]=t)}};r.register("popins",(function(){var e={idPopinContainer:"popin_container",classes:[],zIndex:10001,offset:{left:0,top:0},content:"",openFader:0,closeFader:0,positionReferer:null,closeTimer:null,manageLeftOverride:!0,layer:{hasLayer:!1,layerObject:null,cssLayer:null},closeOnEscapeKey:!0,closeOnClickLayer:!0},t={};function i(e){if(!s()("#"+e.idPopinContainer).length){var i="<div id='"+e.idPopinContainer+"' style='position:absolute;display:none;' class='"+e.classes.join(" ")+"'></div>";s()("body").append(i)}var a=s()("#"+e.idPopinContainer);e.content.detach&&e.content.show().detach(),a.html(e.content);var r=function(e,t){var i={top:0,left:0};if(null!=e.positionReferer?i=e.positionReferer.offset():(i.left=(s()(window).width()-t.width())/2,i.top=(s()(window).height()-t.height())/2+t.offset().top),i.top+=e.offset.top,i.left+=e.offset.left,e.manageLeftOverride){var n=s()(window).width()-(t.width()+i.left);n<0&&(i.left+=n)}return i}(e,a);a.css({top:r.top+"px",left:r.left+"px","z-index":e.zIndex});var o=null;return e.layer.hasLayer&&(null!=e.layer.layerObject?((o=e.layer.layerObject).detach(),s()("body").append(o),o.css("position","fixed")):(s()("body").append("<div id='"+e.idPopinContainer+"_layer' style='position:fixed'></div>"),o=s()("#"+e.idPopinContainer+"_layer"),e.layer.cssLayer&&o.css(e.layer.cssLayer)),o.css({height:"100%",width:"100%",top:0,left:0,"z-index":e.zIndex-1}),o.fadeTo(e.openFader,o.css("opacity")),e.closeOnClickLayer&&o.off("click").click((function(t){return t.preventDefault(),n(a,o,e.closeFader),!1}))),a.fadeIn(e.openFader),t[e.idPopinContainer]=e,null!=e.closeTimer&&setTimeout((function(){n(a,o,e.closeFader)}),e.closeTimer),e.closeOnEscapeKey&&s()(document).off("keypress").keypress((function(t){27==t.keyCode&&n(a,o,e.closeFader)})),null!=e.closeButton&&e.closeButton.off("click").on("click",(function(t){return t.preventDefault(),n(a,o,e.closeFader),!1})),a}function n(e,t,i){e.fadeOut(i),e.children().fadeOut(i),null!=t&&void 0!==t&&t.fadeOut(i)}return{showPopin:function(t){return i(t=function(t){var i;for(i in e)t[i]||(t[i]=e[i]);return t}(t))},closePopin:function(e){if(e){var i=t[e.attr("id")];if(i){var a=null;i.layer.hasLayer&&(a=null!=i.layer.layerObject?i.layer.layerObject:s()("#"+i.idPopinContainer+"_layer")),n(e,a,i.closeFader)}}}}})),t.a=r,window.AppCore=r},sevt:function(e,t,i){"use strict";i("SRfc");var n=i("z0Te"),s=i("F/us"),a=i.n(s),r=i("9UV2"),o={"fr-FR":{symbol:"€",format:"%v %s",decimalSeparator:",",thousandSeparator:" ",decimal:0},"fr-CH":{symbol:"CHF",format:"",decimalSeparator:".",thousandSeparator:"'",decimal:0},"es-ES":{symbol:"€",format:"%v%s",decimalSeparator:",",thousandSeparator:".",decimal:0},"pt-PT":{symbol:"€",format:"%v%s",decimalSeparator:",",thousandSeparator:".",decimal:0}},l=o["fr-FR"];t.a=function(e,t){var i=t&&t.cultureCode?t.cultureCode:n.locale,s=o[i]||l;t=a.a.defaults(t,{decimal:s.decimal,cultureCode:i,format:s.format,decimalSeparator:s.decimalSeparator,thousandSeparator:s.thousandSeparator,symbol:s.symbol});var c=Object(r.formatMoney)(e,t.symbol,t.decimal,t.thousandSeparator,t.decimalSeparator,t.format);if("fr-CH"===t.cultureCode){var d=/^[1-9]\d*(\.\d+)?$/;if(d.test(c)){var u=c.match(d);c=u[0]+".-"}}return c}},shC4:function(e,t,i){"use strict";i("f3/d"),i("MUug"),i("rGqo"),i("yt8O"),i("/8Fb");var n=i("J4zp"),s=i.n(n),a=i("o0o1"),r=i.n(a),o=(i("hNHW"),i("ls82"),i("yXPU")),l=i.n(o),c=(i("uMff"),i("lwsE")),d=i.n(c),u=i("W8MJ"),h=i.n(u),p=(i("dRSK"),i("z0Te")),f=i("+g4r"),v=i("ohC3"),m=i("/RAl"),b=i("zWy1"),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>1&&e.length>t-1?e.slice(0,t-1)+"…":e};i.d(t,"a",(function(){return T}));var y={"thumbnail-btnOpen":"thumbnail-btnOpen--added","f-toolbarButton":"f-toolbarButton--added","f-faTools__item":"f-faTools__item--added"},w=function(e,t,i,n){return e.find((function(e){return e.itemsDetails.find((function(e){var n=e.Prid,s=e.Catalog;return n==t&&s==i}))}))||null},C=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(b.a)(Object(f.a)(n).then((function(i){return w(i,e,t)})),null)},T=function(){function e(t){var i=t.el;d()(this,e),this.el=i,this._wishlist=null,this.el.addEventListener("click",this._handleClick.bind(this)),this.el.ownerDocument.addEventListener("wishlistsupdate",this._handleWishlistUpdate.bind(this)),this._updateState(p.isUserIdentified?C(this.prid,this.catalog,this.offer):null)}var t,i;return h()(e,[{key:"_handleClick",value:(i=l()(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._wishlist;case 2:if(!(i=e.sent)){e.next=8;break}return e.next=6,Object(b.a)(Object(v.a)(i.publicId,this.prid,this.catalog,this.offer),!1);case 6:return this._updateState(C(this.prid,this.catalog,this.offer,!0)),e.abrupt("return");case 8:this.el.dispatchEvent(new CustomEvent("wishlistinput",{bubbles:!0,cancelable:!0,detail:{prid:this.prid,catalog:this.catalog,offer:this.offer}}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_handleWishlistUpdate",value:function(e){var t=e.detail;this._updateState(w(t,this.prid,this.catalog,this.offer))}},{key:"_updateState",value:(t=l()(r.a.mark((function e(){var t,i,n,a,o,l=this,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,this._wishlist=t,e.next=4,t;case 4:if(i=e.sent,this._wishlist===t){e.next=7;break}return e.abrupt("return");case 7:n=Object.entries(y).find((function(e){var t=s()(e,2),i=t[0];return t[1],l.el.classList.contains(i)})),a=s()(n,2),o=a[1],this.el.classList.toggle(o,i),this.el.title=i?Object(m.a)("wishlist.popinheader.button.tooltipadded",g(i.name,20)):Object(m.a)("wishlist.popinheader.button.addtowishlist"),this.el.setAttribute("aria-label",this.el.title);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"prid",get:function(){return this.el.dataset.prid}},{key:"catalog",get:function(){return this.el.dataset.catalog}},{key:"offer",get:function(){return this.el.dataset.offer}}]),e}()},sjGx:function(e,t,i){"use strict";var n=i("q1z7"),s=i.n(n),a=(i("z0Te"),i("EVdn"),i("/RAl")),r=(i("BFXc"),i("cK6b"));var o=new(i.n(r).a.Template)({code:function(e,t,i){var n,s=this;return s.b(i=i||""),s.b('<div class="f-popover"><div class="popover-topVendor"><div class="bold popover-topVendor-header">'),n='T "front.core.views.seller.professional.topvendor.popover.title"',s.d(n,e,t,1)?s.b(s.v(s.d(n,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.title"))),s.b('</div><dl class="popover-topVendor-criteria"><dt>'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.criteria")))}('T "front.core.views.seller.professional.topvendor.popover.criteria"'),s.b("</dt><dd>"),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.highrating")))}('T "front.core.views.seller.professional.topvendor.popover.highrating"'),s.b("</dd><dd>"),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.quickanswers")))}('T "front.core.views.seller.professional.topvendor.popover.quickanswers"'),s.b("</dd><dd>"),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.quality")))}('T "front.core.views.seller.professional.topvendor.popover.quality"'),s.b('</dd></dl><div class="popover-topVendor-footer"><a class="popover-topVendor-link" href="'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.readmore.link")))}('T "front.core.views.seller.professional.topvendor.popover.readmore.link"'),s.b('" target="_blank">'),function(i){s.d(i,e,t,1)?s.b(s.v(s.d(i,e,t,0))):s.b(s.v(Object(a.a)("front.core.views.seller.professional.topvendor.popover.readmore")))}('T "front.core.views.seller.professional.topvendor.popover.readmore"'),s.b("</a></div></div></div>"),s.fl()},partials:{},subs:{}},"");t.a=s.a.View.extend({initialize:function(){this.isLoaded=!1,this.isActive=!1,this.initContent()},events:{"mouseenter .js-popoverTopVendor-show":"showTopVendorContent","mouseenter .js-popoverTopVendor-container":"showTopVendorContent","mouseleave .js-popoverTopVendor-container":"removeTopVendorContent","mouseleave .f-popover":"removeTopVendorContent",mouseleave:"newFARemoveTopVendorContent","click .js-popoverTopVendor-show":"newFAShowTopVendorContent"},initContent:function(){this.$topVendorContainer=this.$(".js-popoverTopVendor-container"),this.$topVendorContainer.html(o.render()),this.isLoaded=!0,this.isNewFa=!!this.$el.hasClass("js-popoverTopVendor--newFA")},showTopVendorContent:function(e,t){this.isNewFa&&!t||(this.isLoaded||this.initContent(),this.isActive||(this.$topVendorContainer.addClass("isActive"),this.isActive=!0))},removeTopVendorContent:function(e){this.$topVendorContainer.removeClass("isActive"),this.isActive=!1},newFAShowTopVendorContent:function(e){this.isNewFa&&this.showTopVendorContent(e,!0)},newFARemoveTopVendorContent:function(){this.isNewFa&&this.removeTopVendorContent()}})},uoP2:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("lwsE"),s=i.n(n),a=i("a1gu"),r=i.n(a),o=i("Nsbk"),l=i.n(o),c=i("7W2i"),d=i.n(c),u=i("j+LF"),h=i("0oqP"),p=(i("i7QA"),function(e){function t(e){var i=e.el;return s()(this,t),r()(this,l()(t).call(this,i,{items:{src:u.a.render({emailSubject:i.dataset.emailSubject,emailBody:i.dataset.emailBody})},fixedContentPos:!0,mainClass:"f-mfp",closeBtnInside:!0}))}return d()(t,e),t}(h.a))},usl4:function(e,t,i){"use strict";i("9qp4"),i("dRSK"),i("3xKP");var n=i("q1z7"),s=i.n(n),a=i("z0Te"),r=i("SY/u"),o=i("Q+8u"),l=i("EVdn"),c=i.n(l),d=i("jtdI");t.a=s.a.View.extend({initialize:function(){this.hideControls=this.hideControls.bind(this),this.onFullScreenModeChange=this.onFullScreenModeChange.bind(this),this.onPlayerReady=this.onPlayerReady.bind(this),this.onVideoEnded=this.onVideoEnded.bind(this),this.onProgressMouseUp=this.onProgressMouseUp.bind(this),this.onProgressTouchStart=this.onProgressTouchStart.bind(this),this.onProgressTouchMove=this.onProgressTouchMove.bind(this),this.onProgressTouchEnd=this.onProgressTouchEnd.bind(this),this.onVolumeMouseUp=this.onVolumeMouseUp.bind(this),this.onYouTubeVideoReady=this.onYouTubeVideoReady.bind(this),this.onYouTubeVideoStateChanged=this.onYouTubeVideoStateChanged.bind(this),this.playAt=this.playAt.bind(this),this.playerReset=this.playerReset.bind(this),this.render=this.render.bind(this),this.renderError=this.renderError.bind(this),this.resize=this.resize.bind(this),this.setProgressBar=this.setProgressBar.bind(this),this.getOffsetX=this.getOffsetX.bind(this),this.setVolume=this.setVolume.bind(this),this.showControls=this.showControls.bind(this),this.togglePlaylist=this.togglePlaylist.bind(this),this.togglePlay=this.togglePlay.bind(this),this.updateProgressBar=this.updateProgressBar.bind(this),this.baseWidth=this.$el.width(),this.baseHeight=Math.min(Math.round(9*this.baseWidth/16),360),this.bufferTimer=0,this.controlsHeight=70,this.height=0,this.isDraggingProgressBar=!1,this.isFirstTime=!0,this.isFullScreen=!1,this.isMuted=!1,this.isPlaying=!1,this.playlistIsVisible=!1,this.progressBarWidth=0,this.source="Fnac",this.title=null,this.videoCount=this.$(".js-VideoPlayerPlaylist-item").length,this.videoId=this.cid+"-video",this.videoIndex=-1,this.videoThumbnail=null,this.videoUrl=0,this.videoUrlAdvertising=0,this.volume=.5,this.volumeBarWidth=0,this.width=this.baseWidth,this.youTubePattern=/.*(youtu\.be|youtube\.com).*/i,this.youTubeTimer=0,this.$progressBar=this.$(".js-VideoPlayerControls-progressBar"),this.$progressBarPlayed=this.$(".js-VideoPlayerControls-progressBarPlayed"),this.$volumeBar=this.$(".js-VideoPlayerControls-volumeBar"),this.$selectedItem=null,this.$video=null,this.preRender(),this.loadVideo(),this.fullScreenMode=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement&&null!==document.msFullscreenElement,c()(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",this.onFullScreenModeChange)},events:{"click     .js-VideoPlayerPlaylist-item":"loadVideo","click     .js-VideoPlayerPlaylist-toggle":"togglePlaylist","click     .js-VideoPlayer-glass":"togglePlay","dblclick  .js-VideoPlayer-glass":"toggleFullScreen","click     .js-VideoPlayerControls-next":"playNext","click     .js-VideoPlayerControls-previous":"playPrevious","mousedown .js-VideoPlayerControls-progressBar":"onProgressMouseDown","touchstart .js-VideoPlayerControls-progressBar":"onProgressTouchStart","click     .js-VideoPlayerControls-toggleFullScreen":"toggleFullScreen","click     .js-VideoPlayerControls-toggleMute":"toggleMute","click     .js-VideoPlayerControls-togglePlay":"togglePlay","mousedown .js-VideoPlayerControls-volumeBar":"onVolumeMouseDown","touchstart .js-VideoPlayerControls-volumeBar":"onVolumeTouchStart"},loadVideo:function(e,t){this.$selectedItem=e?this.$(e.currentTarget):t?this.$('.js-VideoPlayerPlaylist-item[data-video-index="'+t+'"]'):this.$(".js-VideoPlayerPlaylist-item").first(),(t||this.$selectedItem.data("video-index")!=this.videoIndex)&&(this.playlistIsVisible&&this.togglePlaylist(),this.isPlaying&&this.togglePlay(),this.isFirstTime||("YouTube"===this.source?(window.clearInterval(this.youTubeTimer),this.player.destroy()):this.$("object").length?this.player.remove():c()(".js-VideoPlayer-videoContainer").empty()),this.height=this.width*this.$selectedItem.data("video-0-height")/this.$selectedItem.data("video-0-width"),this.title=this.$selectedItem.find(".js-VideoPlayerPlaylist-itemTitle").text(),this.videoIndex=this.$selectedItem.data("videoIndex"),this.videoUrl=this.$selectedItem.data("video-0-url"),this.$(".js-VideoPlayer-poster").attr("data-lazyimage-background",this.$selectedItem.data("videoThumbnail")).addClass("js-LazyImage"),this.youTubePattern.test(this.videoUrl)?(this.source="YouTube",this.$(".js-VideoPlayer-videoContainer").html('<div id="'+this.videoId+'"></div>'),this.loadYouTubeVideo()):(this.source="Fnac",this.loadPlayerHtml(),this.$video=this.$("video"),this.loadPlayer()))},onVideoEnded:function(e){this.$selectedItem.data("video-"+this.$selectedItem.data("video-index")+"-advertising-url")&&(0==this.videoUrlAdvertising?(this.videoUrlAdvertising=this.$selectedItem.data("video-"+this.$selectedItem.data("video-index")+"-advertising-url"),this.player.setSrc(this.videoUrlAdvertising),this.player.load(),this.player.play(),this.togglePlay(!0)):(this.videoUrlAdvertising=0,this.player.setSrc(this.videoUrl),this.player.load(),this.player.play()))},loadPlayerHtml:function(){var e='<video id="'+this.videoId+'">',t=0,i=this.$selectedItem.data("video-count");for(t=0;t<i;t++)e+='<source type="'+this.$selectedItem.data("video-"+t+"-mime-type")+'" src="'+this.$selectedItem.data("video-"+t+"-url")+'">';e+="</video>",this.$(".js-VideoPlayer-videoContainer").html(e)},loadPlayer:function(){var e=this;new d.a(this.videoId,{defaultVideoHeight:this.height,defaultVideoWidth:this.width,plugins:[],timerRate:250,success:this.onPlayerReady,error:this.renderError}).run().then((function(t){return e.player=t}))},onPlayerReady:function(e,t){var i=this;this.$mediaElement=c()(e),this.$video=this.$("object").length?this.$("object"):c()(t),this.$mediaElement.on("ended",(function(e){i.onVideoEnded(e),i.togglePlay(e)})),this.$mediaElement.one("loadedmetadata",this.render),this.$mediaElement.on("progress timeupdate",this.updateProgressBar),this.$("object").length&&(this.togglePlay(),window.setTimeout(this.playerReset,1e3)),e.setVolume(this.volume)},onFullScreenModeChange:function(){this.fullScreenMode&&(this.isFullScreen=!0,this.exitFullScreen()),this.fullScreenMode=!this.fullScreenMode},playerReset:function(){this.togglePlay(),this.player.setCurrentTime(0)},loadYouTubeVideo:function(){var e=this;if(window.onYouTubeIframeAPIReady)window.onYouTubeIframeAPIReady();else{window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player(e.videoId,{height:e.baseHeight,width:e.baseWidth,videoId:Object(r.a)(e.videoUrl),playerVars:{autoplay:0,controls:0,modestbranding:0,rel:0,showinfo:0,wmode:"transparent"},events:{onReady:e.onYouTubeVideoReady,onError:function(e){console.error(e)},onStateChange:e.onYouTubeVideoStateChanged}})};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",c()("body").append(t)}},onYouTubeVideoReady:function(){this.$video=this.$("iframe"),this.player.duration=this.player.getDuration(),this.player.setVolume(100*this.volume),this.youTubeTimer=window.setInterval(this.updateProgressBar,250),this.render()},onYouTubeVideoStateChanged:function(e){switch(e.data){case YT.PlayerState.ENDED:this.togglePlay(!1);break;case YT.PlayerState.PLAYING:this.$(".js-VideoPlayerControls-togglePlay").addClass("play--active");break;case YT.PlayerState.PAUSED:this.$(".js-VideoPlayerControls-togglePlay").removeClass("play--active")}},showControls:function(){this.$(".js-VideoPlayer-header, .js-VideoPlayer-controls").stop().fadeIn(),this.videoCount>1&&this.$(".js-VideoPlayer-playlist").stop().fadeIn()},hideControls:function(){this.$(".js-VideoPlayer-header, .js-VideoPlayer-controls").stop().fadeOut(),this.videoCount>1&&this.$(".js-VideoPlayer-playlist").stop().fadeOut()},togglePlaylist:function(){this.$(".js-VideoPlayerPlaylist-list").toggleClass("VideoPlayerPlaylist-list--active").exit()},togglePlay:function(){switch(this.source){case"Fnac":this.isPlaying?this.player.pause():this.player.play();break;case"YouTube":this.isPlaying?this.player.pauseVideo():this.player.playVideo()}this.isPlaying?(this.$(".js-VideoPlayerControls-togglePlay").removeClass("play--active"),this.$(".js-VideoPlayer-glass").addClass("VideoPlayer-glass--paused")):(this.$(".js-VideoPlayerControls-togglePlay").addClass("play--active"),this.$(".js-VideoPlayer-glass").removeClass("VideoPlayer-glass--paused")),this.isPlaying=!this.isPlaying,this.$(".js-VideoPlayer-poster").length&&this.$(".js-VideoPlayer-poster").remove()},playAt:function(e){var t=parseInt(this.player.duration*this.getOffsetX(e)/this.progressBarWidth);switch(this.source){case"Fnac":this.player.setCurrentTime(t);break;case"YouTube":this.player.seekTo(t,!0)}},playPrevious:function(){this.videoIndex=1===this.videoIndex?this.videoIndex=this.videoCount:this.videoIndex-1,this.loadVideo(!1,this.videoIndex)},playNext:function(){this.videoIndex=this.videoIndex===this.videoCount?1:this.videoIndex+1,this.loadVideo(!1,this.videoIndex)},toggleMute:function(){switch(this.source){case"Fnac":this.isMuted?this.player.setMuted(!1):this.player.setMuted(!0);break;case"YouTube":this.isMuted?this.player.unMute():this.player.mute()}this.isMuted?(this.$(".js-VideoPlayerControls-toggleMute").removeClass("mute--active"),this.$(".js-VideoPlayerControls-volumeBarFill").removeClass("VideoPlayerControls-volumeBarFill--muted")):(this.$(".js-VideoPlayerControls-toggleMute").addClass("mute--active"),this.$(".js-VideoPlayerControls-volumeBarFill").addClass("VideoPlayerControls-volumeBarFill--muted")),this.isMuted=!this.isMuted},onVolumeMouseDown:function(e){this.setVolume(e),this.$volumeBar.on("mousemove",this.setVolume),this.$volumeBar.one("mouseup mouseleave",this.onVolumeMouseUp)},onVolumeMouseUp:function(e){this.$volumeBar.off("mousemove")},setVolume:function(e){var t=this.getOffsetX(e)/this.volumeBarWidth;switch(this.isMuted&&this.toggleMute(),this.source){case"Fnac":this.player.setVolume(t);break;case"YouTube":this.player.setVolume(100*t)}this.volume=t,this.$(".js-VideoPlayerControls-volumeBarFill").width(this.volumeBarWidth*t)},toggleFullScreen:function(){this.isFullScreen?this.exitFullScreen():this.enterFullScreen()},windowIsFullScreen:function(){return!window.screenTop&&!window.screenY},enterFullScreen:function(){if(!this.isFullScreen){if(this.isFullScreen=!0,this.el.requestFullscreen)this.el.requestFullscreen();else if(this.el.msRequestFullscreen)this.el.msRequestFullscreen();else if(this.el.mozRequestFullScreen)this.el.mozRequestFullScreen();else if(this.el.webkitRequestFullscreen)this.el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.windowIsFullScreen())try{new ActiveXObject("Wscript.shell").SendKeys("{F11}")}catch(e){console.error(e)}this.$("object").length&&(this.height=c()(window).height()-this.controlsHeight,this.width=c()(window).width(),this.player.setVideoSize(this.width,this.height))}this.$el.addClass("VideoPlayer--fullscreen"),this.$(".js-VideoPlayerControls-toggleFullScreen").addClass("fullscreen--active"),this.resize()}},exitFullScreen:function(){if(this.isFullScreen){if(this.isFullScreen=!1,document.exitFullscreen)document.exitFullscreen();else if(document.msExitFullscreen)document.msExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(this.windowIsFullScreen())try{new ActiveXObject("Wscript.shell").SendKeys("{F11}")}catch(e){console.error(e)}this.$("object").length&&(this.height=this.baseHeight,this.width=this.baseWidth,this.player.setVideoSize(this.width,this.height))}this.$el.removeClass("VideoPlayer--fullscreen"),this.$(".js-VideoPlayerControls-toggleFullScreen").removeClass("fullscreen--active"),this.resize()}},onProgressMouseDown:function(e){this.isDraggingProgressBar=!0,this.setProgressBar(e),this.$progressBar.on("mousemove",this.setProgressBar),this.$progressBar.one("mouseup mouseleave",this.onProgressMouseUp)},onProgressMouseUp:function(e){this.isDraggingProgressBar=!1,this.$progressBar.off("mousemove"),this.playAt(e)},setProgressBar:function(e){var t=this.getOffsetX(e)/this.progressBarWidth;this.$progressBarPlayed.width(this.progressBarWidth*t)},onProgressTouchStart:function(e){this.isDraggingProgressBar=!0,this.setProgressBar(e),this.$progressBar.on("touchmove",this.onProgressTouchMove),this.$progressBar.on("touchend",this.onProgressTouchEnd)},onProgressTouchMove:function(e){var t=e.originalEvent.touches[0];t.clientX<=c()(e.currentTarget).offset().left||t.clientX>=c()(e.currentTarget).offset().left+c()(e.currentTarget).outerWidth()?this.onProgressTouchEnd(e):this.setProgressBar(e)},onProgressTouchEnd:function(e){this.isDraggingProgressBar=!1,this.$progressBar.off("touchmove"),this.playAt(e)},getOffsetX:function(e){if(e.offsetX)return e.offsetX;var t=e.target.getBoundingClientRect();return e.originalEvent.changedTouches[0].clientX-t.left},updateProgressBar:function(e){var t;switch(this.source){case"Fnac":var i=e.target.buffered;t=i.length?i.end(i.length-1)/e.target.duration:0;break;case"YouTube":t=this.player.getVideoLoadedFraction?this.player.getVideoLoadedFraction():0,this.player.currentTime=this.player.getCurrentTime?this.player.getCurrentTime():0}this.$(".js-VideoPlayerControls-currentTime").text(Object(o.a)(this.player.currentTime)),this.$(".js-VideoPlayerControls-progressBarLoaded").width(this.progressBarWidth*t),this.isDraggingProgressBar||this.$progressBarPlayed.width(this.progressBarWidth*this.player.currentTime/this.player.duration)},preRender:function(){this.$el.css("height","initial")},render:function(){this.isFirstTime&&this.videoCount>1&&this.$el.addClass("VideoPlayer--withPlaylist"),this.$(".js-VideoPlayer-title").text(this.title),this.$progressBarPlayed.removeClass("style"),this.$(".js-VideoPlayerControls-duration").text(Object(o.a)(this.player.duration)),this.$(".VideoPlayerPlaylist-item--active").removeClass("VideoPlayerPlaylist-item--active"),this.$selectedItem.addClass("VideoPlayerPlaylist-item--active"),this.isFirstTime||this.togglePlay(!0),this.resize()},renderError:function(){this.$el.removeAttr("style").addClass("VideoPlayer--hasError").html("La vidéo n'a pas pu être chargée.")},resize:function(){this.$(".js-VideoPlayer-controls").addClass("invisible").show(),this.baseWidth=this.$el.width(),this.baseHeight=Math.round(9*this.baseWidth/16),this.height=this.baseHeight>0?this.baseHeight:"initial",this.width=this.baseWidth>0?this.baseWidth:"initial",this.$el.removeAttr("style"),this.$video.removeAttr("style"),this.isFullScreen?(this.$el.css({height:"100%",width:window.innerWidth+"px"}),this.$video.css({width:window.innerWidth+"px"}),c()("body").addClass("no-scroll")):(this.$video.css({height:"initial"}),c()("body").removeClass("no-scroll")),this.progressBarWidth=this.$(".js-VideoPlayerControls-progressBar").width(),this.volumeBarWidth=this.$(".js-VideoPlayerControls-volumeBar").width(),this.$mediaElement.trigger("timeupdate"),this.isFirstTime&&(this.$(".js-VideoPlayer-controls").removeClass("invisible"),a.isTouch?this.showControls():(this.$el.hover(this.showControls,this.hideControls),this.hideControls()),c()(window).resize(this.resize),this.isFirstTime=!1),this.$(".js-VideoPlayer-controls").hide().removeClass("invisible")}})},vvWP:function(e,t,i){"use strict";var n=i("z0Te"),s=i("EVdn"),a=i.n(s),r=function(){switch(n.region){case"ES":return"09bc9617-1c80-4c51-814f-4e884758fafa";case"PT":return"298c6f12-ff76-4815-8d33-08f8b1213b1d";case"CH":return"50eb214d-597e-4ed2-9ac1-4b182cd59735";case"BE":return"cf270734-4329-42f5-a35a-ec0e1a206097";case"FR":return"95b9740b-d129-4677-9fa8-88c8a7d34a2b";default:return""}}(),o="//retail-eu.productads.hlserve.com/Delivery/ClientPaths/Library/hook.js?apiKey="+r,l={},c=!1;t.a={load:function(){var e=this;if(!c&&""!==r){var t=document.createElement("script");t.src=o,document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){c=!0,e.request()}}},request:function(){if(l=document.getElementById("hl_1"),c){var e=HLLibrary.newRequest();if(l.getAttribute("data-taxonomy")&&e.setTaxonomy(l.getAttribute("data-taxonomy")),l.getAttribute("data-module")&&e.setModule(l.getAttribute("data-module")),l.getAttribute("data-type")){var t=n.isMobile?"hlpt":"hlPageType";e.setProperty(t,l.getAttribute("data-type"))}l.getAttribute("data-sku")&&(e.setProducts("1-"+l.getAttribute("data-sku")).setProductMatchType("related").setProperty("broadmatchtype","2").setProperty("required_filters","productid"),this.update(a()(l).data())),l.getAttribute("data-keyword")&&e.setKeyword(l.getAttribute("data-keyword")),l.getAttribute("data-view")&&e.setProperty("view",l.getAttribute("data-view")),e.setProperty("cUserId","").setProperty("platform",n.isMobile?"mobile":"web").submit("hl_1")}},update:function(e){c&&HLLibrary.newUpdate().setProperty("cUserId","").setProperty("hlPageType","P").setProperty("platform","web").setProperty("sku","1-"+e.sku).setProperty("price",e.price).setProperty("regularPrice",e.regularPrice).setProperty("inStock",e.inStock).submit()},search:function(e){c&&void 0!==e.keyword&&HLLibrary.newRequest().setKeyword(e.keyword).setModule("Search").setProperty("cUserId","").setProperty("hlPageType","S").setProperty("platform",n.isMobile?"mobile":"web").setProperty("view",e.view).submit("hl_1")}}},xzYU:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));i("dRSK");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("a1gu"),l=i.n(o),c=i("Nsbk"),d=i.n(c),u=i("7W2i"),h=i.n(u),p=i("PJYZ"),f=i.n(p),v=i("E11k"),m=i.n(v),b=i("EVdn"),g=i.n(b),y=i("TMt3"),w=function(e){function t(e){var i,n=e.el;return s()(this,t),(i=l()(this,d()(t).call(this,{el:n,alignToHighlighted:"never",className:"Header__aisle-list"}))).on("change",i._onDropdownChange.bind(f()(f()(i)))),i.on("open",i._onDropdownOpen.bind(f()(f()(i)))),i.on("close",i._onDropdownClose.bind(f()(f()(i)))),g()(i.drop).wrap("<div class='non-legacy'></div>"),y.a.on("rayonDropdown:close",i._onMegaMenuOpen.bind(f()(f()(i)))),i}return h()(t,e),r()(t,[{key:"_onDropdownChange",value:function(){var e=g()(this.select),t=e.find("li.select-option.select-option-selected").data("value");t&&t!==this.select.value&&(e.find("option").removeAttr("selected").filter('[value="'+t+'"]').attr("selected","selected"),this.update())}},{key:"_onDropdownOpen",value:function(){y.a.trigger("overlay:show",{cssModifier:"header",noSpinner:!0})}},{key:"_onDropdownClose",value:function(){y.a.trigger("overlay:hide")}},{key:"_onMegaMenuOpen",value:function(){this.isOpen()&&this.close()}}]),t}(m.a)},yfbN:function(e,t,i){"use strict";(function(e){i("/7Lr"),i("dRSK"),i("u5zG"),i("OG14");var n=i("q1z7"),s=i.n(n),a=i("F/us"),r=i.n(a),o=i("TMt3"),l=i("mgCH");t.a=s.a.View.extend({tagName:"div",className:"Header__history",wasRender:!1,events:{"mousedown .js-Header__history-delete":"clearHistory","touchstart .js-Header__history-listitem":"select","mousedown .js-Header__history-listitem":"select"},initialize:function(e){r.a.extend(this,e),this.input.focus(this.display.bind(this)).keyup(this.display.bind(this)).keydown(this.keydown.bind(this))},render:function(){return this.$el.empty(),this.$el.append(l.a.render({items:this.collection.toJSON().map((function(e){return{term:e.search,value:JSON.stringify(e)}}))})),this.input.after(this.$el).blur(this.blur.bind(this)),this.wasRender=!0,this},display:function(){0!=this.collection.length&&(0===this.input.val().length?this.wasRender?this.show():this.render().show():this.hide())},blur:function(){this.hide()},keydown:function(e){return 38==e.keyCode?this.move(-1):40==e.keyCode?this.move(1):13==e.keyCode?this.onEnter():27==e.keyCode?this.onEchap():void 0},move:function(e){var t=this.$el.find("ul").children("li.a-c_over"),i=this.$el.find("ul").children("li"),n=t.index()+e;return n=n==i.length?0:n,i.eq(n).length&&(t.removeClass("a-c_over"),i.eq(n).addClass("a-c_over")),!1},onEnter:function(){if(this.$el.find("ul").children("li.a-c_over").length>0)return this.$el.find("ul").children("li.a-c_over").click(),!1},onEchap:function(){return this.hide(),this.$el.parent().children("input").blur(),!1},select:function(t){if(t.preventDefault(),t.stopImmediatePropagation(),this.$el.is(":visible")){var i=e(t.currentTarget).data("value"),n=i.search,s=i.cat,a=void 0===s?null:s,r=this.input.closest("form");r.prop("quicksearch-history-type").disabled=!1,this.input.val(n),r.find('.realSelect option[value="'+a+'"]').prop("selected",!0),this.input.parents("form").submit(),this.input.blur(),this.hide()}},show:function(){return o.a.trigger("history:show"),o.a.trigger("overlay:show",{noSpinner:!0}),this.$el.show(),this},hide:function(){return this.$el.hide(),this},clearHistory:function(){r.a.invoke(this.collection.toArray(),"destroy"),this.trigger("clear")}})}).call(this,i("EVdn"))},z0Te:function(e,t,i){"use strict";i.r(t),i.d(t,"debug",(function(){return h})),i.d(t,"isSocialConnect",(function(){return p})),i.d(t,"pathname",(function(){return f})),i.d(t,"secureURL",(function(){return v})),i.d(t,"isUserIdentified",(function(){return m})),i.d(t,"isUserAuthenticated",(function(){return b})),i.d(t,"cookiesHostname",(function(){return g})),i.d(t,"cookiesPath",(function(){return y})),i.d(t,"isMobile",(function(){return w})),i.d(t,"isMobileApplication",(function(){return C})),i.d(t,"searchIncludeFnacSpectacle",(function(){return T})),i.d(t,"fnacSpectacleURL",(function(){return _})),i.d(t,"searchFnacSpectacleMaxShows",(function(){return k})),i.d(t,"isFnacPro",(function(){return S})),i.d(t,"locale",(function(){return P})),i.d(t,"lang",(function(){return x})),i.d(t,"region",(function(){return j})),i.d(t,"currency",(function(){return L})),i.d(t,"currencyHTML",(function(){return A})),i.d(t,"cartViewURL",(function(){return I})),i.d(t,"cartAddURL",(function(){return M})),i.d(t,"cartOneClickURL",(function(){return R})),i.d(t,"loginURL",(function(){return $})),i.d(t,"reauthURL",(function(){return E})),i.d(t,"createAccountURL",(function(){return F})),i.d(t,"apiAuth",(function(){return V})),i.d(t,"searchAutoCompleteURL",(function(){return O})),i.d(t,"searchAutoCompleteGroups",(function(){return B})),i.d(t,"symbolsURL",(function(){return z})),i.d(t,"productSendReviewsFeedbackURL",(function(){return N})),i.d(t,"favoriteStoreURL",(function(){return U})),i.d(t,"setNearStoreURL",(function(){return D})),i.d(t,"saveFavoriteStoreURL",(function(){return H})),i.d(t,"fnacSpectacleSearchTemplateURL",(function(){return q})),i.d(t,"excludeFromAdvicesTemplateURL",(function(){return W})),i.d(t,"putValuationTemplateURL",(function(){return G})),i.d(t,"putRelationTemplateURL",(function(){return X})),i.d(t,"putInterestRelationTemplateURL",(function(){return K})),i.d(t,"deleteInterestRelationTemplateURL",(function(){return J})),i.d(t,"geocodingCacheTemplateURL",(function(){return Y})),i.d(t,"compareAddTemplateURL",(function(){return Q})),i.d(t,"compareDeleteTemplateURL",(function(){return Z})),i.d(t,"compareDeleteAllTemplateURL",(function(){return ee})),i.d(t,"compareGetTemplateURL",(function(){return te})),i.d(t,"compareTemplateURL",(function(){return ie})),i.d(t,"configuratorGetOptionsURL",(function(){return ne})),i.d(t,"configuratorGetMiniFaURL",(function(){return se})),i.d(t,"getWishlistsURL",(function(){return ae})),i.d(t,"createWishlistURL",(function(){return re})),i.d(t,"addWishlistItemTemplateURL",(function(){return oe})),i.d(t,"deleteWishlistItemTemplateURL",(function(){return le})),i.d(t,"myAccountWishlistTemplateURL",(function(){return ce})),i.d(t,"isTouch",(function(){return ue})),i.d(t,"templateURL",(function(){return he}));i("f3/d"),i("rE2o"),i("ioFf"),i("rGqo"),i("91GP"),i("KKXr");var n=i("J4zp"),s=i.n(n),a={},r=!0,o=!1,l=void 0;try{for(var c,d=document.getElementsByClassName("js-configuration")[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){var u=c.value;try{Object.assign(a,JSON.parse(u.text))}catch(e){console.error(e)}}}catch(e){o=!0,l=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw l}}var h=-1!==window.location.hash.indexOf("debug"),p=a.isSocialConnect,f=a.pathname,v=a.secureURL,m=a.isUserIdentified,b=a.isUserAuthenticated,g=a.cookiesHostname,y=a.cookiesPath,w=a.isMobile,C=a.isMobileApplication,T=a.searchIncludeFnacSpectacle,_=a.fnacSpectacleURL,k=a.searchFnacSpectacleMaxShows,S=a.isFnacPro,P=a.locale,x=a.lang,j=a.region,L=a.currency,A=a.currencyHTML,I=a.cartViewURL,M=a.cartAddURL,R=a.cartOneClickURL,$=a.loginURL,E=a.reauthURL,F=a.createAccountURL,V=a.apiAuth,O=a.searchAutoCompleteURL,B=a.searchAutoCompleteGroups,z=a.symbolsURL,N=a.productSendReviewsFeedbackURL,U=a.favoriteStoreURL,D=a.setNearStoreURL,H=a.saveFavoriteStoreURL,q=he(a.fnacSpectacleSearchTemplateURL),W=he(a.excludeFromAdvicesTemplateURL),G=he(a.putValuationTemplateURL),X=he(a.putRelationTemplateURL),K=he(a.putInterestRelationTemplateURL),J=he(a.deleteInterestRelationTemplateURL),Y=he(a.geocodingCacheTemplateURL),Q=he(a.compareAddTemplateURL),Z=he(a.compareDeleteTemplateURL),ee=he(a.compareDeleteAllTemplateURL),te=he(a.compareGetTemplateURL),ie=he(a.compareTemplateURL),ne=he(a.configuratorGetOptionsURL),se=he(a.configuratorGetMiniFaURL),ae=a.getWishlistsURL,re=a.createWishlistURL,oe=he(a.addWishlistItemTemplateURL),le=he(a.deleteWishlistItemTemplateURL),ce=he(a.myAccountWishlistTemplateURL),de=["(pointer: coarse)","(hover: none)","(-moz-touch-enabled)"].reduce((function(e,t){var i=matchMedia(t),n=i.media,s=i.matches;return"not all"===n?e:e||s}),null),ue=null!==de?de:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch;function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=/^((?:(?:https?:)?\/\/[^\/]+)?\/)(.*)$/.exec(e||"")||[],n=s()(i,3),a=n[1],r=void 0===a?"/":a,o=n[2],l=/^{(\*\*?)?([^{].*?)(:.*?)?(?:=(.*?)|(\?))?}$/,c=(void 0===o?"":o).split("/").map((function(e){if(""===e)throw new Error("Invalid route segment");return e.split(/({[^{].*?})/).filter((function(e){return""!==e})).map((function(e){var t=l.exec(e);if(t){var i=s()(t,5),n=(i[1],i[2]),a=(i[3],i[4]),r=void 0===a?null:a,o="?"===t[5];if(o&&null!==r)throw new Error("Optional param ".concat(n," can't have a default value"));return{name:n,isOptional:o,defaultValue:r}}return e}))}));return function(e){e=Object.assign({},t,e);var i=c.map((function(t){var i="",n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=r.value,c=l;if(l instanceof Object){var d=l.name,u=l.isOptional,h=l.defaultValue,p=e.hasOwnProperty(d);if(!p&&u)return null;if(!p&&null===h)throw new Error("No value is provided for param ".concat(d));c=p?encodeURIComponent(e[d]):h}i+=c}}catch(e){s=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}return i})).filter((function(e){return e}));return r+i.join("/")}}},z1Io:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("uMff");var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("EVdn"),l=i.n(o),c=function(){function e(t){var i=t.el;s()(this,e),i.addEventListener("click",this._handleClick.bind(this))}return r()(e,[{key:"_handleClick",value:function(e){var t=e.currentTarget,i="true"===t.getAttribute("aria-expanded"),n=(t.getAttribute("aria-controls"),document.getElementById(t.getAttribute("aria-controls")));t.setAttribute("aria-expanded",!i),n&&l()(n).stop()[i?"slideUp":"slideDown"]()}}]),e}()},zWy1:function(e,t,i){"use strict";t.a=function(e,t){return e.catch((function(){return t}))}}}]);
//# sourceMappingURL=desktop-common-bundle.js.map