(function(n){this.jsWCRS696_MapperOperationsTrade=function(t,i,r){var e;i&&i.clone||Utl.Log.logError("150112112043 - la provenance article ne peut etre vide et doit etre un objet de type jsWCRS610_ProvenanceArticle");n.isArray(t)||Utl.Log.logError("150112112044 - la liste de trade fournie doit etre un array");r||Utl.Log.logError("150112012044 - objLayoutColonnade doit etre défini");var f=this,u=[],o=r,v=i,s=function(n){return n.objElement.sType=="OperationTG"},h=function(n){return n.objElement.sType=="TradeGeneriqueSTO"},c=function(n){return n.objElement.sType=="Recette"},l=function(n){return n.objElement.eType==ListesProduits_Trade.jsWCRS701_enumTrade.iUP||n.objElement.eType==ListesProduits_Trade.jsWCRS701_enumTrade.iCROSS},a=function(n){for(var i,f,e=function(n,t,i){var r=t,u=i,f=n,e=this;this.isMapperFor=function(n){return f(n)};this.map=function(n,t){var i=r.applyToTrade(n),f=u(n,t,o);return{policies:i,elementTrade:f}}},t=[],u=n,r=0;r<u.length;r++)i=u[r],f=i.objPolicies.CreatePoliciesSuite(),t.push(new e(i.isOperation,f,i.operation));this.registerOperationFor=function(n){var i=n,r=function(n,r){for(var u=0;u<t.length;u++)if(t[u].isMapperFor(n)){i.registerOperation(t[u].map(n,r));break}};return{With:r}}};this.avecOperationTrade=function(n,t,i){u.push({isOperation:n,objPolicies:t,operation:i})};this.avecTG=function(n,t){return u.push({isOperation:s,objPolicies:n,operation:t}),f};this.avecRecette=function(n,t){return u.push({isOperation:c,objPolicies:n,operation:t}),f};this.avecTradeGenerique=function(n,t){return u.push({isOperation:h,objPolicies:n,operation:t}),f};this.avecCrossUpUnitaire=function(n,t){return u.push({isOperation:l,objPolicies:n,operation:t}),f};e=function(n){var t=!0;return t=t&&n,t&&(t=t&&n.objElement),t&&(t=t&&n.objElement.sType),t};this.build=function(){for(var n,o,f=new ListesProduits_Trade.jsWCRS695_OperationsTrade,s=new a(u),r=0;r<t.length;r++)n=t[r],e(n)?(this.sIdTradeBusiness&&(n.sIdTradeBusiness=this.sIdTradeBusiness),i&&(o=i.clone(),s.registerOperationFor(f).With(n,o))):Utl.Log.logWarn("150309111630 - opération de Trade non exploitable");return f}}}).call(this.ListesProduits_Trade=this.ListesProduits_Trade||{__namespace:!0},window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();