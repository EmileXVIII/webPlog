(function(n){this.jsWCRS744_TradeGeneriqueSTO=function(t,i,r,u,f){var h,c,v,l;t&&t.objElement||Utl.Log.logError("141218171900 - Aucune objet de donnee pour definir le trade générique");i||Utl.Log.logError("141218171900 - templates vide pour definir le trade générique");var o=t,s=i,y=Utilitaires.Ressources.vbNETsWCRS201.ascWCRS310_Produits,p=u,e,a=f||[];r.eVue=Utl.jsWCRS610_ProvenanceArticle.enuVue.iTRADE_GENERIQUE;t.sIdTradeBusiness&&window.TradeGeneriqueContext&&window.TradeGeneriqueContext.paramInsertionLevier&&window.TradeGeneriqueContext.paramInsertionLevier[t.sIdTradeBusiness]&&(r.sInformationsComplementaires="sto-"+window.TradeGeneriqueContext.paramInsertionLevier[t.sIdTradeBusiness].sIdOperation);ListesProduits_ContenuElements.jsWCRS645_ContenuElement.assignUuid(o);h=new ListesProduits_Fonctionnalite.composerFonctionnalites;h.init.dataSource(t.lstEnfants).init.dataSourcePicto(a).init.ajax(window.lstConfAjax).init.localisation(y).init.provenanceArticle(r).init.templates(i);c=new ListesProduits_Renderer.RendererListeProduitBuilder(s);v=new ZonePicto(a,i,"10600");c.avecZonePicto(v);this.fonctionnalitesComposer=function(){return h};this.rendererProduitBuilder=function(){return c};this.renderElement=function(n){for(var l=t.objElement,a=c.buildListeProduitStandard(),r=[],i=0,v=t.lstEnfants.length,u,f,e,h;i<v;i++)u=o.lstEnfants[i],f=a.renderElement(u),r.push(f);return e=new Interfaces.jsWCRS624_ItfTradeGenerique(t.sUuid,l,r.join(""),o.lstEnfants.length,t.sIdTradeBusiness),s.templateTradeGeneriqueSTO&&s.templateTradeGeneriqueSTO.ExecuteTemplate||Utl.Log.logError("141218172000 -  les templates pour afficher une TG n'ont pas été chargés, pensez à utiliser .avecTradeGenerique() dans vos chargements de templates."),h=s.templateTradeGeneriqueSTO.ExecuteTemplate(e),n.move(Math.min(p.getColonnade().nb,t.lstEnfants.length+1)),h};l=function(){return n(document.getElementById(o.sUuid))};this.appliquerFonctionnalite=function(n){var i,t;for(n||Utl.Log.logError("141218172010 - l' objet $Container n'est pas défini"),e=h.getAsArray(),i=l(),t=0;t<e.length;t++)e[t].appliquerFonctionnalite(i)};this.disposerFonctionnalite=function(){for(var t=l(),n=0;n<e.length;n++)e[n].disposerFonctionnalite(t)};this.verifyType=function(n){return n=="TGEN"}}}).call(this.ListesProduits_Trade=this.ListesProduits_Trade||{__namespace:!0},window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();