(function(){this.jsWCRS638_ItfBriiHomogene=Utilitaires.Class.extend({sUuid:null,iNbProduitsManquants:null,iNbLotsRealises:null,eCommunicationGains:null,eIncitationLot:null,iNbGratuits:null,rGainsBrii:null,sEurosEconomise:null,sUrlLogoBrii:null,iNbProduitsAchetesdansLot:null,sTotalAPayer:null,lstDOMContenuElements:null,objLoc:null,sCssCommunicationGainBrii:null,fUpselling:null,fCommunicationNbProduitsManquants:null,fCommunicationGains:null,fAfficherFooterBrii:null,fEstBriiHomogeneDisponible:null,fEstBRIIProgessif:null,fBriiAffichageSticker:null,init:function(n,t,i,r){this.sUuid=n;this.iNbProduitsManquants=t.iNbProduitsManquants;this.iNbLotsRealises=t.iNbLotsRealises;this.eCommunicationGains=t.eCommunicationGains;this.eIncitationLot=t.eIncitationLot;this.iNbGratuits=t.iNbGratuits;this.rGainsBrii=t.rGainsBrii;this.sEurosEconomise=t.sGainsBrii;this.sUrlLogoBrii=t.sUrlLogoBrii;this.iNbProduitsAchetesdansLot=t.iNbProduitsAchetesdansLot;this.sTotalAPayer=t.sTotalAPayer;this.lstDOMContenuElements=i;this.fCommunicationNbProduitsManquants=t.fCommunicationNbProduitsManquants;this.fCommunicationGains=t.fCommunicationGains;this.fEstBriiHomogeneDisponible=t.fEstBriiDispo;this.fUpselling=t.eIncitationLot==Interfaces.jsWCRS646_ItfBrii.enuIncitationLot.iACHETER_LOT;this.sCssCommunicationGainBrii=t.fCommunicationGains?"liWCRS320_Promo liWCRS320_PromoLot liWCRS320_Valide":"";this.sCssStockDispo=t.fQuantiteMaxAtteinte?"AlerteProduitIndispoBrii":"";this.objLoc=r;this.fEstBRIIProgessif=t.fEstBRIIProgessif;this.fBriiAffichageSticker=t.fBriiAffichageSticker},toggleCommunicationGains:function(n){var t=this;t.fCommunicationGains?n.addClass("liWCRS320_Promo liWCRS320_PromoLot liWCRS320_Valide"):n.removeClass("liWCRS320_Promo liWCRS320_PromoLot liWCRS320_Valide")},sEcrireTextePromo:function(){var n=this;if(n.fCommunicationGains)switch(n.eCommunicationGains){case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPRODUITS_GRATUITS:if(n.iNbGratuits===1)return String.format(n.objLoc.texteNbProduitGratuitSingulier,n.iNbGratuits);if(n.iNbGratuits>1)return String.format(n.objLoc.texteNbProduitGratuitPluriel,n.iNbGratuits);break;case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iEUROS:return String.format(n.objLoc.texteMontantEconomies,n.sEurosEconomise);case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPAS_DE_COMMUNICATION:return null}return n.fCommunicationNbProduitsManquants?n.iNbProduitsManquants>1?String.format(n.objLoc.texteNbProduitManquantPluriel,n.iNbProduitsManquants):String.format(n.objLoc.texteNbProduitManquantSingulier,n.iNbProduitsManquants):null},sEcrireHtmlComposerLot:function(){var n=this;return n.fEstBriiHomogeneDisponible==!1||n.fEstBRIIProgessif?"":n.iNbLotsRealises>0?"<a href='#' class='aWCRS320_AjouterLotHomogene aWCRS320_AjoutLot'>"+n.objLoc.texteIncitationAcheterLot+"<\/a>":"<a href='#' class='aWCRS320_AjouterLotHomogene WCTD_boutonBleu WCTD_boutonOrange aWCRS320_Bouton aWCRS320_PopinToggle'>"+n.objLoc.texteLienAcheterLot+"<\/a>"},gererAffichageEnteteBriiCartouchePanier:function(){var n=this,t="";switch(n.eCommunicationGains){case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPRODUITS_GRATUITS:t=n.iNbGratuits<2?n.iNbGratuits+n.objLoc.texteEnteteLotBRIIgratuit:n.iNbGratuits+n.objLoc.texteEnteteLotBRIIgratuits;break;case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iEUROS:t=n.rGainsBrii<=1?n.sEurosEconomise+n.objLoc.texteEnteteLotBRIIeconomise:n.sEurosEconomise+n.objLoc.texteEnteteLotBRIIeconomises;break;case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPAS_DE_COMMUNICATION:t="";break;default:t=""}return t},gererAffichageBriiDetailPanierMobile:function(){var n=this;if(n.fCommunicationGains)switch(n.eCommunicationGains){case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPRODUITS_GRATUITS:return n.iNbGratuits<2?n.iNbGratuits+n.objLoc.texteEnteteLotBRIIgratuit:n.iNbGratuits+n.objLoc.texteEnteteLotBRIIgratuits;case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iEUROS:return n.rGainsBrii<=1?n.sEurosEconomise+n.objLoc.texteEnteteLotBRIIeconomise:n.sEurosEconomise+n.objLoc.texteEnteteLotBRIIeconomises;case Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPAS_DE_COMMUNICATION:return"";default:return""}if(n.fCommunicationNbProduitsManquants)return n.iNbProduitsManquants>1?String.format(n.objLoc.texteNbProduitManquantPluriel,n.iNbProduitsManquants):String.format(n.objLoc.texteNbProduitManquantSingulier,n.iNbProduitsManquants)},gererStyleProduitsManquantsDetailPanierMobile:function(){var n=this;return n.fCommunicationGains?"":n.fCommunicationNbProduitsManquants?"liWCRS392_ResteProduits":""},fAfficherFooterBrii:function(){return this.iNbLotsRealises>0&&this.eCommunicationGains==Interfaces.jsWCRS646_ItfBrii.enuCommunicationGains.iPAS_DE_COMMUNICATION?!1:this.fCommunicationNbProduitsManquants||this.fCommunicationGains}})}).call(this.Interfaces=this.Interfaces||{__namespace:!0},window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();