(function(n){this.jsWMKP601_MgrTrade=Utilitaires.Class.extend({objConfAjaxAppelPopinRecette:null,objConfAjaxAjouterRecette:null,init:function(){}});this.jsWMKP601_MgrTrade.Evenements={onAppelPopinRecette:new Utilitaires.pubsub.event("Managers.jsWMKP601_MgrTrade.Evenements.onAppelPopinRecette")};this.jsWMKP601_MgrTrade.souscrireAppelPopinRecette=function(n,t){Managers.jsWMKP601_MgrTrade.Evenements.onAppelPopinRecette.on(n,t)};this.jsWMKP601_MgrTrade.emettreAppelPopinRecette=function(n,t){Managers.jsWMKP601_MgrTrade.Evenements.onAppelPopinRecette.trigger({iIdRecette:n,sNoPointLivraison:t})};this.jsWMKP601_MgrTrade.getInstance=function(){return t};this.jsWMKP601_MgrTrade.initConfAjaxAjouterRecette=function(n){Managers.jsWMKP601_MgrTrade.getInstance().objConfAjaxAjouterRecette=n};this.jsWMKP601_MgrTrade.initConfAjaxAppelPopinRecette=function(n){Managers.jsWMKP601_MgrTrade.getInstance().objConfAjaxAppelPopinRecette=n};this.jsWMKP601_MgrTrade.AjouterRecette=function(t,i){var r=n.Deferred();return t&&Utilitaires.Ajax.appeler({context:t.objContexte,config:Managers.jsWMKP601_MgrTrade.getInstance().objConfAjaxAjouterRecette,data:{iIdRecette:t.iIdRecette,sNoPointLivraison:t.sNoPointLivraison,objProvenanceArticle:t.objProvenanceArticle},fUtiliserPileAppel:!0}).done(function(){Utilitaires.Ajax.annulerOperation();window.location.href=i.replace("iIdRecette",t.iIdRecette)}).fail(function(){r.rejectWith(t.objContexte)}),r.promise()};this.jsWMKP601_MgrTrade.OuvrirPopinRecette=function(t){var i=n.Deferred();return t&&Utilitaires.Ajax.appeler({context:t.objContexte,config:Managers.jsWMKP601_MgrTrade.getInstance().objConfAjaxAppelPopinRecette,data:{iIdRecette:t.iIdRecette,sNoPointLivraison:t.sNoPointLivraison},fUtiliserPileAppel:!0}).done(function(n){i.resolveWith(t.objContexte,[n])}).fail(function(){i.rejectWith(t.objContexte)}),i.promise()};var t=new this.jsWMKP601_MgrTrade}).call(this.Managers=this.Managers||{__namespace:!0},window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();