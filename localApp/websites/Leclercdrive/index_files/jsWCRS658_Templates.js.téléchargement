(function(n){this.Templates=function(){var f=window.lstTemplates,h=["templateRayon","templateRayonUnique","templateRayonVide"],c=["templateRayonToutVoir"],l=["templateRayonBRD","templateRayonBRDVide","templateRayonBrdNonCharge"],s=["templateVignetteDisponible","templateVignetteBientotDisponible","templateVignetteDisponibleJusque","templateVignetteDisponibleApartir","templateVignetteArrete","templateVignetteGroupeVariantes","templateVignetteVide"],a=["templateVignetteDisponible","templateVignetteVide"],e=["templateBarreOutilsVignettes","templateOutilAjouterAListe","templateOutilSuppressionProduitHabituel","templateOutilVoirRayon","templatePopinConfirmation","templateOutilSuggererProduit"],v=["templateOutilVoirPlusDeProduits"],u=["templateEnveloppeToolTip","templateEnveloppeToolTipSticker","templateTooltipEcoParticpation","templateTooltipAcheterUnLot","templateTooltipComposerUnLot","templateTooltipQteMax","templateTooltipQteMaxPanier","templateToolTipStickerTexte","templateToolTipStickerImage","templateTooltipOrigine"],y=["templateRecetteFlash","templateRecetteImage"],p=["templateOperationTG"],w=["templateVignetteCrossUp"],b=["templateTradeGeneriqueSTO"],k=["templateEnteteCartouchePanier"],d=["templateCartouchePanier","templatePanier","templateCartouchePanierLigneArticle","templateCartouchePanierLigneArticleMenu","templateCartouchePanierLigneArticleIndispo","templateCartouchePanierPlusUnMoinsUn","templateCartouchePanierAComposer","templateCartouchePanierBriiUnitaire","templateCartouchePanierBriiHomo","templateCartouchePanierBriiHetero","templatePopinSupprimerProduit","templatePopinViderPanier","templateCartouchePanierLigneBRD"],g=["templateDetailPanierMobile","templatePanierMobile","templateRayonDetailPanierMobile","templateDetailPanierMobileLigneArticle","templateDetailPanierMobileLigneArticleMenu","templateDetailPanierMobileLigneArticleIndispo","templateDetailPanierMobilePlusUnMoinsUn","templateDetailPanierMobileAComposer","templateDetailPanierMobileBriiUnitaire","templateDetailPanierMobileBriiHomo","templateDetailPanierMobileBriiHetero","templatePopinSupprimerProduit","templatePopinViderPanier","templateDetailPanierMobileLigneBRD"],nt=["templateFicheProduitAComposer","templateDetailsComposition","templateAttributsComposition","templateProduitAComposerLigneArticle","templatePlusUnMoinsUnAComposer","templateSticker","templatePopinSupprimerProduitAComposer"],tt=["templateProduitsIndisponibles","templateTitrePopinSubstitution","templatePopinProduitsSubstitution","templateVignetteSubstitution","templateTooltipPourLigneArticleArrete","templateSubstitutionPanier"],it=["templateProduitsIncoherents","templateTitrePopinSubstitution","templatePopinProduitsSubstitution","templateVignetteSubstitution","templateTooltipPourLigneArticleArrete","templateSubstitutionPanier"],rt=["templateMobileProduitsIndisponibles","templateMobileSubstitutionPanier"],ut=["templateMobileProduitsIncoherents","templateMobileSubstitutionPanier"],ft=["templatePanierMultiUniversDetailPanier","templatePanierDetailPanier","templatePanierDetailPanierVide","templateRayonDetailPanier","templateBriiHeterogeneDetailPanier","templateBriiHomogeneDetailPanier","templateBriiUnitaireDetailPanier","templateLigneCrossUnitaire","templateLigneUpUnitaire","templateLigneArticleDetailPanier","templateLigneArticleArreteDetailPanier","templatePopinViderPanier","templatePopinSupprimerProduit","templateBrdDetailPanier","templateListeClient","templateDetailPanierPlusUnMoinsUnAComposer","templateListeClientLigneArticle"],et=["templatePanierBotLigneListeProduit","templatePanierBotLigneExpression","templatePanierBotRechercheRapide"],r=["templatePlusUnMoinsUn"],ot=["templateAComposer"],st=["templatePopinStockRisque","templatePopinStockInsuffisant"],ht=["templatePopinStockRisque","templatePopinStockInsuffisant"],ct=["headerPopin","headerPopinCounter","headerPopinPackPromo","headerPopinCounterPackPromo"],lt=["templateTooltipAideVueNavigation"],at=["templateAvantagesGainPointTop","templateAvantagesGainPoint"],vt=["templatePopinConfirmationAjoutListe"],yt=["templatePopinProduitsIngredients","templateHeaderPopinProduitsIngredients"],pt=["templatePopinConfirmationAjoutCommande"],wt=["templatePopinConfirmationAjoutRecette"],bt=["templateToolpinMemoHeader","templateToolpinMemoFooter","templateToolpinMemo","templateLigneMemoLectureSeule","templateLigneMemoEdition","templateLigneMemoLectureEcriture"],kt=["templateMemo","templateLigneAjouterMemo","templateLigneMemo"],dt=["templateOffresSpeciales","templateLienOffreSpecialeHorizontal"],gt=["templateEntetePopinSubstitution","templateCorpsPopinSubstitution","templateProduitsIndispoPopinSubstitution","templateVignetteSubstitution"],ni=["templateTri"];_templatesFiltreNavigation=["templateBlocFiltre","templateValeurFiltre","templateFiltreNavigationParent","templateFiltresActifs","templateLigneFiltreActif"];var ti=["templateVueComplementaire","templateFicheProduitAjoutListe","templateFicheProduitVue360","templateFicheProduitBouton360","templateVuesComplementaires","templateFicheProduitComposerLot","templatePlusUnMoinsUnFicheProduit","templateVueVariantesDispo","templateVueVariantesIndispo"],ii=["templateFicheProduitDescription","templateFicheProduitMentions"],ri=["templateConsoResponsable","templateAttributsConsoResponsable"],ui=["templateFicheProduit360Html5"],fi=["templateBlocFiltre","templateValeurFiltre","templateFiltresActifs","templateLigneFiltreActif"],o=["templateZonesStickerVignette","templateZonesStickerVignetteGenerique","templateZonesStickerVignetteCrossUp","templateZonesStickerVignetteTG","templateZonesStickerVignetteVariante","templateZonesStickerVignetteVarianteListe"],ei=["templateRayonBandeauRayon","templateFamilleBandeauRayon","templateSousFamilleBandeauRayon","templateOffresSpecialesBandeauRayon","templateNouveautesBandeauRayon"],oi=["templateFamilleBandeauRayonTraiteur","templateSousFamilleBandeauRayonTraiteur","templateOffresSpecBandeauRayonTraiteur","templateDevisBandeauRayonTraiteur"],si=["templateEltRappelNavigationTraiteur"],hi=["templateInformationSelection"],ci=["templateSaisieDateRetraitMois","templateSaisieDateRetraitMoisContenu","templateSaisieDateRetraitSemaine","templateSaisieDateRetraitJourVide","templateSaisieDateRetraitJour"],i=["templatePopinLimiteLiquide"],li=["templateVignetteImagePromotions"],t=[],ai=function(){return t=t.concat(h).concat(s).concat(e).concat(u).concat(r).concat(o).concat(i),this},vi=function(){return t=t.concat(l),this},yi=function(){return t=t.concat(c),this},pi=function(){return t=t.concat(s).concat(e).concat(u).concat(r).concat(o).concat(i),this},wi=function(){return t=t.concat(y),this},bi=function(){return t=t.concat(b),this},ki=function(){return t=t.concat(p),this},di=function(){return t=t.concat(w),this},gi=function(){return t=t.concat(d),this},nr=function(){return t=t.concat(k),this},tr=function(){return t=t.concat(et),this},ir=function(){return t=t.concat(nt),this},rr=function(){return t=t.concat(tt).concat(u).concat(r).concat(i),this},ur=function(){return t=t.concat(it).concat(u).concat(r).concat(i),this},fr=function(){return t=t.concat(rt).concat(u).concat(r).concat(i),this},er=function(){return t=t.concat(ut).concat(u).concat(r).concat(i),this},or=function(){return t=t.concat(ft).concat(r).concat(u).concat(i),this},sr=function(){return t=t.concat(g).concat(i),this},hr=function(){return t=t.concat(ot),this},cr=function(){return t=t.concat(r),this},lr=function(){return t=t.concat(v),this},ar=function(){return t=t.concat(a).concat(e).concat(u).concat(r).concat(o).concat(i),this},vr=function(){return t=t.concat(st),this},yr=function(){return t=t.concat(ht),this},pr=function(){return t=t.concat(bt),this},wr=function(){return t=t.concat(kt),this},br=function(){return t=t.concat(dt),this},kr=function(n){return t=n==4||n==8?t.concat(oi):t.concat(ei),this},dr=function(){return t=t.concat(si),this},gr=function(){return t=t.concat(ct),this},nu=function(){return t=t.concat(lt),this},tu=function(){return t=t.concat(at),this},iu=function(){return t=t.concat(vt),this},ru=function(){return t=t.concat(yt),this},uu=function(){return t=t.concat(pt),this},fu=function(){return t=t.concat(wt),this},eu=function(){return t=t.concat(gt),this},ou=function(){return t=t.concat(ti),this},su=function(){return t=t.concat(ii),this},hu=function(){return t=t.concat(ri),this},cu=function(){return t=t.concat(ui),this},lu=function(){return t=t.concat(ni),this},au=function(){return t=t.concat(_templatesFiltreNavigation),this},vu=function(){return t=t.concat(fi),this},yu=function(){return t=t.concat(hi),this},pu=function(){return t=t.concat(ci),this},wu=function(){return t=t.concat(i),this},bu=function(){return t=t.concat(li),this},ku=function(n){for(var i in n)f[i]||(f[i]=n[i]),t.push(i);return this},du=function(){var t={},u=function(n){return t[n]?t[n].length!==0:!1},f=function(n,i,r){t[n]||(t[n]=[]);t[n].push({resolve:i,reject:r})},e=function(n){if(t[n])for(var i=0;i<t[n].length;i++)t[n][i].resolve()},i=function(n,i){if(t[n])for(var r=0;r<t[n].length;r++)t[n][r].reject(i)},r=function(t,u,f){t||Utl.Log.logWarn("190417121131 - Config necessaire");t&&!t.url&&Utl.Log.logWarn("190417121132 - url Config necessaire");Utilitaires.Ajax.appeler({config:t,enqueue:!0,limitDeRecuperation:u,cache:f}).done(function(f){f===undefined||f===null||f.length===0?u>0?(u--,Utl.Log.logWarn("160517031442 - Erreur lors du chargement du template, le template "+t.url+" est vide ! Nombre de tentatives de récupérations restantes : "+this.limitDeRecuperation),r(t,u,!1)):i(t.url,"3 tentatives de récupération du template sans succes."):(n("body").append(n(f)),e(t.url))}).fail(function(n){var r="Pas d'URL",u;t&&(r=t.url);u="";n&&n.status&&(u="Status("+n.status+":"+n.statusText+").");Utl.Log.logWarn("190417023821 - Echec load url("+r+") "+u);i(r,n)})};this.loadTemplatesFromServer=function(t,i){var e=n.Deferred(),o;return i&&!u(i.sUrl)&&(o={type:Utilitaires.Constantes.Ajax.Type.iURL,url:i.sUrl,method:Utilitaires.Constantes.Ajax.Methode.iGET,async:!0},r(o,3,!0)),f(i.sUrl,function(){e.resolve(t,i)},function(n){e.rejectWith(n)}),e.promise()}},gu=new du,nf=function(i){function a(){return f}var c,l,u,e,r,o,s,h,v;for(c=i?t.concat(i):t,t=[],l=this,u=new n.Deferred,e=c.length,r=0,o=0;o<e;o++)s=c[o],c[o]||Utl.Log.logError("140819100037 - Erreur lors du traitement des templates, template vide ! "),h=f[s],h||Utl.Log.logError("140819100051 - Erreur, Le template a charger "+s+" est inconnu. pensez à l'ajouter dans vos declarations de templates coté serveur."),h.ExecuteTemplate?(r++,r===e&&u.resolve(a.call(l))):(v=document.getElementById(s),v?(h.ExecuteTemplate=Utilitaires.Template.parseTemplate(v.innerHTML),r++,r===e&&u.resolve(a.call(l))):gu.loadTemplatesFromServer(s,h).done(function(n,t){var i=document.getElementById(n);i==null&&Utl.Log.logError("141114105859 - Erreur, Le template a charger "+n+" est introuvable dans la page.");t.ExecuteTemplate=Utilitaires.Template.parseTemplate(i.innerHTML);r++;r===e&&u.resolve(a.call(l))}).fail(function(n){Utl.Log.logError("140819100129 - Erreur sur le get du template !");u.reject(n)}));return u.promise()};return{addTemplates:ku,avecListeVignettesStandard:pi,avecListeRayonVignetteStandard:ai,avecTemplateRayonBRD:vi,avecTemplateRayonToutVoir:yi,avecRecette:wi,avecOperationTG:ki,avecTradeGenerique:bi,avecVignetteCrossUp:di,avecCartouchePanier:gi,avecEnteteCartouchePanier:nr,avecTemplatesProduitIndiponible:rr,avecTemplatesProduitIncoherent:ur,avecTemplatesMobileProduitIndiponible:fr,avecTemplatesMobileProduitIncoherent:er,avecTemplatesDetailPanier:or,avecTemplatesDetailPanierMobile:sr,avecTemplatesAchatsImpulsion:ar,avecTemplatePanierBot:tr,avecTemplatePlusUnMoinsUn:cr,avecTemplateAComposer:hr,avecTemplatesGestionStock:vr,avecTemplatesGestionStockTraiteur:yr,avecTemplatesPopinUpselling:gr,avecTemplateTooltipAideVueNavigation:nu,avecTemplateAvantages:tu,avecTemplatesDetailListeMenuGauche:iu,avecTemplatePopinProduitsIngredients:ru,avecTemplatesDetailCommandeMenuGauche:uu,avecTemplatesDetailRecetteMenuGauche:fu,avecTemplateToolpinMemo:pr,avecTemplateCartoucheMemo:wr,avecMenuOffresSpeciales:br,avecTemplatesBandeauRayon:kr,avecTemplateRappelBandeauRayonTraiteur:dr,avecTemplatesSubstitutionPageCourse:eu,avecOutilsRecette:lr,avecTri:lu,avecTemplatesFiltreNavigation:au,avecFiltre:vu,avecTemplatesFicheProduit:ou,avecTemplatesDescription:su,avecTemplatesConsoResponsable:hu,avecTemplateVue360:cu,avecTemplatesProduitAComposer:ir,avecTemplateInformationSelection:yu,avecTemplatesGestionDateRetrait:pu,avecTemplatesLimiteContenanceLiquide:wu,avecTemplateVignetteImagePromotions:bu,load:nf}}()}).call(this.Utl=this.Utl||{__namespace:!0},window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();