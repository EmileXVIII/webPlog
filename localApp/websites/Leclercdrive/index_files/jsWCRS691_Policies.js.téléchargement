(function(){var n=function(n){var i=this,t=n;this.verifyCurseur=function(n){for(var i=!0,r=0;r<t.length;r++)if(i)i=i&&n.verifyPolicy(t[r]);else break;return i};this.verifyCount=function(){for(var i=!0,n=0;n<t.length;n++)t[n].verifyCount&&(i=i&&t[n].verifyCount());return i};this.incrementCounter=function(n,i){for(var r=0;r<t.length;r++)i.incrementCounter(n,t[r])}};this.policy=function(){var n=function(n){var t=!1;this.not=function(){t=!t};this.build=function(i){var r=new n(i);return t&&r.not(),r}},i=function(){this.expectedResult=!0};i.prototype.not=function(){this.expectedResult=!this.expectedResult};var t=function(n){var t=n,i=function(n){return n==t},r=function(n,i){return i==t},u=function(n,i,r){return r==t},f=function(n,i,r,u){return u==t},e=function(){return!0};return{rayon:i,famille:r,sousFamille:u,produit:f,page:e}},r=function(){var r=function(n){return function(t,r,u){var f={},e;return f[r]=t,e=new i,e.verifyPlace=function(t,i,e,o){if(u(t,i,e,o)){var s=this.expectedResult==(f[r]===n);return f[r]++,s}},e}},h=function(n,t){return function(r,u,f){var e={},o;return e[u]=r+t,o=new i,o.verifyPlace=function(t,i,r,o){if(f(t,i,r,o)){var s=this.expectedResult==(e[u]===n);return e[u]++,s}},o}},u=function(n){var t={};return function(r,u,f){var e={},s,o;return t[u]=t[u]?t[u]+1:1,e[u]=r,s=t[u]*n,o=new i,o.verifyPlace=function(n,t,i,r){if(f(n,t,i,r)){var o=this.expectedResult==(e[u]===s);return e[u]++,o}},o}},f=function(n,t){var r={};return function(u,f,e){var o={},h,s;return r[f]=r[f]?r[f]+1:1,o[f]=u,h=r[f]*n+t,s=new i,s.verifyPlace=function(n,t,i,r){if(e(n,t,i,r)){var u=this.expectedResult==(o[f]===h);return o[f]++,u}},s}},e=function(){return new n(function(){var n=r(0);return n(0,"debutDePage",function(){return!0})})},o=function(i){var u=function(){var u=r(i);return new n(function(n){n.objElement.iIdProduitSource||Utl.Log.logError("150108104217 - Impossible de creer la policy !");var i=n.objElement.iIdProduitSource,r="produit"+i;return u(0,r,t(i).produit)})},f=function(){var u=r(i);return new n(function(n){n.objElement.iIdSousFamille||Utl.Log.logError("150108104218 - Impossible de creer la policy !");var i=n.objElement.iIdSousFamille,r="sousFamille"+i;return u(1,r,t(i).sousFamille)})},e=function(){var u=r(i);return new n(function(n){n.objElement.iIdFamille||Utl.Log.logError("150108104219 - Impossible de creer la policy !");var i=n.objElement.iIdFamille,r="famille"+i;return u(1,r,t(i).famille)})},o=function(){var u=r(i);return new n(function(n){n.objElement.iIdRayon||Utl.Log.logError("150108104220 - Impossible de creer la policy !");var i=n.objElement.iIdRayon,r="rayon"+i;return u(1,r,t(i).rayon)})},s=function(){var u=r(i);return new n(function(){var n=id="page";return u(0,n,t(id).page)})};return{apresLeProduit:u,dansLaFamille:e,dansLaSousFamille:f,dansLeRayon:o,dansLaPage:s}},s=function(i){i||(i=1);var r=function(){var r=f(i,10);return new n(function(n){n.objElement.iIdSousFamille||Utl.Log.logError("150108104218 - Impossible de creer la policy !");var i=n.objElement.iIdSousFamille,u="sousFamille"+i;return r(1,u,t(i).sousFamille)})},e=function(){var r=u(i);return new n(function(n){n.objElement.iIdProduitSource||Utl.Log.logError("150108104217 - Impossible de creer la policy !");var i=n.objElement.iIdProduitSource,u="produit"+i;return r(0,u,t(i).produit)})},o=function(){var r=u(i);return new n(function(n){n.objElement.iIdSousFamille||Utl.Log.logError("150108104218 - Impossible de creer la policy !");var i=n.objElement.iIdSousFamille,u="sousFamille"+i;return r(1,u,t(i).sousFamille)})},s=function(){var r=u(i);return new n(function(n){n.objElement.iIdFamille||Utl.Log.logError("150108104219 - Impossible de creer la policy !");var i=n.objElement.iIdFamille,u="famille"+i;return r(1,u,t(i).famille)})},h=function(){var r=u(i);return new n(function(n){n.objElement.iIdRayon||Utl.Log.logError("150108104220 - Impossible de creer la policy !");var i=n.objElement.iIdRayon,u="rayon"+i;return r(1,u,t(i).rayon)})},c=function(){var r=u(i);return new n(function(){var n=id="page";return r(0,n,t(id).page)})};return{apresLeProduit:e,dansLaFamille:s,dansLaSousFamille:o,dansLeRayon:h,dansLaPage:c,dansLaSousFamilleApres15Produits:r}};return{insertionApresNProduits:o,insertionApresNProduitsPeriodiqueEtDistinct:s,insertionDebutDePage:e}},u=function(){var t=function(n){var t=new i;return t.verifyCurseur=function(t,i,r){return this.expectedResult==n(t,i,r)},t},r=function(i){function e(n){return Number(n)===n&&n%1==0}var r,u,f;switch(i){case"premiere":r=1;break;case"quatrieme":r=4;break;case"derniere":r="derniere";break;default:if(!e(i))throw"l'index donné doit être un entier ou une string de la liste suivante : 'premiere', 'derniere'. ";r=i}return u=function(){return new n(function(){var n=function(n,t,i){return r=="derniere"&&(r=i),t==r};return t(n)})},f=function(){return new n(function(){var n=function(n){return n==r};return t(n)})},{colonne:u,ligne:f}};return{insertionEn:r}},f=function(){var r=function(n,t,r,u){var f=u,e=r;return function(t,r){var u,s,o;return t||Utl.Log.logError("160108104220 - curseurCompteur indefini !"),r||Utl.Log.logError("160108104221 - fnComparer indefini !"),u={},u[t]=n,s=r,o=new i,o.verifyCount=function(){return this.expectedResult==f(u[t])},o.incrementCounterPlace=function(n,i,r,f,o){n&&n.verifyType||Utl.Log.logError("160108104221 - opeTrade indefini ou manque la fonction verifyType!");s(i,r,f,o)&&n.verifyType(e)&&u[t]++},o}},u=function(i,u){var f=r(0,i,u,function(n){return n<i}),e=function(){return new n(function(n){n.objElement.iIdSousFamille||Utl.Log.logError("150108104214 - Impossible de creer la policy !");var i=n.objElement.iIdSousFamille,r="sousFamille"+i;return f(r,t(i).sousFamille)})},o=function(){return new n(function(n){n.objElement.iIdFamille||Utl.Log.logError("150108104215 - Impossible de creer la policy !");var t=n.objElement.iIdFamille,i="famille"+t;return f(i,comparercomparerPlace(t).famille)})},s=function(){return new n(function(n){n.objElement.iIdRayon||Utl.Log.logError("150108104216 - Impossible de creer la policy !");var i=n.objElement.iIdRayon,r="rayon"+i;return f(r,t(i).rayon)})},h=function(){return new n(function(){var n=id="page";return f(n,t(id).page)})};return{dansLaFamille:o,dansLaSousFamille:e,dansLeRayon:s,dansLaPage:h}};return{auMaximum:u}};return{insertionDebutDePage:r().insertionDebutDePage,insertionApresNProduits:r().insertionApresNProduits,insertionApresNProduitsPeriodiqueEtDistinct:r().insertionApresNProduitsPeriodiqueEtDistinct,insertionEn:u().insertionEn,auMaximum:f().auMaximum}};this.ListesProduits_Policies=function(){var i=this,t=[];this.avec=this.et=function(n){return n&&t.push({policy:n,not:!1}),i};this.pas=function(n){return n&&t.push({policy:n,not:!0}),i};this.CreatePoliciesSuite=function(){for(var r,f=function(t){var i=t;this.applyToTrade=function(t){for(var u=[],r=0;r<i.length;r++)u.push(i[r].build(t));return new n(u)}},u=[],i=0;i<t.length;i++)r=t[i].policy(),t[i].not&&r.not(),u.push(r);return new f(u)}}}).call(this,window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();