(function(){this.jsWCRS648_Vignette=ListesProduits_ContenuElements.jsWCRS645_ContenuElement.extend({_objTemplateStandard:null,_objTemplateMenu:null,_objRendererPlusUnMoinsUn:null,_objRendererAComposer:null,_objLoc:null,_objBarreOutil:null,_objZonePicto:null,_objSelectionVariantes:null,_objGroupeVariante:null,init:function(n,t,i){if(!t)throw"La vignette n'a pas de template";if(!i)throw"La vignette n'a pas de localisation";this._objTemplateStandard=t;this._objLoc=i},avecPlusUnMoinsUn:function(n){return this._objRendererPlusUnMoinsUn=n,this},avecMenu:function(n,t){return this._objTemplateMenu=n,this._objRendererAComposer=t,this},avecAComposer:function(n){return this._objRendererAComposer=n,this},avecBarreOutil:function(n){return this._objBarreOutil=n,this},avecZonePicto:function(n){return this._objZonePicto=n,this},renderElement:function(n,t,i,r){var u=this,o,s,h,c=null,e=[],l,a,v,y,f,p;return i&&e.push(i.recupererOperation(t)),n&&n.objElement&&(u._objRendererPlusUnMoinsUn&&(o=u._objRendererPlusUnMoinsUn.renderElement(n.objElement.iQuantitePanier,n.objElement.iQteDisponible,n.objElement.iQteMaxPanier)),u._objRendererAComposer&&(s=u._objRendererAComposer.renderElement(n.objElement.iQuantitePanier,n.objElement.iQteDisponible,n.objElement.iQteMaxPanier,n.objElement.sUrlPageProduit)),u._objBarreOutil&&(h=u._objBarreOutil.renderElement(n.objElement,u._objLoc)),u._objZonePicto&&(c=u._objZonePicto.renderElement(n.objElement.sId,n.objElement.fGainsBRD))),ListesProduits_ContenuElements.jsWCRS645_ContenuElement.assignUuid(n),l=t?t.renderCss(""):"",n.objElement&&n.objElement.lstIdsProduitsVariantes&&lstTemplates&&this._objBarreOutil?(_objSelectionVariantes=new Interfaces.jsWCRS607_ItfSelectionVariantes(n.objElement),_objGroupeVariante=new Interfaces.jsWCRS605_ItfElementGroupeVariante(n.sUuid,n.objElement,o,h,c,u._objLoc,l,r,s),a=lstTemplates.templateVignetteGroupeVariantes,a&&e.push(a.ExecuteTemplate(_objGroupeVariante)),_objGroupeVariante&&(e.push(_objGroupeVariante.RecupererScriptChoixVariante()),_objGroupeVariante.AbonnerEvenementsPanier())):(f=new Interfaces.ItfElementProduit(n.sUuid,n.objElement,o,h,c,u._objLoc,l,r,s),v=this._objTemplateStandard,(f.eTypeProduit==Interfaces.ItfElementProduit.enuTypeProduit.iACOMPOSER||f.eTypeProduit==Interfaces.ItfElementProduit.enuTypeProduit.iCOMPOSE)&&this._objTemplateMenu&&(v=this._objTemplateMenu),e.push(v.ExecuteTemplate(f)),n.objElement&&n.objElement.niIdGroupeVariantes&&n.objElement.sType=="Produit"&&(y={iIdProduit:n.objElement.niIdGroupeVariantes,sNoPointLivraison:n.objElement.sNoPointLivraison,sIdUnique:"Produit"+n.objElement.niIdGroupeVariantes+"_"+n.objElement.sUuid,iIdRayon:n.objElement.iIdRayon},_objSelectionVariantes=new Interfaces.jsWCRS607_ItfSelectionVariantes(y),e.push(f.RecupererScriptChoixVariante(y)))),t&&(f=n.objElement,p=new ListesProduits_Trade.Place(f.iIdRayon,f.iIdFamille,f.niIdSousFamille,f.sId),t.move(1).at(p)),e.join("")}})}).call(this.ListesProduits_ContenuElements=this.ListesProduits_ContenuElements||{__namespace:!0},window.jQuery);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();