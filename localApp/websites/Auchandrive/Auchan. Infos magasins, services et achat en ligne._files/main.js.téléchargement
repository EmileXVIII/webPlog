webpackJsonp([0,5,6,9,10,11,14,16],[,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(24),r=function(){function t(){i(this,t),t.instance||(this.analyticsContext={},t.instance=this),t.instance}return o(t,[{key:"analyticsInit",value:function(t){if(!t)throw Error("dataLayerName must not be null");this.dataLayerName=t,window[t]=window[t]||[],this._addUserTrackingManagement(),this._dispatchUserContextLoadedEvent()}},{key:"_addUserTrackingManagement",value:function(){var t=a.Context.getUserTrackingManagement();null!=t&&(this._addProperty("source",t.source),this._addProperty("support",t.support),this._addProperty("campaign",t.campaign),this._addProperty("keyword",t.keyword),this._addProperty("content",t.content))}},{key:"_addProperty",value:function(t,e){t&&e&&(this.analyticsContext[t]=e)}},{key:"_dispatchUserContextLoadedEvent",value:function(t){this._addProperty("event",t||"user_info_loaded"),window[this.dataLayerName].push(this.analyticsContext),this.analyticsContext={}}}]),t}(),s=new r;t.exports={Analytics:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.backToTop=void 0;var i=n(1),o=function(t){null!=t&&scrollTo(0,0)},a=function(){(0,i.addEvent)(document,"click",o,".site-footer__backToTop")};(0,i.addEvent)(document,"DOMContentLoaded",a),e.backToTop=o},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initEventSources=void 0;var i=n(1),o=n(0),a=[];G.eventSourceError=0,G.requestUrl=0;var r=function(t){t.matchingTarget.close()},s=function(t){r(t),++G.eventSourceError==G.eventSourceContainer.length&&(0,o.ajaxGet)({url:G.configuration.noResultUrl,success:function(t){c(t)}})},c=function(t){var e=(0,o.qs)(".main-wrapper");null!=e&&(e.innerHTML=t)},u=function(t){t.classList.remove("disabled"),t.setAttribute("aria-hidden",!1),t.setAttribute("aria-expanded",!0);var e=(0,o.closest)(t,".search-block__container");if(e){e.classList.add("active");var n=(0,o.qs)("#"+e.dataset.channel);n&&n.classList.remove("hidden")}},l=function(){(0,i.addEvent)(document,"DOMContentLoaded",function(){G.eventSourceContainer=(0,o.qsAll)(".eventSource__container"),null!=G.eventSourceContainer&&G.eventSourceContainer.forEach(function(t){if(t){var e=t.dataset.url;if(e){var n=new EventSource(e);G.requestUrl++,(0,i.addEvent)(n,"message",function(n){-1===a.indexOf(e)&&(a.push(e),u(t));var i=(new DOMParser).parseFromString(n.data,"text/html");if(i){var o=i.body.firstChild;o&&t.appendChild(o)}}),(0,i.addEvent)(n,"tail",r),(0,i.addEvent)(n,"error",s)}}})})};e.initEventSources=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initInformationMessage=void 0;var i=n(1),o=n(0),a=function(){(0,i.addEvent)(document,"DOMContentLoaded",function(){G.addMessage=function(t,e,n,i,a){var r=(0,o.qs)(".information-message");if(t&&e&&n&&r&&r.classList.contains("hidden")){r.classList.add(e);var s=(0,o.createElement)("div",{class:"information-message__container"}),c=(0,o.createElement)("div",{class:"information-message__icon"}),u=(0,o.createElement)("i",{class:n});c.appendChild(u);var l=(0,o.createElement)("div",{class:"information-message__content"},t);if(s.appendChild(c),s.appendChild(l),r.appendChild(s),i&&a){var d=(0,o.createElement)("a",{class:"information-message__link",href:i}),h=(0,o.createElement)("span",{class:"information-message__link-label"},a),f=(0,o.createElement)("i",{class:"icon-arrowRight"});d.appendChild(h),d.appendChild(f),r.appendChild(d)}r.classList.remove("hidden")}}})};e.initInformationMessage=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initTracking=void 0;var i=n(1),o=n(15),a=function(t){return t&&t.__esModule?t:{default:t}}(o),r=function(){(0,i.addEvent)(document,"DOMContentLoaded",function(){G.tracking=a.default.getInstance("dataLayer",G.configuration.pageType||"")})};e.initTracking=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),s=i(r),c=n(1),u=i(c),l=function(){function t(e,n){o(this,t),this.pageType=n;var i={PRODUCT:"product",PROMOTION:"promotion"};this.ECOMMERCE_TRACK_TYPES=i,window[e]=window[e]||[],this.dataLayer=window[e]}return a(t,null,[{key:"getInstance",value:function(e,n){return this.instance||(this.instance=new t(e,n),this.instance._initTrackingEvents()),this.instance}}]),a(t,[{key:"_initTrackingEvents",value:function(){var t=this;u.default.addEvent(document,"click",function(e){return t._trackClickEvent(e)},"a, button, .track"),u.default.addEvent(document,"submit",function(e){return t._trackFormEvent(e)},"form"),u.default.addEvent(document,"DOMUpdate",function(e){return t._trackDOMUpdateEvent(e)})}},{key:"_trackClickEvent",value:function(t){var e=t.matchingTarget;if(e){var n={},i={};this._getBasicEventInformation(i,e);var o=this._getEcommerceTrackingType(s.default.closest(e,"[data-track-type][data-track-container]"));if(o){var a=null;a="trackElement"in e.dataset?e:s.default.closest(e,"[data-track-element]"),a&&o===this.ECOMMERCE_TRACK_TYPES.PRODUCT&&this._getProductClickInformation(n,a),a&&o===this.ECOMMERCE_TRACK_TYPES.PROMOTION&&this._getPromotionClickInformation(n,a)}this._pushEvent([i],n,t.type)}}},{key:"_trackFormEvent",value:function(t){var e={},n=t.matchingTarget;n&&(this._getBasicEventInformation(e,n),this._getFormEventInformation(e,n),this._pushEvent([e],{},t.type))}},{key:"_trackDOMUpdateEvent",value:function(t){var e=t.detail;e&&this.trackDOMUpdateElements(e)}},{key:"trackDOMUpdateElements",value:function(t){if(t){var e=t.parentNode||t,n=s.default.qsAll("[data-track-container]",{parent:e});if(n.length){var i=[],o={},a=!0,r=!1,c=void 0;try{for(var u,l=n[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var d=u.value,h={};this._getBasicEventInformation(h,d);var f=s.default.qsAll("[data-track-element]",{parent:d});if(f.length){var v=this._getEcommerceTrackingType(d);h.children=[];var p=!0,g=!1,m=void 0;try{for(var y,k=f[Symbol.iterator]();!(p=(y=k.next()).done);p=!0){var _=y.value,T=s.default.extend({},_.dataset);h.children.push(T),v&&(v===this.ECOMMERCE_TRACK_TYPES.PRODUCT&&this._getProductImpressionInformation(o,_),v===this.ECOMMERCE_TRACK_TYPES.PROMOTION&&this._getPromotionImpressionInformation(o,_))}}catch(t){g=!0,m=t}finally{try{!p&&k.return&&k.return()}finally{if(g)throw m}}}i.push(h)}}catch(t){r=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(r)throw c}}this._pushEvent(i,o,"DOMUpdate")}}}},{key:"_pushEvent",value:function(t,e,n){this.dataLayer&&this.dataLayer.push({event:"analytics","event-page":this.pageType,"event-type":n,"event-information":t,ecommerce:e})}},{key:"_getBasicEventInformation",value:function(t,e){var n={trackingAction:void 0,trackingCategory:void 0,trackingEvent:void 0,trackingLabel:void 0};if(e&&t){t.label=e.dataset.trackingLabel||e.innerText,n.trackingAction=this._getDataAreaElement(e),t.area=[],n=s.default.extend({},e.dataset);for(var i=this._getDataAreaElement(e);i;)t.area.unshift(i.dataset.area),n=s.default.extend(n,i.dataset),i="areaParent"in i.dataset&&"false"===i.dataset.areaParent?null:this._getDataAreaElement(i);t.dataset=n}return t}},{key:"_getProductImpressionInformation",value:function(t,e){if(e&&t){var n={};n.id=this._getProductId(e),n.position=this._getPosition(e),n.list=this._getArea(e),t.impressions=t.impressions||[],t.impressions.push(n)}return t}},{key:"_getProductClickInformation",value:function(t,e){if(e&&t){var n={};n.id=this._getProductId(e),n.position=this._getPosition(e);var i={};i.list=this._getArea(e),t.click=t.click||{},t.click.products=t.click.products||[],t.click.products.push(n),t.click.actionField=i}return t}},{key:"_getPromotionImpressionInformation",value:function(t,e){if(e&&t){var n={};n.id=this._getPromotionId(e),n.name=this._getTrackingLabel(e),n.position=this._getArea(e),t.promoView=t.promoView||{},t.promoView.promotions=t.promoView.promotions||[],t.promoView.promotions.push(n)}return t}},{key:"_getPromotionClickInformation",value:function(t,e){if(e&&t){var n={};n.id=this._getPromotionId(e),n.name=this._getTrackingLabel(e),n.position=this._getArea(e),t.promoClick=t.promoClick||{},t.promoClick.promotions=t.promoClick.promotions||[],t.promoClick.promotions.push(n)}return t}},{key:"_getFormEventInformation",value:function(t,e){if(e&&t){var n=[].filter.call(e.elements,function(t){return("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&"password"!==t.type}).filter(function(t){return t.name&&!("doNotTrack"in t.dataset)}).map(function(t){return{type:t.getAttribute("type"),name:t.getAttribute("name"),value:t.value}});t.form=n}return t}},{key:"_getEcommerceTrackingType",value:function(t){if(t&&"trackType"in t.dataset){var e=t.dataset.trackType;if(e){if("product"===e)return this.ECOMMERCE_TRACK_TYPES.PRODUCT;if("promotion"===e)return this.ECOMMERCE_TRACK_TYPES.PROMOTION}}return null}},{key:"_getProductId",value:function(t){return t&&"productId"in t.dataset?t.dataset.productId:null}},{key:"_getPromotionId",value:function(t){return t&&"promotionId"in t.dataset?t.dataset.promotionId:null}},{key:"_getTrackingLabel",value:function(t){return t&&"trackingLabel"in t.dataset?t.dataset.trackingLabel:null}},{key:"_getPosition",value:function(t){return t&&"position"in t.dataset?t.dataset.position:null}},{key:"_getArea",value:function(t){var e=this._getDataAreaElement(t);if(e&&"area"in e.dataset)return e.dataset.area}},{key:"_getDataAreaElement",value:function(t){return t?s.default.closest(t,"[data-area]"):null}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.eventSourcesBlocks=void 0;var i=n(1),o=n(0);G.blocks=[];var a=function(t){if(t.matchingTarget.close(),t.matchingTarget.listBlockEls){var e="",n=!0,i=!1,o=void 0;try{for(var a,r=t.matchingTarget.listBlockEls[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){e+=a.value.outerHTML}}catch(t){i=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw o}}G.tracking.trackDOMUpdateElements((new DOMParser).parseFromString(e,"text/html"))}},r=function(t){if(t.data&&G.blocks){t.matchingTarget.listBlockEls=t.matchingTarget.listBlockEls||[];var e=JSON.parse(t.data);G.blocks.forEach(function(n){n.forEach(function(n){"spaceId"in n.dataset&&n.dataset.spaceId===e.spaceId&&(n.innerHTML=e.htmlContent,t.matchingTarget.listBlockEls.push(n))})})}},s=function(t){var e=new EventSource(t);(0,i.addEvent)(e,"error",a),(0,i.addEvent)(e,"tail",a),(0,i.addEvent)(e,"message",r)},c=function(){(0,i.addEvent)(document,"DOMContentLoaded",function(){G.mediaBlocks=(0,o.qsAll)(".media__container"),G.mediaBlocks&&G.configuration.mediaUrl&&(G.blocks.push(G.mediaBlocks),s(G.configuration.mediaUrl)),G.recommendationBlocks=(0,o.qsAll)(".product-recommendation__container"),G.recommendationBlocks&&G.configuration.productRecommendationUrl&&(G.blocks.push(G.recommendationBlocks),s(G.configuration.productRecommendationUrl))})};e.eventSourcesBlocks=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initSso=void 0;var i=n(18),o=n(1),a=function(){(0,o.addEvent)(document,"DOMContentLoaded",function(){i.SingleSignOn.configure(G.configuration.applicationName,{contextPath:G.configuration.contextPath,onValidateAuthTokenSuccess:function(){return r()},onLogout:function(){return location.reload()},validateSsoTokenUrl:G.configuration.validateSsoTokenUrl,cookieDomain:G.configuration.cookieDomain})})},r=function(){"drive-prehome"!==G.configuration.pageType&&"store-locator"!==G.configuration.pageType&&location.reload()};e.initSso=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),r=function(){function t(){return i(this,t),window.A=window.A||{},window.A.SingleSignOnInstance||(this.APPLICATION_NAME_PATTERN=/^[a-zA-Z]{1}[a-zA-Z0-9]+$/g,this.VALIDATE_AUTH_TOKEN_METHODS={AJAX:1,WEB_FILTER:2},this._defaultConfig={ssoCookieSuffix:"_sso",noSsoCookieSuffix:"_noSso",ssoAuthCookieSuffix:"_ssoAuth",validateSsoTokenUrl:"https://api-qlf.auchan.net/websso/",validateAuthTokenUrlSuffix:"/sso/validateAuthToken/",ssoStatusUrlSuffix:"/sso/status",extendSsoTokenOnStatusCall:!1,validateAuthTokenMethod:this.VALIDATE_AUTH_TOKEN_METHODS.AJAX,contextPath:"/",cookieDomain:"",onValidateAuthTokenSuccess:null,onValidateSsoTokenSuccess:null,onLogout:null},window.A.SingleSignOnInstance=this),window.A.SingleSignOnInstance}return o(t,[{key:"_getApplicationName",value:function(){if(!this.applicationName)throw new Error("SingleSignOn as not been initialized");return this.applicationName}},{key:"_handleCurrentRequest",value:function(){var t=this._getApplicationName()+this.config.ssoCookieSuffix,e=(0,a.getCookie)(t);null!=e?(this._validateSsoToken(e,this.config.onValidateSsoTokenSuccess),(0,a.removeCookie)(t,{path:this.config.contextPath,domain:this.config.cookieDomain})):this._getSsoStatus()}},{key:"_validateSsoToken",value:function(t,e){var n={"Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Headers":"ssotoken,Set-Cookie","Access-Control-Allow-Methods":"GET"};null!=t&&(n.ssotoken=t),(0,a.ajaxGet)({url:this.config.validateSsoTokenUrl,dataType:"json",headers:n,xhrFields:{withCredentials:!0},crossDomain:!0,success:e})}},{key:"_getSsoStatus",value:function(){var t=this;(null==(0,a.getCookie)(this._getApplicationName()+this.config.noSsoCookieSuffix)||document.referrer&&!document.referrer.startsWith(location.origin))&&(0,a.ajaxGet)({dataType:"json",url:this._getContextualizedUrl(this.config.ssoStatusUrlSuffix),data:{extendSsoToken:this.config.extendSsoTokenOnStatusCall},success:function(e){null!=e&&((0,a.isTrue)(e.logout)&&"function"==typeof t.config.onLogout?t.config.onLogout.call():(0,a.isTrue)(e.logout)||(0,a.isTrue)(e.authenticated)||t._validateSsoToken(null,function(e){return t._validateAuthToken(e)}))}})}},{key:"_getContextualizedUrl",value:function(t){return this._getContextPath()+(this._getContextPath().endsWith("/")?"":"/")+this._getApplicationName()+t}},{key:"_getContextPath",value:function(){return this.config.contextPath?this.config.contextPath:this._defaultConfig.contextPath}},{key:"_validateAuthToken",value:function(t){var e=this;null!=t&&(this.VALIDATE_AUTH_TOKEN_METHODS.WEB_FILTER==this.config.validateAuthTokenMethod?((0,a.addCookie)(this._getApplicationName()+this.config.ssoAuthCookieSuffix,t.authToken,{maxAge:0,path:this.config.contextPath,domain:this.config.cookieDomain}),"function"==typeof this.config.onValidateAuthTokenSuccess&&this.config.onValidateAuthTokenSuccess.call()):this.VALIDATE_AUTH_TOKEN_METHODS.AJAX==this.config.validateAuthTokenMethod&&(0,a.ajaxGet)({url:this._getContextualizedUrl(this.config.validateAuthTokenUrlSuffix+t.authToken),success:function(t){(0,a.isTrue)(t)&&"function"==typeof e.config.onValidateAuthTokenSuccess&&e.config.onValidateAuthTokenSuccess.call()}}))}},{key:"configure",value:function(t,e){if(t&&null==t.match(this.APPLICATION_NAME_PATTERN))throw new Error("Invalid application name : Application name should match /^[a-zA-Z]{1}[a-zA-Z0-9]+$/g");this.config=(0,a.extend)(this._defaultConfig,e),this.VALIDATE_AUTH_TOKEN_METHODS.WEB_FILTER==this.config.validateAuthTokenMethod&&"function"!=typeof this.config.onValidateAuthTokenSuccess&&(this.config.onValidateAuthTokenSuccess=function(){return location.reload()}),this.applicationName=t,this._handleCurrentRequest()}}]),t}(),s=new r;t.exports={SingleSignOn:s}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}n(48);var o=n(14),a=(n(29),n(49)),r=(i(a),n(16)),s=(n(7),n(30)),c=n(12),u=n(13),l=n(50),d=i(l),h=n(6),f=n(17);(0,r.eventSourcesBlocks)(),(0,s.initSearch)(),(0,o.initTracking)();new d.default;(0,c.initEventSources)(),(0,u.initInformationMessage)(),h.Analytics.analyticsInit("dataLayer"),(0,f.initSso)()},function(t,e){},function(t,e,n){"use strict";/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
!function(t){function e(t){this.withCredentials=!1,this.responseType="",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=p,this.onreadystatechange=p,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=p}function n(t){this._xhr=new e(t)}function i(){this._listeners=Object.create(null)}function o(t){u(function(){throw t},0)}function a(t){this.type=t,this.target=void 0}function r(t,e){a.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function s(t,e){i.call(this),this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this._close=void 0,c(this,t,e)}function c(t,e,i){e=String(e);var s=void 0!=i&&Boolean(i.withCredentials),c=O(1e3),f=void 0!=i&&void 0!=i.heartbeatTimeout?w(i.heartbeatTimeout,45e3):O(45e3),v="",p=c,x=!1,P=void 0!=i&&void 0!=i.headers?JSON.parse(JSON.stringify(i.headers)):void 0,R=void 0!=i&&void 0!=i.Transport?i.Transport:void 0!=h?h:d,M=new n(new R),I=0,H=g,L="",D="",U="",N="",G=T,j=0,B=0,q=function(e,n,i){if(H===m)if(200===e&&void 0!=i&&S.test(i)){H=y,x=!0,p=c,t.readyState=y;var r=new a("open");t.dispatchEvent(r),b(t,t.onopen,r)}else{var s="";200!==e?(n&&(n=n.replace(/\s+/g," ")),s="EventSource's response has a status "+e+" "+n+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(void 0==i?"-":i.replace(/\s+/g," "))+". Aborting the connection.",o(new Error(s)),K();var r=new a("error");t.dispatchEvent(r),b(t,t.onerror,r)}},V=function(e){if(H===y){for(var n=-1,i=0;i<e.length;i+=1){var o=e.charCodeAt(i);o!=="\n".charCodeAt(0)&&o!=="\r".charCodeAt(0)||(n=i)}var a=(-1!==n?N:"")+e.slice(0,n+1);N=(-1===n?N:"")+e.slice(n+1),""!==a&&(x=!0);for(var s=0;s<a.length;s+=1){var o=a.charCodeAt(s);if(G===_&&o==="\n".charCodeAt(0))G=T;else if(G===_&&(G=T),o==="\r".charCodeAt(0)||o==="\n".charCodeAt(0)){if(G!==T){G===E&&(B=s+1);var d=a.slice(j,B-1),h=a.slice(B+(B<s&&a.charCodeAt(B)===" ".charCodeAt(0)?1:0),s);"data"===d?(L+="\n",L+=h):"id"===d?D=h:"event"===d?U=h:"retry"===d?(c=w(h,c),p=c):"heartbeatTimeout"===d&&(f=w(h,f),0!==I&&(l(I),I=u(function(){z()},f)))}if(G===T){if(""!==L){v=D,""===U&&(U="message");var g=new r(U,{data:L.slice(1),lastEventId:D});if(t.dispatchEvent(g),"message"===U&&b(t,t.onmessage,g),H===k)return}L="",U=""}G=o==="\r".charCodeAt(0)?_:T}else G===T&&(j=s,G=E),G===E?o===":".charCodeAt(0)&&(B=s+1,G=A):G===A&&(G=C)}}},F=function(){if(H===y||H===m){H=g,0!==I&&(l(I),I=0),I=u(function(){z()},p),p=O(Math.min(16*c,2*p)),t.readyState=m;var e=new a("error");t.dispatchEvent(e),b(t,t.onerror,e)}},K=function(){H=k,M.cancel(),0!==I&&(l(I),I=0),t.readyState=k},z=function t(){if(I=0,H!==g)return void(x?(x=!1,I=u(function(){t()},f)):(o(new Error("No activity within "+f+" milliseconds. Reconnecting.")),M.cancel()));x=!1,I=u(function(){t()},f),H=m,L="",U="",D=v,N="",j=0,B=0,G=T;var n=e;"data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&(n=e+(-1===e.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(v));var i={};if(i.Accept="text/event-stream",void 0!=P)for(var a in P)Object.prototype.hasOwnProperty.call(P,a)&&(i[a]=P[a]);try{M.open(q,V,F,n,s,i)}catch(t){throw K(),t}};t.url=e,t.readyState=m,t.withCredentials=s,t._close=K,z()}var u=t.setTimeout,l=t.clearTimeout,d=t.XMLHttpRequest,h=t.XDomainRequest,f=t.EventSource,v=t.document;null==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var p=function(){};e.prototype.open=function(t,e){this._abort(!0);var n=this,i=this._xhr,o=1,a=0;this._abort=function(t){0!==n._sendTimeout&&(l(n._sendTimeout),n._sendTimeout=0),1!==o&&2!==o&&3!==o||(o=4,i.onload=p,i.onerror=p,i.onabort=p,i.onprogress=p,i.onreadystatechange=p,i.abort(),0!==a&&(l(a),a=0),t||(n.readyState=4,n.onreadystatechange())),o=0};var r=function(){if(1===o){var t=0,e="",a=void 0;if("contentType"in i)t=200,e="OK",a=i.contentType;else try{t=i.status,e=i.statusText,a=i.getResponseHeader("Content-Type")}catch(n){t=0,e="",a=void 0}0!==t&&(o=2,n.readyState=2,n.status=t,n.statusText=e,n._contentType=a,n.onreadystatechange())}},s=function(){if(r(),2===o||3===o){o=3;var t="";try{t=i.responseText}catch(t){}n.readyState=3,n.responseText=t,n.onprogress()}},c=function(){s(),1!==o&&2!==o&&3!==o||(o=4,0!==a&&(l(a),a=0),n.readyState=4,n.onreadystatechange())},h=function(){void 0!=i&&(4===i.readyState?c():3===i.readyState?s():2===i.readyState&&r())},f=function t(){a=u(function(){t()},500),3===i.readyState&&s()};i.onload=c,i.onerror=c,i.onabort=c,"sendAsBinary"in d.prototype||"mozAnon"in d.prototype||(i.onprogress=s),i.onreadystatechange=h,"contentType"in i&&(e+=(-1===e.indexOf("?",0)?"?":"&")+"padding=true"),i.open(t,e,!0),"readyState"in i&&(a=u(function(){f()},0))},e.prototype.abort=function(){this._abort(!1)},e.prototype.getResponseHeader=function(t){return this._contentType},e.prototype.setRequestHeader=function(t,e){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(t,e)},e.prototype.send=function(){if(!("ontimeout"in d.prototype)&&void 0!=v&&void 0!=v.readyState&&"complete"!==v.readyState){var t=this;return void(t._sendTimeout=u(function(){t._sendTimeout=0,t.send()},4))}var e=this._xhr;e.withCredentials=this.withCredentials,e.responseType=this.responseType;try{e.send(void 0)}catch(t){throw t}},n.prototype.open=function(t,e,n,i,o,a){var r=this._xhr;r.open("GET",i);var s=0;r.onprogress=function(){var t=r.responseText,n=t.slice(s);s+=n.length,e(n)},r.onreadystatechange=function(){if(2===r.readyState){var e=r.status,i=r.statusText,o=r.getResponseHeader("Content-Type");t(e,i,o)}else 4===r.readyState&&n()},r.withCredentials=o,r.responseType="text";for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&r.setRequestHeader(c,a[c]);r.send()},n.prototype.cancel=function(){this._xhr.abort()},i.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(void 0!=e)for(var n=e.length,i=0;i<n;i+=1){var a=e[i];try{"function"==typeof a.handleEvent?a.handleEvent(t):a.call(this,t)}catch(t){o(t)}}},i.prototype.addEventListener=function(t,e){t=String(t);var n=this._listeners,i=n[t];void 0==i&&(i=[],n[t]=i);for(var o=!1,a=0;a<i.length;a+=1)i[a]===e&&(o=!0);o||i.push(e)},i.prototype.removeEventListener=function(t,e){t=String(t);var n=this._listeners,i=n[t];if(void 0!=i){for(var o=[],a=0;a<i.length;a+=1)i[a]!==e&&o.push(i[a]);0===o.length?delete n[t]:n[t]=o}},r.prototype=Object.create(a.prototype);var g=-1,m=0,y=1,k=2,_=-1,T=0,E=1,A=2,C=3,S=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,w=function(t,e){var n=parseInt(t,10);return n!==n&&(n=e),O(n)},O=function(t){return Math.min(Math.max(t,1e3),18e6)},b=function(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(t){o(t)}};s.prototype=Object.create(i.prototype),s.prototype.CONNECTING=m,s.prototype.OPEN=y,s.prototype.CLOSED=k,s.prototype.close=function(){this._close()},s.CONNECTING=m,s.OPEN=y,s.CLOSED=k,s.prototype.withCredentials=void 0,t.EventSourcePolyfill=s,t.NativeEventSource=f,void 0==d||void 0!=f&&"withCredentials"in f.prototype||(t.EventSource=s)}("undefined"!=typeof window?window:void 0)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),r=n(1),s=function(t){return t&&t.__esModule?t:{default:t}}(r),c=n(51),u=function(){function t(){var e=this;if(i(this,t),!t.instance){if(this.cookies={},this.cookies.hamonCookie="auchan.hamon",this.cookies.consentCookie="auchan.consentCookie",this.tmpCookieName="tmpHamonCookie",this.HASH_PREFIX="revalidate=",this.expiresDays=33696e3,this.oneDay=86400,c.HashManager.addHandler(this.HASH_PREFIX,function(t,n){return e._handleHashChange(t,n)}),null==(0,a.getCookie)(this.cookies.consentCookie)){if(null!=(0,a.getCookie)(this.tmpCookieName))(0,a.addCookie)(this.cookies.hamonCookie,1,{maxAge:this.expiresDays}),(0,a.addCookie)(this.cookies.consentCookie,3,{maxAge:this.expiresDays}),(0,a.removeCookie)(this.tmpCookieName);else{var n=(0,a.qs)(".consent-cookie");null!=n&&n.classList.add("open"),(0,a.addCookie)(this.tmpCookieName,"tmp",{maxAge:this.oneDay})}s.default.addEvent(document,"click",function(){return e._handleCloseCookieBannerClick()},".consent-cookie__close")}t.instance=this}return t.instance}return o(t,[{key:"_handleCloseCookieBannerClick",value:function(){var t=(0,a.qs)(".consent-cookie");null!=t&&t.classList.remove("open")}},{key:"_handleHashChange",value:function(t,e){null!=e&&((0,a.removeCookie)(this.cookies.hamonCookie),(0,a.removeCookie)(this.cookies.consentCookie),(0,a.removeCookie)(this.tmpCookieName))}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),s=i(r),c=n(0),u=i(c),l=function(){function t(){var e=this;return o(this,t),t.instance||(this.SEPARATOR="&",this.COMPARATOR="=",this.HASH_URI_SEPARATOR="#",this.HASH_REGEX=/.*#(.*)$/,this.handlers=[],this.awaitingActions=[],this.handledActions=[],this.defaultSettings={onAddOnly:!1},this._handleInitialHash(),s.default.addEvent(window,"hashchange",function(t){return e._handleHashChange(t)}),t.instance=this),t.instance}return a(t,[{key:"addHashToURL",value:function(t,e,n){if(null!==t){var i=this._buildHash(e);if(null!==i){var o=t.indexOf(this.HASH_URI_SEPARATOR);return-1!=o&&u.default.isTrue(n)&&(t=t.substr(0,o)),t+(-1==o||u.default.isTrue(n)?this.HASH_URI_SEPARATOR:this.SEPARATOR)+i}}}},{key:"addHash",value:function(t){var e=this._buildHash(t);null!==e&&(window.location.hash=e)}},{key:"_buildHash",value:function(t){return null!==t?Array.isArray(t)?t.join(this.SEPARATOR):t:null}},{key:"removeHash",value:function(t,e){var n=this,i=location.hash.slice(1);if(""!==i&&""!==t){var o="";i.split(this.SEPARATOR).forEach(function(i){var a=void 0;null!==(a=e?i:i.split(n.COMPARATOR)[1])&&a!==t&&(o+=""!==o?n.SEPARATOR+i:i)}),window.location.hash=o}}},{key:"removeAllHash",value:function(){"pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}},{key:"_addActionsToWaitingList",value:function(t,e){if(null!==t&&t.length>0)for(var n=0;n<t.length;n++){var i=e.indexOf(t[n]);-1==i&&-1==this.awaitingActions.indexOf(t[n])?this.awaitingActions.push(t[n]):-1!=i&&e.splice(i,1)}}},{key:"_cleanupHandledActions",value:function(t){if(null!==t&&t.length>0)for(var e=0;e<t.length;e++){var n=this.handledActions.indexOf(t[e]);if(-1!=n){this.handledActions.splice(n,1);var i=this._getHandlerForAction(t[e]);null!==i&&i.callback.call(null,t[e],!1)}}}},{key:"_getHandlerForAction",value:function(t){if(null!==t){var e=this.handlers.filter(function(e){return t.startsWith(e.prefix)});if(e.length>0)return e[0]}return null}},{key:"_triggerHandlers",value:function(){var t=this;if(this.awaitingActions.length>0){var e=[];this.awaitingActions.forEach(function(n){var i=t._getHandlerForAction(n);null!==i&&(e.push(n),i.callback.call(null,n.replace(i.prefix,""),!0))}),e.forEach(function(e){-1!=t.awaitingActions.indexOf(e)&&t.awaitingActions.splice(t.awaitingActions.indexOf(e),1),t.handledActions.push(e)})}}},{key:"_handleHashChange",value:function(t){var e=t.oldURL.match(this.HASH_REGEX),n=t.newURL.match(this.HASH_REGEX),i=[],o=[];e&&(i=e[1].split(this.SEPARATOR)),n&&(o=n[1].split(this.SEPARATOR)),this._addActionsToWaitingList(o,i),this._cleanupHandledActions(i),this._triggerHandlers()}},{key:"addHandler",value:function(t,e,n){if(null!==t&&"function"==typeof e){var i=u.default.extend(this.defaultSettings,n);this.handlers.push({prefix:t,callback:e}),this._triggerHandlers(),u.default.isTrue(i.onAddOnly)&&this.removeHandler(t)}}},{key:"removeHandler",value:function(t){if(null!==t){var e=this.handlers.filter(function(e){return e.prefix===t});e.length>0&&e.forEach(function(t){this.handlers=this.handlers.slice(this.handlers.indexOf(t),1)})}}},{key:"_handleInitialHash",value:function(){var t=window.location.hash;if(t.length>0){var e=new CustomEvent("hashchange"),n=window.location.href;e.oldURL=n.substring(0,n.length-t.length),e.newURL=n,this._handleHashChange(e)}}}]),t}(),d=new l;Object.freeze(d),t.exports={HashManager:d}}],[47]);